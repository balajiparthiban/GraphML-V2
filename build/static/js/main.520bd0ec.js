/*! For license information please see main.520bd0ec.js.LICENSE.txt */
!function(){var e={110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(m){var i=d(n);i&&i!==m&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),p=u(n),v=0;v<o.length;++v){var g=o[v];if(!a[g]&&(!r||!r[g])&&(!p||!p[g])&&(!s||!s[g])){var y=h(n,g);try{c(t,g,y)}catch(_){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,p=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function k(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case v:case p:case u:return e;default:return t}}case i:return t}}}function C(e){return k(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=v,t.Memo=p,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return C(e)||k(e)===l},t.isConcurrentMode=C,t.isContextConsumer=function(e){return k(e)===c},t.isContextProvider=function(e){return k(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return k(e)===h},t.isFragment=function(e){return k(e)===a},t.isLazy=function(e){return k(e)===v},t.isMemo=function(e){return k(e)===p},t.isPortal=function(e){return k(e)===i},t.isProfiler=function(e){return k(e)===s},t.isStrictMode=function(e){return k(e)===o},t.isSuspense=function(e){return k(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===p||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===_||e.$$typeof===b||e.$$typeof===g)},t.typeOf=k},309:function(e,t,n){"use strict";e.exports=n(746)},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,s,u=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(u[l]=o[l]);if(t){s=t(o);for(var f=0;f<s.length;f++)r.call(o,s[f])&&(u[s[f]]=o[s[f]])}}return u}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,m={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function _(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(m,e)&&(h.test(e)?p[e]=!0:(m[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,_);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,_);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,_);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=60103,w=60106,x=60107,S=60108,E=60114,T=60109,P=60110,I=60112,L=60113,A=60120,N=60115,D=60116,R=60121,O=60128,M=60129,j=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var V=Symbol.for;C=V("react.element"),w=V("react.portal"),x=V("react.fragment"),S=V("react.strict_mode"),E=V("react.profiler"),T=V("react.provider"),P=V("react.context"),I=V("react.forward_ref"),L=V("react.suspense"),A=V("react.suspense_list"),N=V("react.memo"),D=V("react.lazy"),R=V("react.block"),V("react.scope"),O=V("react.opaque.id"),M=V("react.debug_trace_mode"),j=V("react.offscreen"),F=V("react.legacy_hidden")}var U,z="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}function W(e){if(void 0===U)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var H=!1;function q(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?W(e):""}function G(e){switch(e.tag){case 5:return W(e.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return e=q(e.type,!1);case 11:return e=q(e.type.render,!1);case 22:return e=q(e.type._render,!1);case 1:return e=q(e.type,!0);default:return""}}function Y(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case w:return"Portal";case E:return"Profiler";case S:return"StrictMode";case L:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case N:return Y(e.type);case R:return Y(e._render);case D:t=e._payload,e=e._init;try{return Y(e(t))}catch(n){}}return null}function K(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Z(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ce(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function me(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,ve,ge=(ve=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var _e={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function ke(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||_e.hasOwnProperty(e)&&_e[e]?(""+t).trim():t+"px"}function Ce(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ke(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(_e).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_e[t]=_e[e]}))}));var we=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(we[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Pe=null,Ie=null;function Le(e){if(e=ri(e)){if("function"!==typeof Te)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Te(e.stateNode,e.type,t))}}function Ae(e){Pe?Ie?Ie.push(e):Ie=[e]:Pe=e}function Ne(){if(Pe){var e=Pe,t=Ie;if(Ie=Pe=null,Le(e),t)for(e=0;e<t.length;e++)Le(t[e])}}function De(e,t){return e(t)}function Re(e,t,n,r,i){return e(t,n,r,i)}function Oe(){}var Me=De,je=!1,Fe=!1;function Ve(){null===Pe&&null===Ie||(Oe(),Ne())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var ze=!1;if(f)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(ve){ze=!1}function We(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var He=!1,qe=null,Ge=!1,Ye=null,Ke={onError:function(e){He=!0,qe=e}};function Qe(e,t,n,r,i,a,o,s,u){He=!1,qe=null,We.apply(Ke,arguments)}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ze(e){if(Xe(e)!==e)throw Error(o(188))}function $e(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ze(i),e;if(a===r)return Ze(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,ut=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function vt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=mt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ni(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function _t(e,t,n){yt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&yt(st)&&(st=null),null!==ut&&yt(ut)&&(ut=null),null!==ct&&yt(ct)&&(ct=null),lt.forEach(_t),ft.forEach(_t)}function kt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function Ct(e){function t(t){return kt(t,e)}if(0<ot.length){kt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&kt(st,e),null!==ut&&kt(ut,e),null!==ct&&kt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)gt(n),null===n.blockedOn&&ht.shift()}function wt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xt={animationend:wt("Animation","AnimationEnd"),animationiteration:wt("Animation","AnimationIteration"),animationstart:wt("Animation","AnimationStart"),transitionend:wt("Transition","TransitionEnd")},St={},Et={};function Tt(e){if(St[e])return St[e];if(!xt[e])return e;var t,n=xt[e];for(t in n)if(n.hasOwnProperty(t)&&t in Et)return St[e]=n[t];return e}f&&(Et=document.createElement("div").style,"AnimationEvent"in window||(delete xt.animationend.animation,delete xt.animationiteration.animation,delete xt.animationstart.animation),"TransitionEvent"in window||delete xt.transitionend.transition);var Pt=Tt("animationend"),It=Tt("animationiteration"),Lt=Tt("animationstart"),At=Tt("transitionend"),Nt=new Map,Dt=new Map,Rt=["abort","abort",Pt,"animationEnd",It,"animationIteration",Lt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",At,"transitionEnd","waiting","waiting"];function Ot(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Dt.set(r,t),Nt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function jt(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=jt(u),i=Mt):0!==(s&=a)&&(r=jt(s),i=Mt)}else 0!==(a=n&~o)?(r=jt(a),i=Mt):0!==s&&(r=jt(s),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(jt(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ht(t)),r|=e[n],t&=~i;return r}function Vt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?Ut(10,t):e;case 10:return 0===(e=zt(192&~t))?Ut(8,t):e;case 8:return 0===(e=zt(3584&~t))&&(0===(e=zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function zt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Wt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(qt(e)/Gt|0)|0},qt=Math.log,Gt=Math.LN2;var Yt=a.unstable_UserBlockingPriority,Kt=a.unstable_runWithPriority,Qt=!0;function Xt(e,t,n,r){je||Oe();var i=Zt,a=je;je=!0;try{Re(i,e,t,n,r)}finally{(je=a)||Ve()}}function Jt(e,t,n,r){Kt(Yt,Zt.bind(null,e,t,n,r))}function Zt(e,t,n,r){var i;if(Qt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=mt(null,e,t,n,r),ot.push(e);else{var a=$t(e,t,n,r);if(null===a)i&&pt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=mt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=vt(st,e,t,n,r,i),!0;case"dragenter":return ut=vt(ut,e,t,n,r,i),!0;case"mouseover":return ct=vt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,vt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,vt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;pt(e,r)}Or(e,t,r,null,n)}}}function $t(e,t,n,r){var i=Ee(r);if(null!==(i=ni(i))){var a=Xe(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Je(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Or(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(hn),mn=i({},hn,{view:0,detail:0}),pn=un(mn),vn=i({},mn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=un(vn),yn=un(i({},vn,{dataTransfer:0})),_n=un(i({},mn,{relatedTarget:0})),bn=un(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),kn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cn=un(kn),wn=un(i({},hn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Pn(){return Tn}var In=i({},mn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ln=un(In),An=un(i({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=un(i({},mn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pn})),Dn=un(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=i({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=un(Rn),Mn=[9,13,27,32],jn=f&&"CompositionEvent"in window,Fn=null;f&&"documentMode"in document&&(Fn=document.documentMode);var Vn=f&&"TextEvent"in window&&!Fn,Un=f&&(!jn||Fn&&8<Fn&&11>=Fn),zn=String.fromCharCode(32),Bn=!1;function Wn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ae(r),0<(t=jr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,Xn=null;function Jn(e){Ir(e,0)}function Zn(e){if(J(ii(e)))return e}function $n(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Qn&&(Qn.detachEvent("onpropertychange",ar),Xn=Qn=null)}function ar(e){if("value"===e.propertyName&&Zn(Xn)){var t=[];if(Kn(t,Xn,e,Ee(e)),e=Jn,je)e(t);else{je=!0;try{De(e,t)}finally{je=!1,Ve()}}}}function or(e,t,n){"focusin"===e?(ir(),Xn=n,(Qn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Xn)}function ur(e,t){if("click"===e)return Zn(t)}function cr(e,t){if("input"===e||"change"===e)return Zn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function pr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vr(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=f&&"documentMode"in document&&11>=document.documentMode,_r=null,br=null,kr=null,Cr=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Cr||null==_r||_r!==Z(r)||("selectionStart"in(r=_r)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},kr&&hr(kr,r)||(kr=r,0<(r=jr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=_r)))}Ot("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ot("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ot(Rt,2);for(var xr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<xr.length;Sr++)Dt.set(xr[Sr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Er));function Pr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Qe.apply(this,arguments),He){if(!He)throw Error(o(198));var l=qe;He=!1,qe=null,Ge||(Ge=!0,Ye=l)}}(r,t,void 0,e),e.currentTarget=null}function Ir(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Pr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Pr(i,s,c),a=u}}}if(Ge)throw e=Ye,Ge=!1,Ye=null,e}function Lr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Rr(t,e,2,!1),n.add(r))}var Ar="_reactListening"+Math.random().toString(36).slice(2);function Nr(e){e[Ar]||(e[Ar]=!0,s.forEach((function(t){Tr.has(t)||Dr(t,!1,e,null),Dr(t,!0,e,null)})))}function Dr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Rr(a,e,i,t),o.add(s))}function Rr(e,t,n,r){var i=Dt.get(t);switch(void 0===i?2:i){case 0:i=Xt;break;case 1:i=Jt;break;default:i=Zt}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Or(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ni(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Me(e,t,n)}finally{Fe=!1,Ve()}}((function(){var r=a,i=Ee(n),o=[];e:{var s=Nt.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=Ln;break;case"focusin":c="focus",u=_n;break;case"focusout":c="blur",u=_n;break;case"beforeblur":case"afterblur":u=_n;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Pt:case It:case Lt:u=bn;break;case At:u=Dn;break;case"scroll":u=pn;break;case"wheel":u=On;break;case"copy":case"cut":case"paste":u=Cn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=An}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,m=r;null!==m;){var p=(d=m).stateNode;if(5===d.tag&&null!==p&&(d=p,null!==h&&(null!=(p=Ue(m,h))&&l.push(Mr(m,p,d)))),f)break;m=m.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Xe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=gn,p="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(l=An,p="onPointerLeave",h="onPointerEnter",m="pointer"),f=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(p,m+"leave",u,n,i)).target=f,s.relatedTarget=d,p=null,ni(i)===r&&((l=new l(h,m+"enter",c,n,i)).target=d,l.relatedTarget=f,p=l),f=p,u&&c)e:{for(h=c,m=0,d=l=u;d;d=Fr(d))m++;for(d=0,p=h;p;p=Fr(p))d++;for(;0<m-d;)l=Fr(l),m--;for(;0<d-m;)h=Fr(h),d--;for(;m--;){if(l===h||null!==h&&l===h.alternate)break e;l=Fr(l),h=Fr(h)}l=null}else l=null;null!==u&&Vr(o,s,u,l,!1),null!==c&&null!==f&&Vr(o,f,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=$n;else if(Yn(s))if(er)v=cr;else{v=sr;var g=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=ur);switch(v&&(v=v(e,r))?Kn(o,v,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ie(s,"number",s.value)),g=r?ii(r):window,e){case"focusin":(Yn(g)||"true"===g.contentEditable)&&(_r=g,br=r,kr=null);break;case"focusout":kr=br=_r=null;break;case"mousedown":Cr=!0;break;case"contextmenu":case"mouseup":case"dragend":Cr=!1,wr(o,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":wr(o,n,i)}var y;if(jn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else qn?Wn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Un&&"ko"!==n.locale&&(qn||"onCompositionStart"!==_?"onCompositionEnd"===_&&qn&&(y=rn()):(tn="value"in(en=i)?en.value:en.textContent,qn=!0)),0<(g=jr(r,_)).length&&(_=new wn(_,e,null,n,i),o.push({event:_,listeners:g}),y?_.data=y:null!==(y=Hn(n))&&(_.data=y))),(y=Vn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Bn=!0,zn);case"textInput":return(e=t.data)===zn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!jn&&Wn(e,t)?(e=rn(),nn=tn=en=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=jr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Ir(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ue(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ue(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Vr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ue(n,a))&&o.unshift(Mr(n,u,s)):i||null!=(u=Ue(n,a))&&o.push(Mr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Ur(){}var zr=null,Br=null;function Wr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var qr="function"===typeof setTimeout?setTimeout:void 0,Gr="function"===typeof clearTimeout?clearTimeout:void 0;function Yr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Kr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Xr=0;var Jr=Math.random().toString(36).slice(2),Zr="__reactFiber$"+Jr,$r="__reactProps$"+Jr,ei="__reactContainer$"+Jr,ti="__reactEvents$"+Jr;function ni(e){var t=e[Zr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Zr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Qr(e);null!==e;){if(n=e[Zr])return n;e=Qr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Zr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[$r]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function fi(e,t){ui++,si[ui]=e.current,e.current=t}var hi={},di=ci(hi),mi=ci(!1),pi=hi;function vi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function gi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yi(){li(mi),li(di)}function _i(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(mi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,Y(t)||"Unknown",a));return i({},n,r)}function ki(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,pi=di.current,fi(di,e),fi(mi,mi.current),!0}function Ci(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,pi),r.__reactInternalMemoizedMergedChildContext=e,li(mi),li(di),fi(di,e)):li(mi),fi(mi,n)}var wi=null,xi=null,Si=a.unstable_runWithPriority,Ei=a.unstable_scheduleCallback,Ti=a.unstable_cancelCallback,Pi=a.unstable_shouldYield,Ii=a.unstable_requestPaint,Li=a.unstable_now,Ai=a.unstable_getCurrentPriorityLevel,Ni=a.unstable_ImmediatePriority,Di=a.unstable_UserBlockingPriority,Ri=a.unstable_NormalPriority,Oi=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,ji={},Fi=void 0!==Ii?Ii:function(){},Vi=null,Ui=null,zi=!1,Bi=Li(),Wi=1e4>Bi?Li:function(){return Li()-Bi};function Hi(){switch(Ai()){case Ni:return 99;case Di:return 98;case Ri:return 97;case Oi:return 96;case Mi:return 95;default:throw Error(o(332))}}function qi(e){switch(e){case 99:return Ni;case 98:return Di;case 97:return Ri;case 96:return Oi;case 95:return Mi;default:throw Error(o(332))}}function Gi(e,t){return e=qi(e),Si(e,t)}function Yi(e,t,n){return e=qi(e),Ei(e,t,n)}function Ki(){if(null!==Ui){var e=Ui;Ui=null,Ti(e)}Qi()}function Qi(){if(!zi&&null!==Vi){zi=!0;var e=0;try{var t=Vi;Gi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Vi=null}catch(n){throw null!==Vi&&(Vi=Vi.slice(e+1)),Ei(Ni,Ki),n}finally{zi=!1}}}var Xi=k.ReactCurrentBatchConfig;function Ji(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Zi=ci(null),$i=null,ea=null,ta=null;function na(){ta=ea=$i=null}function ra(e){var t=Zi.current;li(Zi),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){$i=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(jo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===$i)throw Error(o(308));ea=t,$i.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var sa=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;sa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,s=0,f=l=c=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,p=o;switch(u=t,d=n,p.tag){case 1:if("function"===typeof(m=p.payload)){h=m.call(d,h,u);break e}h=m;break e;case 3:m.flags=-4097&m.flags|64;case 0:if(null===(u="function"===typeof(m=p.payload)?m.call(d,h,u):m)||void 0===u)break e;h=i({},h,u);break e;case 2:sa=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,zs|=s,e.lanes=s,e.memoizedState=h}}function ma(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var pa=(new r.Component).refs;function va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ga={isMounted:function(e){return!!(e=e._reactInternals)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),mu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),mu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),mu(e,r,n)}};function ya(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function _a(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=gi(t)?pi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?vi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ga,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ga.enqueueReplaceState(t,t.state,null)}function ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=pa,ua(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=gi(t)?pi:di.current,i.context=vi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ga.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var Ca=Array.isArray;function wa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===pa&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function xa(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Sa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Gu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Xu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=wa(e,t,n),r.return=e,r):((r=Yu(n.type,n.key,n.props,null,e.mode,r)).ref=wa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ju(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Ku(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Xu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case C:return(n=Yu(t.type,t.key,t.props,null,e.mode,n)).ref=wa(e,null,t),n.return=e,n;case w:return(t=Ju(t,e.mode,n)).return=e,t}if(Ca(t)||B(t))return(t=Ku(t,e.mode,n,null)).return=e,t;xa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case C:return n.key===i?n.type===x?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case w:return n.key===i?l(e,t,n,r):null}if(Ca(n)||B(n))return null!==i?null:f(e,t,n,r,null);xa(e,n)}return null}function m(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case C:return e=e.get(null===r.key?n:r.key)||null,r.type===x?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Ca(r)||B(r))return f(t,e=e.get(n)||null,r,i,null);xa(t,r)}return null}function p(i,o,s,u){for(var c=null,l=null,f=o,p=o=0,v=null;null!==f&&p<s.length;p++){f.index>p?(v=f,f=null):v=f.sibling;var g=d(i,f,s[p],u);if(null===g){null===f&&(f=v);break}e&&f&&null===g.alternate&&t(i,f),o=a(g,o,p),null===l?c=g:l.sibling=g,l=g,f=v}if(p===s.length)return n(i,f),c;if(null===f){for(;p<s.length;p++)null!==(f=h(i,s[p],u))&&(o=a(f,o,p),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);p<s.length;p++)null!==(v=m(f,i,p,s[p],u))&&(e&&null!==v.alternate&&f.delete(null===v.key?p:v.key),o=a(v,o,p),null===l?c=v:l.sibling=v,l=v);return e&&f.forEach((function(e){return t(i,e)})),c}function v(i,s,u,c){var l=B(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,p=s,v=s=0,g=null,y=u.next();null!==p&&!y.done;v++,y=u.next()){p.index>v?(g=p,p=null):g=p.sibling;var _=d(i,p,y.value,c);if(null===_){null===p&&(p=g);break}e&&p&&null===_.alternate&&t(i,p),s=a(_,s,v),null===f?l=_:f.sibling=_,f=_,p=g}if(y.done)return n(i,p),l;if(null===p){for(;!y.done;v++,y=u.next())null!==(y=h(i,y.value,c))&&(s=a(y,s,v),null===f?l=y:f.sibling=y,f=y);return l}for(p=r(i,p);!y.done;v++,y=u.next())null!==(y=m(p,i,v,y.value,c))&&(e&&null!==y.alternate&&p.delete(null===y.key?v:y.key),s=a(y,s,v),null===f?l=y:f.sibling=y,f=y);return e&&p.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===x&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case C:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===x){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=wa(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===x?((r=Ku(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Yu(a.type,a.key,a.props,null,e.mode,u)).ref=wa(e,r,a),u.return=e,e=u)}return s(e);case w:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ju(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Xu(a,e.mode,u)).return=e,e=r),s(e);if(Ca(a))return p(e,r,a,u);if(B(a))return v(e,r,a,u);if(l&&xa(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,Y(e.type)||"Component"))}return n(e,r)}}var Ea=Sa(!0),Ta=Sa(!1),Pa={},Ia=ci(Pa),La=ci(Pa),Aa=ci(Pa);function Na(e){if(e===Pa)throw Error(o(174));return e}function Da(e,t){switch(fi(Aa,t),fi(La,e),fi(Ia,Pa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:me(null,"");break;default:t=me(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Ia),fi(Ia,t)}function Ra(){li(Ia),li(La),li(Aa)}function Oa(e){Na(Aa.current);var t=Na(Ia.current),n=me(t,e.type);t!==n&&(fi(La,e),fi(Ia,n))}function Ma(e){La.current===e&&(li(Ia),li(La))}var ja=ci(0);function Fa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Va=null,Ua=null,za=!1;function Ba(e,t){var n=Hu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Wa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ha(e){if(za){var t=Ua;if(t){var n=t;if(!Wa(e,t)){if(!(t=Kr(n.nextSibling))||!Wa(e,t))return e.flags=-1025&e.flags|2,za=!1,void(Va=e);Ba(Va,n)}Va=e,Ua=Kr(t.firstChild)}else e.flags=-1025&e.flags|2,za=!1,Va=e}}function qa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Va=e}function Ga(e){if(e!==Va)return!1;if(!za)return qa(e),za=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hr(t,e.memoizedProps))for(t=Ua;t;)Ba(e,t),t=Kr(t.nextSibling);if(qa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ua=Kr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ua=null}}else Ua=Va?Kr(e.stateNode.nextSibling):null;return!0}function Ya(){Ua=Va=null,za=!1}var Ka=[];function Qa(){for(var e=0;e<Ka.length;e++)Ka[e]._workInProgressVersionPrimary=null;Ka.length=0}var Xa=k.ReactCurrentDispatcher,Ja=k.ReactCurrentBatchConfig,Za=0,$a=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Za=a,$a=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xa.current=null===e||null===e.memoizedState?Do:Ro,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Xa.current=Oo,e=n(r,i)}while(ro)}if(Xa.current=No,t=null!==eo&&null!==eo.next,Za=0,to=eo=$a=null,no=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?$a.memoizedState=to=e:to=to.next=e,to}function uo(){if(null===eo){var e=$a.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?$a.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?$a.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.lane;if((Za&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,$a.lanes|=l,zs|=l}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,lr(r,t.memoizedState)||(jo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);lr(a,t.memoizedState)||(jo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Za&e)===e)&&(t._workInProgressVersionPrimary=r,Ka.push(t))),e)return n(t._source);throw Ka.push(t),Error(o(350))}function mo(e,t,n,r){var i=Ds;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=Xa.current,c=u.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,m=d.getSnapshot,p=h.source;h=h.subscribe;var v=$a;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(s,e)){e=n(t._source),lr(f,e)||(l(e),e=du(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-Ht(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(v);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(m,n)&&lr(p,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Ao.bind(null,$a,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function po(e,t,n){return mo(uo(),e,t,n)}function vo(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Ao.bind(null,$a,e),[t.memoizedState,e]}function go(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=$a.updateQueue)?(t={lastEffect:null},$a.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function yo(e){return e={current:e},so().memoizedState=e}function _o(){return uo().memoizedState}function bo(e,t,n,r){var i=so();$a.flags|=e,i.memoizedState=go(1|t,n,void 0,void 0===r?null:r)}function ko(e,t,n,r){var i=uo();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void go(t,n,a,r)}$a.flags|=e,i.memoizedState=go(1|t,n,a,r)}function Co(e,t){return bo(516,4,e,t)}function wo(e,t){return ko(516,4,e,t)}function xo(e,t){return ko(4,2,e,t)}function So(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Eo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ko(4,2,So.bind(null,t,e),n)}function To(){}function Po(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Io(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Lo(e,t){var n=Hi();Gi(98>n?98:n,(function(){e(!0)})),Gi(97<n?97:n,(function(){var n=Ja.transition;Ja.transition=1;try{e(!1),t()}finally{Ja.transition=n}}))}function Ao(e,t,n){var r=hu(),i=du(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===$a||null!==o&&o===$a)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,lr(u,s))return}catch(c){}mu(e,i,r)}}var No={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:Co,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,So.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ao.bind(null,$a,e),[r.memoizedState,e]},useRef:yo,useState:vo,useDebugValue:To,useDeferredValue:function(e){var t=vo(e),n=t[0],r=t[1];return Co((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=vo(!1),t=e[0];return yo(e=Lo.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=so();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},mo(r,e,t,n)},useOpaqueIdentifier:function(){if(za){var e=!1,t=function(e){return{$$typeof:O,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Xr++).toString(36))),Error(o(355))})),n=vo(t)[1];return 0===(2&$a.mode)&&($a.flags|=516,go(5,(function(){n("r:"+(Xr++).toString(36))}),void 0,null)),t}return vo(t="r:"+(Xr++).toString(36)),t},unstable_isNewReconciler:!1},Ro={readContext:oa,useCallback:Po,useContext:oa,useEffect:wo,useImperativeHandle:Eo,useLayoutEffect:xo,useMemo:Io,useReducer:lo,useRef:_o,useState:function(){return lo(co)},useDebugValue:To,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return wo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[_o().current,e]},useMutableSource:po,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Oo={readContext:oa,useCallback:Po,useContext:oa,useEffect:wo,useImperativeHandle:Eo,useLayoutEffect:xo,useMemo:Io,useReducer:fo,useRef:_o,useState:function(){return fo(co)},useDebugValue:To,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return wo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[_o().current,e]},useMutableSource:po,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=k.ReactCurrentOwner,jo=!1;function Fo(e,t,n,r){t.child=null===e?Ta(t,null,n,r):Ea(t,e.child,n,r)}function Vo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||jo?(t.flags|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Uo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||qu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Yu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,zo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Gu(o,r)).ref=t.ref,e.return=t,t.child=e)}function zo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(jo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(jo=!0)}return Ho(e,t,n,r,a)}function Bo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Cu(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Cu(t,e),null;t.memoizedState={baseLanes:0},Cu(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Cu(t,r);return Fo(e,t,i,n),t.child}function Wo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ho(e,t,n,r,i){var a=gi(n)?pi:di.current;return a=vi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||jo?(t.flags|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function qo(e,t,n,r,i){if(gi(n)){var a=!0;ki(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),_a(t,n,r),ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=vi(t,c=gi(n)?pi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&ba(t,o,r,c),sa=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),u=t.memoizedState,s!==r||h!==u||mi.current||sa?("function"===typeof l&&(va(t,n,l,r),u=t.memoizedState),(s=sa||ya(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Ji(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=oa(u):u=vi(t,u=gi(n)?pi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&ba(t,o,r,u),sa=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var m=t.memoizedState;s!==f||h!==m||mi.current||sa?("function"===typeof d&&(va(t,n,d,r),m=t.memoizedState),(c=sa||ya(t,n,c,r,h,m,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,m,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,m,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Go(e,t,n,r,a,i)}function Go(e,t,n,r,i,a){Wo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&Ci(t,n,!1),as(e,t,a);r=t.stateNode,Mo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ea(t,e.child,null,a),t.child=Ea(t,null,s,a)):Fo(e,t,s,a),t.memoizedState=r.state,i&&Ci(t,n,!0),t.child}function Yo(e){var t=e.stateNode;t.pendingContext?_i(0,t.pendingContext,t.pendingContext!==t.context):t.context&&_i(0,t.context,!1),Da(e,t.containerInfo)}var Ko,Qo,Xo,Jo={dehydrated:null,retryLane:0};function Zo(e,t,n){var r,i=t.pendingProps,a=ja.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(ja,1&a),null===e?(void 0!==i.fallback&&Ha(t),e=i.children,a=i.fallback,o?(e=$o(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,e):"number"===typeof i.unstable_expectedLoadTime?(e=$o(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,t.lanes=33554432,e):((n=Qu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Jo,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function $o(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Qu(t,i,0,null),n=Ku(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Gu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Gu(o,s),null!==e?r=Gu(e,r):(r=Ku(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Fo(e,t,r.children,n),0!==(2&(r=ja.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(ja,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Gu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Gu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!za)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&yi(),null;case 3:return Ra(),li(mi),li(di),Qa(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ga(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Na(Aa.current);if(n=t.type,null!==e&&null!=t.stateNode)Qo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Na(Ia.current),Ga(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Zr]=t,r[$r]=s,n){case"dialog":Lr("cancel",r),Lr("close",r);break;case"iframe":case"object":case"embed":Lr("load",r);break;case"video":case"audio":for(e=0;e<Er.length;e++)Lr(Er[e],r);break;case"source":Lr("error",r);break;case"img":case"image":case"link":Lr("error",r),Lr("load",r);break;case"details":Lr("toggle",r);break;case"input":ee(r,s),Lr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Lr("invalid",r);break;case"textarea":ue(r,s),Lr("invalid",r)}for(var c in xe(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Lr("scroll",r));switch(n){case"input":X(r),re(r,s,!0);break;case"textarea":X(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Ur)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Zr]=t,e[$r]=r,Ko(e,t),t.stateNode=e,c=Se(n,r),n){case"dialog":Lr("cancel",e),Lr("close",e),a=r;break;case"iframe":case"object":case"embed":Lr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Er.length;a++)Lr(Er[a],e);a=r;break;case"source":Lr("error",e),a=r;break;case"img":case"image":case"link":Lr("error",e),Lr("load",e),a=r;break;case"details":Lr("toggle",e),a=r;break;case"input":ee(e,r),a=$(e,r),Lr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Lr("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Lr("invalid",e);break;default:a=r}xe(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?Ce(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ge(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ye(e,f):"number"===typeof f&&ye(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Lr("scroll",e):null!=f&&b(e,s,f,c))}switch(n){case"input":X(e),re(e,r,!1);break;case"textarea":X(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Ur)}Wr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Xo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Na(Aa.current),Na(Ia.current),Ga(t)?(r=t.stateNode,n=t.memoizedProps,r[Zr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Zr]=t,t.stateNode=r)}return null;case 13:return li(ja),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ga(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&ja.current)?0===Fs&&(Fs=3):(0!==Fs&&3!==Fs||(Fs=4),null===Ds||0===(134217727&zs)&&0===(134217727&Bs)||yu(Ds,Os))),(r||n)&&(t.flags|=4),null);case 4:return Ra(),null===e&&Nr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(ja),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==Fs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Fa(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(ja,1&ja.current|2),t.child}e=e.sibling}null!==r.tail&&Wi()>Gs&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Fa(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!za)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Wi()-r.renderingStartTime>Gs&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Wi(),n.sibling=null,t=ja.current,fi(ja,s?1&t|2:1&t),n):null;case 23:case 24:return wu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:gi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ra(),li(mi),li(di),Qa(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(ja),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(ja),null;case 4:return Ra(),null;case 10:return ra(e),null;case 23:case 24:return wu(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=G(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ko=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Na(Ia.current);var o,s=null;switch(n){case"input":a=$(e,a),r=$(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Ur)}for(f in xe(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Lr("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===O?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Xo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xs||(Xs=!0,Js=r),ls(0,t)},n}function ds(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Zs?Zs=new Set([this]):Zs.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ms="function"===typeof WeakSet?WeakSet:Set;function ps(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Uu(e,n)}else t.current=null}function vs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Yr(t.stateNode.containerInfo))}throw Error(o(163))}function gs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(ju(n,e),Mu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&ma(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}ma(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Wr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ct(n)))))}throw Error(o(163))}function ys(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=ke("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function _s(e,t){if(xi&&"function"===typeof xi.onCommitFiberUnmount)try{xi.onCommitFiberUnmount(wi,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))ju(t,n);else{r=t;try{i()}catch(a){Uu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(ps(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Uu(t,a)}break;case 5:ps(t);break;case 4:Ss(e,t)}}function bs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ks(e){return 5===e.tag||3===e.tag||4===e.tag}function Cs(e){e:{for(var t=e.return;null!==t;){if(ks(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ks(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?ws(e,n,t):xs(e,n,t)}function ws(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ur));else if(4!==r&&null!==(e=e.child))for(ws(e,t,n),e=e.sibling;null!==e;)ws(e,t,n),e=e.sibling}function xs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(xs(e,t,n),e=e.sibling;null!==e;)xs(e,t,n),e=e.sibling}function Ss(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(_s(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(_s(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Es(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[$r]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?Ce(n,u):"dangerouslySetInnerHTML"===s?ge(n,u):"children"===s?ye(n,u):b(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Ct(n.containerInfo)));case 13:return null!==t.memoizedState&&(qs=Wi(),ys(t.child,!0)),void Ts(t);case 19:return void Ts(t);case 23:case 24:return void ys(t,null!==t.memoizedState)}throw Error(o(163))}function Ts(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ms),t.forEach((function(t){var r=Bu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ps(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Is=Math.ceil,Ls=k.ReactCurrentDispatcher,As=k.ReactCurrentOwner,Ns=0,Ds=null,Rs=null,Os=0,Ms=0,js=ci(0),Fs=0,Vs=null,Us=0,zs=0,Bs=0,Ws=0,Hs=null,qs=0,Gs=1/0;function Ys(){Gs=Wi()+500}var Ks,Qs=null,Xs=!1,Js=null,Zs=null,$s=!1,eu=null,tu=90,nu=[],ru=[],iu=null,au=0,ou=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&Ns)?Wi():-1!==su?su:su=Wi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Hi()?1:2;if(0===uu&&(uu=Us),0!==Xi.transition){0!==cu&&(cu=null!==Hs?Hs.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Hi(),0!==(4&Ns)&&98===e?e=Ut(12,uu):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function mu(e,t,n){if(50<au)throw au=0,ou=null,Error(o(185));if(null===(e=pu(e,t)))return null;Wt(e,t,n),e===Ds&&(Bs|=t,4===Fs&&yu(e,Os));var r=Hi();1===t?0!==(8&Ns)&&0===(48&Ns)?_u(e):(vu(e,n),0===Ns&&(Ys(),Ki())):(0===(4&Ns)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),vu(e,n)),Hs=e}function pu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function vu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Ht(s),c=1<<u,l=a[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,jt(c);var f=Mt;a[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ft(e,e===Ds?Os:0),t=Mt,0===r)null!==n&&(n!==ji&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==ji&&Ti(n)}15===t?(n=_u.bind(null,e),null===Vi?(Vi=[n],Ui=Ei(Ni,Qi)):Vi.push(n),n=ji):14===t?n=Yi(99,_u.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Yi(n,gu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function gu(e){if(su=-1,cu=uu=0,0!==(48&Ns))throw Error(o(327));var t=e.callbackNode;if(Ou()&&e.callbackNode!==t)return null;var n=Ft(e,e===Ds?Os:0);if(0===n)return null;var r=n,i=Ns;Ns|=16;var a=Eu();for(Ds===e&&Os===r||(Ys(),xu(e,r));;)try{Iu();break}catch(u){Su(e,u)}if(na(),Ls.current=a,Ns=i,null!==Rs?r=0:(Ds=null,Os=0,r=Fs),0!==(Us&Bs))xu(e,0);else if(0!==r){if(2===r&&(Ns|=64,e.hydrate&&(e.hydrate=!1,Yr(e.containerInfo)),0!==(n=Vt(e))&&(r=Tu(e,n))),1===r)throw t=Vs,xu(e,0),yu(e,n),vu(e,Wi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Nu(e);break;case 3:if(yu(e,n),(62914560&n)===n&&10<(r=qs+500-Wi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=qr(Nu.bind(null,e),r);break}Nu(e);break;case 4:if(yu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Ht(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=Wi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Is(n/1960))-n)){e.timeoutHandle=qr(Nu.bind(null,e),n);break}Nu(e);break;default:throw Error(o(329))}}return vu(e,Wi()),e.callbackNode===t?gu.bind(null,e):null}function yu(e,t){for(t&=~Ws,t&=~Bs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function _u(e){if(0!==(48&Ns))throw Error(o(327));if(Ou(),e===Ds&&0!==(e.expiredLanes&Os)){var t=Os,n=Tu(e,t);0!==(Us&Bs)&&(n=Tu(e,t=Ft(e,t)))}else n=Tu(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Ns|=64,e.hydrate&&(e.hydrate=!1,Yr(e.containerInfo)),0!==(t=Vt(e))&&(n=Tu(e,t))),1===n)throw n=Vs,xu(e,0),yu(e,t),vu(e,Wi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nu(e),vu(e,Wi()),null}function bu(e,t){var n=Ns;Ns|=1;try{return e(t)}finally{0===(Ns=n)&&(Ys(),Ki())}}function ku(e,t){var n=Ns;Ns&=-2,Ns|=8;try{return e(t)}finally{0===(Ns=n)&&(Ys(),Ki())}}function Cu(e,t){fi(js,Ms),Ms|=t,Us|=t}function wu(){Ms=js.current,li(js)}function xu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Gr(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Ra(),li(mi),li(di),Qa();break;case 5:Ma(r);break;case 4:Ra();break;case 13:case 19:li(ja);break;case 10:ra(r);break;case 23:case 24:wu()}n=n.return}Ds=e,Rs=Gu(e.current,null),Os=Ms=Us=t,Fs=0,Vs=null,Ws=Bs=zs=0}function Su(e,t){for(;;){var n=Rs;try{if(na(),Xa.current=No,no){for(var r=$a.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Za=0,to=eo=$a=null,ro=!1,As.current=null,null===n||null===n.return){Fs=1,Vs=t,Rs=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Os,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&ja.current),h=o;do{var d;if(d=13===h.tag){var m=h.memoizedState;if(null!==m)d=null!==m.dehydrated;else{var p=h.memoizedProps;d=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!f)}}if(d){var v=h.updateQueue;if(null===v){var g=new Set;g.add(c),h.updateQueue=g}else v.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=la(-1,1);y.tag=2,fa(s,y)}s.lanes|=1;break e}u=void 0,s=t;var _=a.pingCache;if(null===_?(_=a.pingCache=new fs,u=new Set,_.set(c,u)):void 0===(u=_.get(c))&&(u=new Set,_.set(c,u)),!u.has(s)){u.add(s);var b=zu.bind(null,a,c,s);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((Y(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fs&&(Fs=2),u=cs(u,s),h=o;do{switch(h.tag){case 3:a=u,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hs(0,a,t));break e;case 1:a=u;var k=h.type,C=h.stateNode;if(0===(64&h.flags)&&("function"===typeof k.getDerivedStateFromError||null!==C&&"function"===typeof C.componentDidCatch&&(null===Zs||!Zs.has(C)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,ds(h,a,t));break e}}h=h.return}while(null!==h)}Au(n)}catch(w){t=w,Rs===n&&null!==n&&(Rs=n=n.return);continue}break}}function Eu(){var e=Ls.current;return Ls.current=No,null===e?No:e}function Tu(e,t){var n=Ns;Ns|=16;var r=Eu();for(Ds===e&&Os===t||xu(e,t);;)try{Pu();break}catch(i){Su(e,i)}if(na(),Ns=n,Ls.current=r,null!==Rs)throw Error(o(261));return Ds=null,Os=0,Fs}function Pu(){for(;null!==Rs;)Lu(Rs)}function Iu(){for(;null!==Rs&&!Pi();)Lu(Rs)}function Lu(e){var t=Ks(e.alternate,e,Ms);e.memoizedProps=e.pendingProps,null===t?Au(e):Rs=t,As.current=null}function Au(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ms)))return void(Rs=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ms)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Rs=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Rs=t);Rs=t=e}while(null!==t);0===Fs&&(Fs=5)}function Nu(e){var t=Hi();return Gi(99,Du.bind(null,e,t)),null}function Du(e,t){do{Ou()}while(null!==eu);if(0!==(48&Ns))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var c=31-Ht(a),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,a&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Ds&&(Rs=Ds=null,Os=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ns,Ns|=32,As.current=null,zr=Qt,gr(s=vr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(E){u=null;break e}var f=0,h=-1,d=-1,m=0,p=0,v=s,g=null;t:for(;;){for(var y;v!==u||0!==a&&3!==v.nodeType||(h=f+a),v!==c||0!==l&&3!==v.nodeType||(d=f+l),3===v.nodeType&&(f+=v.nodeValue.length),null!==(y=v.firstChild);)g=v,v=y;for(;;){if(v===s)break t;if(g===u&&++m===a&&(h=f),g===c&&++p===l&&(d=f),null!==(y=v.nextSibling))break;g=(v=g).parentNode}v=y}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;Br={focusedElem:s,selectionRange:u},Qt=!1,lu=null,fu=!1,Qs=r;do{try{Ru()}catch(E){if(null===Qs)throw Error(o(330));Uu(Qs,E),Qs=Qs.nextEffect}}while(null!==Qs);lu=null,Qs=r;do{try{for(s=e;null!==Qs;){var _=Qs.flags;if(16&_&&ye(Qs.stateNode,""),128&_){var b=Qs.alternate;if(null!==b){var k=b.ref;null!==k&&("function"===typeof k?k(null):k.current=null)}}switch(1038&_){case 2:Cs(Qs),Qs.flags&=-3;break;case 6:Cs(Qs),Qs.flags&=-3,Es(Qs.alternate,Qs);break;case 1024:Qs.flags&=-1025;break;case 1028:Qs.flags&=-1025,Es(Qs.alternate,Qs);break;case 4:Es(Qs.alternate,Qs);break;case 8:Ss(s,u=Qs);var C=u.alternate;bs(u),null!==C&&bs(C)}Qs=Qs.nextEffect}}catch(E){if(null===Qs)throw Error(o(330));Uu(Qs,E),Qs=Qs.nextEffect}}while(null!==Qs);if(k=Br,b=vr(),_=k.focusedElem,s=k.selectionRange,b!==_&&_&&_.ownerDocument&&pr(_.ownerDocument.documentElement,_)){null!==s&&gr(_)&&(b=s.start,void 0===(k=s.end)&&(k=b),"selectionStart"in _?(_.selectionStart=b,_.selectionEnd=Math.min(k,_.value.length)):(k=(b=_.ownerDocument||document)&&b.defaultView||window).getSelection&&(k=k.getSelection(),u=_.textContent.length,C=Math.min(s.start,u),s=void 0===s.end?C:Math.min(s.end,u),!k.extend&&C>s&&(u=s,s=C,C=u),u=mr(_,C),a=mr(_,s),u&&a&&(1!==k.rangeCount||k.anchorNode!==u.node||k.anchorOffset!==u.offset||k.focusNode!==a.node||k.focusOffset!==a.offset)&&((b=b.createRange()).setStart(u.node,u.offset),k.removeAllRanges(),C>s?(k.addRange(b),k.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),k.addRange(b))))),b=[];for(k=_;k=k.parentNode;)1===k.nodeType&&b.push({element:k,left:k.scrollLeft,top:k.scrollTop});for("function"===typeof _.focus&&_.focus(),_=0;_<b.length;_++)(k=b[_]).element.scrollLeft=k.left,k.element.scrollTop=k.top}Qt=!!zr,Br=zr=null,e.current=n,Qs=r;do{try{for(_=e;null!==Qs;){var w=Qs.flags;if(36&w&&gs(_,Qs.alternate,Qs),128&w){b=void 0;var x=Qs.ref;if(null!==x){var S=Qs.stateNode;Qs.tag,b=S,"function"===typeof x?x(b):x.current=b}}Qs=Qs.nextEffect}}catch(E){if(null===Qs)throw Error(o(330));Uu(Qs,E),Qs=Qs.nextEffect}}while(null!==Qs);Qs=null,Fi(),Ns=i}else e.current=n;if($s)$s=!1,eu=e,tu=t;else for(Qs=r;null!==Qs;)t=Qs.nextEffect,Qs.nextEffect=null,8&Qs.flags&&((w=Qs).sibling=null,w.stateNode=null),Qs=t;if(0===(r=e.pendingLanes)&&(Zs=null),1===r?e===ou?au++:(au=0,ou=e):au=0,n=n.stateNode,xi&&"function"===typeof xi.onCommitFiberRoot)try{xi.onCommitFiberRoot(wi,n,void 0,64===(64&n.current.flags))}catch(E){}if(vu(e,Wi()),Xs)throw Xs=!1,e=Js,Js=null,e;return 0!==(8&Ns)||Ki(),null}function Ru(){for(;null!==Qs;){var e=Qs.alternate;fu||null===lu||(0!==(8&Qs.flags)?et(Qs,lu)&&(fu=!0):13===Qs.tag&&Ps(e,Qs)&&et(Qs,lu)&&(fu=!0));var t=Qs.flags;0!==(256&t)&&vs(e,Qs),0===(512&t)||$s||($s=!0,Yi(97,(function(){return Ou(),null}))),Qs=Qs.nextEffect}}function Ou(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Gi(e,Fu)}return!1}function Mu(e,t){nu.push(t,e),$s||($s=!0,Yi(97,(function(){return Ou(),null})))}function ju(e,t){ru.push(t,e),$s||($s=!0,Yi(97,(function(){return Ou(),null})))}function Fu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Ns))throw Error(o(331));var t=Ns;Ns|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));Uu(a,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===a)throw Error(o(330));Uu(a,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Ns=t,Ki(),!0}function Vu(e,t,n){fa(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=pu(e,1))&&(Wt(e,1,t),vu(e,t))}function Uu(e,t){if(3===e.tag)Vu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Vu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Zs||!Zs.has(r))){var i=ds(n,e=cs(t,e),1);if(fa(n,i),i=hu(),null!==(n=pu(n,1)))Wt(n,1,i),vu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Zs||!Zs.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function zu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Ds===e&&(Os&n)===n&&(4===Fs||3===Fs&&(62914560&Os)===Os&&500>Wi()-qs?xu(e,0):Ws|=n),vu(e,t)}function Bu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Hi()?1:2:(0===uu&&(uu=Us),0===(t=zt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=pu(e,t))&&(Wt(e,t,n),vu(e,n))}function Wu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hu(e,t,n,r){return new Wu(e,t,n,r)}function qu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Gu(e,t){var n=e.alternate;return null===n?((n=Hu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Yu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)qu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Ku(n.children,i,a,t);case M:s=8,i|=16;break;case S:s=8,i|=1;break;case E:return(e=Hu(12,n,t,8|i)).elementType=E,e.type=E,e.lanes=a,e;case L:return(e=Hu(13,n,t,i)).type=L,e.elementType=L,e.lanes=a,e;case A:return(e=Hu(19,n,t,i)).elementType=A,e.lanes=a,e;case j:return Qu(n,i,a,t);case F:return(e=Hu(24,n,t,i)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case P:s=9;break e;case I:s=11;break e;case N:s=14;break e;case D:s=16,r=null;break e;case R:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Hu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Ku(e,t,n,r){return(e=Hu(7,e,r,t)).lanes=n,e}function Qu(e,t,n,r){return(e=Hu(23,e,r,t)).elementType=j,e.lanes=n,e}function Xu(e,t,n){return(e=Hu(6,e,null,t)).lanes=n,e}function Ju(e,t,n){return(t=Hu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function $u(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hu(),s=du(i);e:if(n){t:{if(Xe(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(gi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(gi(c)){n=bi(n,c,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),mu(i,s,a),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Zu(e,t,null!=n&&!0===n.hydrate),t=Hu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ua(t),e[ei]=n.current,Nr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}ku((function(){ec(t,o,e,i)}))}return tc(o)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return $u(e,t,null,n)}Ks=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||mi.current)jo=!0;else{if(0===(n&r)){switch(jo=!1,t.tag){case 3:Yo(t),Ya();break;case 5:Oa(t);break;case 1:gi(t.type)&&ki(t);break;case 4:Da(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Zi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Zo(e,t,n):(fi(ja,1&ja.current),null!==(t=as(e,t,n))?t.sibling:null);fi(ja,1&ja.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(ja,ja.current),r)break;return null;case 23:case 24:return t.lanes=0,Bo(e,t,n)}return as(e,t,n)}jo=0!==(16384&e.flags)}else jo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=vi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var a=!0;ki(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ua(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&va(t,r,s,e),i.updater=ga,t.stateNode=i,i._reactInternals=t,ka(t,r,e,n),t=Go(null,t,r,!0,a,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return qu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===N)return 14}return 2}(i),e=Ji(i,e),a){case 0:t=Ho(null,t,i,e,n);break e;case 1:t=qo(null,t,i,e,n);break e;case 11:t=Vo(null,t,i,e,n);break e;case 14:t=Uo(null,t,i,Ji(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,qo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(Yo(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ya(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Ua=Kr(t.stateNode.containerInfo.firstChild),Va=t,a=za=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Ka.push(a);for(n=Ta(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fo(e,t,r,n),Ya();t=t.child}return t;case 5:return Oa(t),null===e&&Ha(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Hr(r,i)?s=null:null!==a&&Hr(r,a)&&(t.flags|=16),Wo(e,t),Fo(e,t,s,n),t.child;case 6:return null===e&&Ha(t),null;case 13:return Zo(e,t,n);case 4:return Da(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ea(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Vo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(fi(Zi,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=lr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!mi.current){t=as(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=la(-1,n&-n)).tag=2,fa(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ia(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Fo(e,t,r,n),t.child;case 14:return a=Ji(i=t.type,t.pendingProps),Uo(e,t,i,a=Ji(i.type,a),r,n);case 15:return zo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,ki(t)):e=!1,aa(t,n),_a(t,r,i),ka(t,r,i,n),Go(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return Bo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(mu(e,4,hu()),rc(e,4))},nt=function(e){13===e.tag&&(mu(e,67108864,hu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hu(),n=du(e);mu(e,n,t),rc(e,n)}},it=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},De=bu,Re=function(e,t,n,r,i){var a=Ns;Ns|=4;try{return Gi(98,e.bind(null,t,n,r,i))}finally{0===(Ns=a)&&(Ys(),Ki())}},Oe=function(){0===(49&Ns)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,vu(e,Wi())}))}Ki()}(),Ou())},Me=function(e,t){var n=Ns;Ns|=2;try{return e(t)}finally{0===(Ns=n)&&(Ys(),Ki())}};var uc={Events:[ri,ii,ai,Ae,Ne,Ou,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{wi=fc.inject(lc),xi=fc}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ns;if(0!==(48&n))return e(t);Ns|=1;try{if(e)return Gi(99,e.bind(null,t))}finally{Ns=n,Ki()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(ku((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},381:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},239:function(e,t,n){var r=n(381);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return s(a(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(s+=e.slice(o,d),o=d+f.length,h)s+=h[1];else{var m=e[o],p=n[2],v=n[3],g=n[4],y=n[5],_=n[6],b=n[7];s&&(r.push(s),s="");var k=null!=p&&null!=m&&m!==p,C="+"===_||"*"===_,w="?"===_||"*"===_,x=n[2]||l,S=g||y;r.push({name:v||a++,prefix:p||"",delimiter:x,optional:w,repeat:C,partial:k,asterisk:!!b,pattern:S?c(S):b?".*":"[^"+u(x)+"]+?"})}}return o<e.length&&(s+=e.substr(o)),s&&r.push(s),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",s=t||{},u=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=s[l.name];if(null==h){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=u(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)o+=u(c);else{var h=u(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),o+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var m=u(n.delimiter||"/"),p=o.slice(-m.length)===m;return i||(o=(p?o.slice(0,-m.length):o)+"(?:"+m+"(?=$))?"),o+=a?"$":i&&p?"":"(?="+m+"|$)",l(new RegExp("^"+o,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},195:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,p=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function k(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case v:case p:case u:return e;default:return t}}case i:return t}}}function C(e){return k(e)===f}},228:function(e,t,n){"use strict";n(195)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p={};function v(e,t,n){this.props=e,this.context=t,this.refs=p,this.updater=n||m}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=p,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=v.prototype;var _=y.prototype=new g;_.constructor=y,r(_,v.prototype),_.isPureReactComponent=!0;var b={current:null},k=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function w(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)k.call(t,r)&&!C.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:b.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+E(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(x(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+E(s=e[c],c);u+=T(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=T(s=s.value,t,n,l=r+E(s,c++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function P(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function I(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var L={current:null};function A(){var e=L.current;if(null===e)throw Error(d(321));return e}var N={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error(d(143));return e}},t.Component=v,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)k.call(t,l)&&!C.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=w,t.createFactory=function(e){var t=w.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return A().useCallback(e,t)},t.useContext=function(e,t){return A().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return A().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return A().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return A().useLayoutEffect(e,t)},t.useMemo=function(e,t){return A().useMemo(e,t)},t.useReducer=function(e,t,n){return A().useReducer(e,t,n)},t.useRef=function(e){return A().useRef(e)},t.useState=function(e){return A().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var p=!1,v=null,g=-1,y=5,_=0;t.unstable_shouldYield=function(){return t.unstable_now()>=_},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,k=b.port2;b.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();_=e+y;try{v(!0,e)?k.postMessage(null):(p=!1,v=null)}catch(n){throw k.postMessage(null),n}}else p=!1},n=function(e){v=e,p||(p=!0,k.postMessage(null))},r=function(e,n){g=h((function(){e(t.unstable_now())}),n)},i=function(){d(g),g=-1}}function C(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function w(e){return void 0===(e=e[0])?null:e}function x(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>S(o,n))void 0!==u&&0>S(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>S(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var E=[],T=[],P=1,I=null,L=3,A=!1,N=!1,D=!1;function R(e){for(var t=w(T);null!==t;){if(null===t.callback)x(T);else{if(!(t.startTime<=e))break;x(T),t.sortIndex=t.expirationTime,C(E,t)}t=w(T)}}function O(e){if(D=!1,R(e),!N)if(null!==w(E))N=!0,n(M);else{var t=w(T);null!==t&&r(O,t.startTime-e)}}function M(e,n){N=!1,D&&(D=!1,i()),A=!0;var a=L;try{for(R(n),I=w(E);null!==I&&(!(I.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=I.callback;if("function"===typeof o){I.callback=null,L=I.priorityLevel;var s=o(I.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?I.callback=s:I===w(E)&&x(E),R(n)}else x(E);I=w(E)}if(null!==I)var u=!0;else{var c=w(T);null!==c&&r(O,c.startTime-n),u=!1}return u}finally{I=null,L=a,A=!1}}var j=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){N||A||(N=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return L},t.unstable_getFirstCallbackNode=function(){return w(E)},t.unstable_next=function(e){switch(L){case 1:case 2:case 3:var t=3;break;default:t=L}var n=L;L=t;try{return e()}finally{L=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=L;L=e;try{return t()}finally{L=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:P++,callback:a,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,C(T,e),null===w(E)&&e===w(T)&&(D?i():D=!0,r(O,o-s))):(e.sortIndex=u,C(E,e),N||A||(N=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=L;return function(){var n=L;L=t;try{return e.apply(this,arguments)}finally{L=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){"use strict";var e={};n.r(e),n.d(e,{AllProduct:function(){return yp},AllSales:function(){return wp},ExecutiveSegmentTable:function(){return Pp},Product1:function(){return _p},Product2:function(){return bp},Product3:function(){return kp},Product4:function(){return Cp},Sales1:function(){return xp},Sales2:function(){return Sp},Sales3:function(){return Ep},Sales4:function(){return Tp}});var t={};n.r(t),n.d(t,{FirebaseError:function(){return mv},SDK_VERSION:function(){return xg},_DEFAULT_ENTRY_NAME:function(){return fg},_addComponent:function(){return pg},_addOrOverwriteComponent:function(){return vg},_apps:function(){return dg},_clearComponents:function(){return bg},_components:function(){return mg},_getProvider:function(){return yg},_registerComponent:function(){return gg},_removeServiceInstance:function(){return _g},deleteApp:function(){return Pg},getApp:function(){return Eg},getApps:function(){return Tg},initializeApp:function(){return Sg},onLog:function(){return Ag},registerVersion:function(){return Lg},setLogLevel:function(){return Ng}});var r=n(791),i=n(164);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||s(e,t)||u()}var l=n(184),f=function(e){var t=e.email,n=e.setEmail,r=e.password,i=e.setPassword,a=e.handleLogin,o=e.handleSignup,s=e.hasAccount,u=e.setHasAccount,c=e.emailError,f=e.passwordError;return(0,l.jsx)("div",{className:"login-page-wrapper",children:(0,l.jsxs)("div",{className:"login-content",children:[(0,l.jsx)("h2",{children:"One Customer View"}),s?(0,l.jsx)("h3",{children:"Sign Up Now"}):(0,l.jsx)("h3",{children:"Login Now"}),(0,l.jsx)("div",{children:(0,l.jsx)("input",{type:"text",autoFocus:!0,required:!0,value:t,onChange:function(e){return n(e.target.value)},placeholder:"Email"})}),(0,l.jsx)("p",{className:"errorMsg",children:c}),(0,l.jsxs)("div",{children:[(0,l.jsx)("input",{type:"password",required:!0,value:r,onChange:function(e){return i(e.target.value)},placeholder:"Password"}),(0,l.jsx)("p",{className:"errorMsg",children:f})]}),(0,l.jsx)("div",{className:"btn-container",children:s?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:o,children:"Sign Up"}),(0,l.jsxs)("p",{children:["Already have an account ? ",(0,l.jsx)("span",{onClick:function(){return u(!s)},children:"Login"})]})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:a,children:"Login"}),(0,l.jsxs)("p",{children:["Don't have account ? ",(0,l.jsx)("span",{onClick:function(){return u(!s)},children:"Sign Up"})]})]})})]})})},h={prefix:"fas",iconName:"people-roof",icon:[640,512,[],"e537","M335.5 4l288 160c15.4 8.6 21 28.1 12.4 43.5s-28.1 21-43.5 12.4L320 68.6 47.5 220c-15.4 8.6-34.9 3-43.5-12.4s-3-34.9 12.4-43.5L304.5 4c9.7-5.4 21.4-5.4 31.1 0zM320 240c-22.1 0-40-17.9-40-40s17.9-40 40-40s40 17.9 40 40s-17.9 40-40 40zM144 336c-22.1 0-40-17.9-40-40s17.9-40 40-40s40 17.9 40 40s-17.9 40-40 40zm392-40c0 22.1-17.9 40-40 40s-40-17.9-40-40s17.9-40 40-40s40 17.9 40 40zM226.9 491.4L200 441.5V480c0 17.7-14.3 32-32 32H120c-17.7 0-32-14.3-32-32V441.5L61.1 491.4c-6.3 11.7-20.8 16-32.5 9.8s-16-20.8-9.8-32.5l37.9-70.3c15.3-28.5 45.1-46.3 77.5-46.3h19.5c16.3 0 31.9 4.5 45.4 12.6l33.6-62.3c15.3-28.5 45.1-46.3 77.5-46.3h19.5c32.4 0 62.1 17.8 77.5 46.3l33.6 62.3c13.5-8.1 29.1-12.6 45.4-12.6h19.5c32.4 0 62.1 17.8 77.5 46.3l37.9 70.3c6.3 11.7 1.9 26.2-9.8 32.5s-26.2 1.9-32.5-9.8L552 441.5V480c0 17.7-14.3 32-32 32H472c-17.7 0-32-14.3-32-32V441.5l-26.9 49.9c-6.3 11.7-20.8 16-32.5 9.8s-16-20.8-9.8-32.5l36.3-67.5c-1.7-1.7-3.2-3.6-4.3-5.8L376 345.5V400c0 17.7-14.3 32-32 32H296c-17.7 0-32-14.3-32-32V345.5l-26.9 49.9c-1.2 2.2-2.6 4.1-4.3 5.8l36.3 67.5c6.3 11.7 1.9 26.2-9.8 32.5s-26.2 1.9-32.5-9.8z"]},d={prefix:"fas",iconName:"arrow-right-from-bracket",icon:[576,512,["sign-out"],"f08b","M534.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L434.7 224 224 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l210.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128zM192 96c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0c-53 0-96 43-96 96l0 256c0 53 43 96 96 96l64 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l64 0z"]},m=d,p={prefix:"fas",iconName:"xmark",icon:[320,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"]},v=p,g={prefix:"fas",iconName:"chalkboard-user",icon:[640,512,["chalkboard-teacher"],"f51c","M160 64c0-35.3 28.7-64 64-64H576c35.3 0 64 28.7 64 64V352c0 35.3-28.7 64-64 64H336.8c-11.8-25.5-29.9-47.5-52.4-64H384V320c0-17.7 14.3-32 32-32h64c17.7 0 32 14.3 32 32v32h64V64L224 64v49.1C205.2 102.2 183.3 96 160 96V64zm0 256c-53 0-96-43-96-96s43-96 96-96s96 43 96 96s-43 96-96 96zm-26.7 32h53.3C260.3 352 320 411.7 320 485.3c0 14.7-11.9 26.7-26.7 26.7H26.7C11.9 512 0 500.1 0 485.3C0 411.7 59.7 352 133.3 352z"]},y=g;function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||E(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||E(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){if(e){if("string"===typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var P=function(){},I={},L={},A=null,N={mark:P,measure:P};try{"undefined"!==typeof window&&(I=window),"undefined"!==typeof document&&(L=document),"undefined"!==typeof MutationObserver&&(A=MutationObserver),"undefined"!==typeof performance&&(N=performance)}catch(yB){}var D,R,O,M,j,F=(I.navigator||{}).userAgent,V=void 0===F?"":F,U=I,z=L,B=A,W=N,H=(U.document,!!z.documentElement&&!!z.head&&"function"===typeof z.addEventListener&&"function"===typeof z.createElement),q=~V.indexOf("MSIE")||~V.indexOf("Trident/"),G="svg-inline--fa",Y="data-fa-i2svg",K="data-fa-pseudo-element",Q="data-prefix",X="data-icon",J="fontawesome-i2svg",Z=["HTML","HEAD","STYLE","SCRIPT"],$=function(){try{return!0}catch(yB){return!1}}(),ee="classic",te="sharp",ne=[ee,te];function re(e){return new Proxy(e,{get:function(e,t){return t in e?e[t]:e.classic}})}var ie=re((w(D={},ee,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),w(D,te,{fa:"solid",fass:"solid","fa-solid":"solid"}),D)),ae=re((w(R={},ee,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),w(R,te,{solid:"fass"}),R)),oe=re((w(O={},ee,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),w(O,te,{fass:"fa-solid"}),O)),se=re((w(M={},ee,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),w(M,te,{"fa-solid":"fass"}),M)),ue=/fa(s|r|l|t|d|b|k|ss)?[\-\ ]/,ce="fa-layers-text",le=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,fe=re((w(j={},ee,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),w(j,te,{900:"fass"}),j)),he=[1,2,3,4,5,6,7,8,9,10],de=he.concat([11,12,13,14,15,16,17,18,19,20]),me=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],pe="duotone-group",ve="swap-opacity",ge="primary",ye="secondary",_e=new Set;Object.keys(ae.classic).map(_e.add.bind(_e)),Object.keys(ae.sharp).map(_e.add.bind(_e));var be=[].concat(ne,S(_e),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",pe,ve,ge,ye]).concat(he.map((function(e){return"".concat(e,"x")}))).concat(de.map((function(e){return"w-".concat(e)}))),ke=U.FontAwesomeConfig||{};if(z&&"function"===typeof z.querySelector){[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=x(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=z.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==i&&null!==i&&(ke[r]=i)}))}var Ce={styleDefault:"solid",familyDefault:"classic",cssPrefix:"fa",replacementClass:G,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};ke.familyPrefix&&(ke.cssPrefix=ke.familyPrefix);var we=b(b({},Ce),ke);we.autoReplaceSvg||(we.observeMutations=!1);var xe={};Object.keys(Ce).forEach((function(e){Object.defineProperty(xe,e,{enumerable:!0,set:function(t){we[e]=t,Se.forEach((function(e){return e(xe)}))},get:function(){return we[e]}})})),Object.defineProperty(xe,"familyPrefix",{enumerable:!0,set:function(e){we.cssPrefix=e,Se.forEach((function(e){return e(xe)}))},get:function(){return we.cssPrefix}}),U.FontAwesomeConfig=xe;var Se=[];var Ee=16,Te={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Pe(){for(var e=12,t="";e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function Ie(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function Le(e){return e.classList?Ie(e.classList):(e.getAttribute("class")||"").split(" ").filter((function(e){return e}))}function Ae(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ne(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")}),"")}function De(e){return e.size!==Te.size||e.x!==Te.x||e.y!==Te.y||e.rotate!==Te.rotate||e.flipX||e.flipY}function Re(){var e="fa",t=G,n=xe.cssPrefix,r=xe.replacementClass,i=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(n!==e||r!==t){var a=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),s=new RegExp("\\.".concat(t),"g");i=i.replace(a,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(s,".".concat(r))}return i}var Oe=!1;function Me(){xe.autoAddCss&&!Oe&&(!function(e){if(e&&H){var t=z.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=z.head.childNodes,r=null,i=n.length-1;i>-1;i--){var a=n[i],o=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=a)}z.head.insertBefore(t,r)}}(Re()),Oe=!0)}var je={mixout:function(){return{dom:{css:Re,insertCss:Me}}},hooks:function(){return{beforeDOMElementCreation:function(){Me()},beforeI2svg:function(){Me()}}}},Fe=U||{};Fe.___FONT_AWESOME___||(Fe.___FONT_AWESOME___={}),Fe.___FONT_AWESOME___.styles||(Fe.___FONT_AWESOME___.styles={}),Fe.___FONT_AWESOME___.hooks||(Fe.___FONT_AWESOME___.hooks={}),Fe.___FONT_AWESOME___.shims||(Fe.___FONT_AWESOME___.shims=[]);var Ve=Fe.___FONT_AWESOME___,Ue=[],ze=!1;function Be(e){H&&(ze?setTimeout(e,0):Ue.push(e))}function We(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,a=void 0===i?[]:i;return"string"===typeof e?Ae(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(Ae(e[n]),'" ')}),"").trim()}(r),">").concat(a.map(We).join(""),"</").concat(t,">")}function He(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}H&&((ze=(z.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(z.readyState))||z.addEventListener("DOMContentLoaded",(function e(){z.removeEventListener("DOMContentLoaded",e),ze=1,Ue.map((function(e){return e()}))})));var qe=function(e,t,n,r){var i,a,o,s=Object.keys(e),u=s.length,c=void 0!==r?function(e,t){return function(n,r,i,a){return e.call(t,n,r,i,a)}}(t,r):t;for(void 0===n?(i=1,o=e[s[0]]):(i=0,o=n);i<u;i++)o=c(o,e[a=s[i]],a,e);return o};function Ge(e){var t=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);return 1===t.length?t[0].toString(16):null}function Ye(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{})}function Ke(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,i=void 0!==r&&r,a=Ye(t);"function"!==typeof Ve.hooks.addPack||i?Ve.styles[e]=b(b({},Ve.styles[e]||{}),a):Ve.hooks.addPack(e,Ye(t)),"fas"===e&&Ke("fa",t)}var Qe,Xe,Je,Ze=Ve.styles,$e=Ve.shims,et=(w(Qe={},ee,Object.values(oe.classic)),w(Qe,te,Object.values(oe.sharp)),Qe),tt=null,nt={},rt={},it={},at={},ot={},st=(w(Xe={},ee,Object.keys(ie.classic)),w(Xe,te,Object.keys(ie.sharp)),Xe);function ut(e,t){var n,r=t.split("-"),i=r[0],a=r.slice(1).join("-");return i!==e||""===a||(n=a,~be.indexOf(n))?null:a}var ct=function(){var e=function(e){return qe(Ze,(function(t,n,r){return t[r]=qe(n,e,{}),t}),{})};nt=e((function(e,t,n){(t[3]&&(e[t[3]]=n),t[2])&&t[2].filter((function(e){return"number"===typeof e})).forEach((function(t){e[t.toString(16)]=n}));return e})),rt=e((function(e,t,n){(e[n]=n,t[2])&&t[2].filter((function(e){return"string"===typeof e})).forEach((function(t){e[t]=n}));return e})),ot=e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in Ze||xe.autoFetchSvg,n=qe($e,(function(e,n){var r=n[0],i=n[1],a=n[2];return"far"!==i||t||(i="fas"),"string"===typeof r&&(e.names[r]={prefix:i,iconName:a}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:i,iconName:a}),e}),{names:{},unicodes:{}});it=n.names,at=n.unicodes,tt=mt(xe.styleDefault,{family:xe.familyDefault})};function lt(e,t){return(nt[e]||{})[t]}function ft(e,t){return(ot[e]||{})[t]}function ht(e){return it[e]||{prefix:null,iconName:null}}function dt(){return tt}!function(e){Se.push(e)}((function(e){tt=mt(e.styleDefault,{family:xe.familyDefault})})),ct();function mt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.family,r=void 0===n?ee:n,i=ie[r][e],a=ae[r][e]||ae[r][i],o=e in Ve.styles?e:null;return a||o||null}var pt=(w(Je={},ee,Object.keys(oe.classic)),w(Je,te,Object.keys(oe.sharp)),Je);function vt(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.skipLookups,i=void 0!==r&&r,a=(w(t={},ee,"".concat(xe.cssPrefix,"-").concat(ee)),w(t,te,"".concat(xe.cssPrefix,"-").concat(te)),t),o=null,s=ee;(e.includes(a.classic)||e.some((function(e){return pt.classic.includes(e)})))&&(s=ee),(e.includes(a.sharp)||e.some((function(e){return pt.sharp.includes(e)})))&&(s=te);var u=e.reduce((function(e,t){var n=ut(xe.cssPrefix,t);if(Ze[t]?(t=et[s].includes(t)?se[s][t]:t,o=t,e.prefix=t):st[s].indexOf(t)>-1?(o=t,e.prefix=mt(t,{family:s})):n?e.iconName=n:t!==xe.replacementClass&&t!==a.classic&&t!==a.sharp&&e.rest.push(t),!i&&e.prefix&&e.iconName){var r="fa"===o?ht(e.iconName):{},u=ft(e.prefix,e.iconName);r.prefix&&(o=null),e.iconName=r.iconName||u||e.iconName,e.prefix=r.prefix||e.prefix,"far"!==e.prefix||Ze.far||!Ze.fas||xe.autoFetchSvg||(e.prefix="fas")}return e}),{prefix:null,iconName:null,rest:[]});return(e.includes("fa-brands")||e.includes("fab"))&&(u.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(u.prefix="fad"),u.prefix||s!==te||!Ze.fass&&!xe.autoFetchSvg||(u.prefix="fass",u.iconName=ft(u.prefix,u.iconName)||u.iconName),"fa"!==u.prefix&&"fa"!==o||(u.prefix=dt()||"fas"),u}var gt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(t){e.definitions[t]=b(b({},e.definitions[t]||{}),i[t]),Ke(t,i[t]);var n=oe.classic[t];n&&Ke(n,i[t]),ct()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],i=r.prefix,a=r.iconName,o=r.icon,s=o[2];e[i]||(e[i]={}),s.length>0&&s.forEach((function(t){"string"===typeof t&&(e[i][t]=o)})),e[i][a]=o})),e}}],n&&C(t.prototype,n),r&&C(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),yt=[],_t={},bt={},kt=Object.keys(bt);function Ct(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=_t[e]||[];return a.forEach((function(e){t=e.apply(null,[t].concat(r))})),t}function wt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=_t[e]||[];i.forEach((function(e){e.apply(null,n)}))}function xt(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return bt[e]?bt[e].apply(null,t):void 0}function St(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||dt();if(t)return t=ft(n,t)||t,He(Et.definitions,n,t)||He(Ve.styles,n,t)}var Et=new gt,Tt={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return H?(wt("beforeI2svg",e),xt("pseudoElements2svg",e),xt("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===xe.autoReplaceSvg&&(xe.autoReplaceSvg=!0),xe.observeMutations=!0,Be((function(){Lt({autoReplaceSvgRoot:t}),wt("watch",e)}))}},Pt={icon:function(e){if(null===e)return null;if("object"===k(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:ft(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=mt(e[0]);return{prefix:n,iconName:ft(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(xe.cssPrefix,"-"))>-1||e.match(ue))){var r=vt(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||dt(),iconName:ft(r.prefix,r.iconName)||r.iconName}}if("string"===typeof e){var i=dt();return{prefix:i,iconName:ft(i,e)||e}}}},It={noAuto:function(){xe.autoReplaceSvg=!1,xe.observeMutations=!1,wt("noAuto")},config:xe,dom:Tt,parse:Pt,library:Et,findIconDefinition:St,toHtml:We},Lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot,n=void 0===t?z:t;(Object.keys(Ve.styles).length>0||xe.autoFetchSvg)&&H&&xe.autoReplaceSvg&&It.dom.i2svg({node:n})};function At(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return We(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(H){var t=z.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function Nt(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,a=e.iconName,o=e.transform,s=e.symbol,u=e.title,c=e.maskId,l=e.titleId,f=e.extra,h=e.watchable,d=void 0!==h&&h,m=r.found?r:n,p=m.width,v=m.height,g="fak"===i,y=[xe.replacementClass,a?"".concat(xe.cssPrefix,"-").concat(a):""].filter((function(e){return-1===f.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(f.classes).join(" "),_={children:[],attributes:b(b({},f.attributes),{},{"data-prefix":i,"data-icon":a,class:y,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(p," ").concat(v)})},k=g&&!~f.classes.indexOf("fa-fw")?{width:"".concat(p/v*16*.0625,"em")}:{};d&&(_.attributes[Y]=""),u&&(_.children.push({tag:"title",attributes:{id:_.attributes["aria-labelledby"]||"title-".concat(l||Pe())},children:[u]}),delete _.attributes.title);var C=b(b({},_),{},{prefix:i,iconName:a,main:n,mask:r,maskId:c,transform:o,symbol:s,styles:b(b({},k),f.styles)}),w=r.found&&n.found?xt("generateAbstractMask",C)||{children:[],attributes:{}}:xt("generateAbstractIcon",C)||{children:[],attributes:{}},x=w.children,S=w.attributes;return C.children=x,C.attributes=S,s?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,a=e.symbol,o=!0===a?"".concat(t,"-").concat(xe.cssPrefix,"-").concat(n):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:b(b({},i),{},{id:o}),children:r}]}]}(C):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,a=e.styles,o=e.transform;if(De(o)&&n.found&&!r.found){var s={x:n.width/n.height/2,y:.5};i.style=Ne(b(b({},a),{},{"transform-origin":"".concat(s.x+o.x/16,"em ").concat(s.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(C)}function Dt(e){var t=e.content,n=e.width,r=e.height,i=e.transform,a=e.title,o=e.extra,s=e.watchable,u=void 0!==s&&s,c=b(b(b({},o.attributes),a?{title:a}:{}),{},{class:o.classes.join(" ")});u&&(c[Y]="");var l=b({},o.styles);De(i)&&(l.transform=function(e){var t=e.transform,n=e.width,r=void 0===n?16:n,i=e.height,a=void 0===i?16:i,o=e.startCentered,s=void 0!==o&&o,u="";return u+=s&&q?"translate(".concat(t.x/Ee-r/2,"em, ").concat(t.y/Ee-a/2,"em) "):s?"translate(calc(-50% + ".concat(t.x/Ee,"em), calc(-50% + ").concat(t.y/Ee,"em)) "):"translate(".concat(t.x/Ee,"em, ").concat(t.y/Ee,"em) "),u+="scale(".concat(t.size/Ee*(t.flipX?-1:1),", ").concat(t.size/Ee*(t.flipY?-1:1),") "),u+"rotate(".concat(t.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),l["-webkit-transform"]=l.transform);var f=Ne(l);f.length>0&&(c.style=f);var h=[];return h.push({tag:"span",attributes:c,children:[t]}),a&&h.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),h}function Rt(e){var t=e.content,n=e.title,r=e.extra,i=b(b(b({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),a=Ne(r.styles);a.length>0&&(i.style=a);var o=[];return o.push({tag:"span",attributes:i,children:[t]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var Ot=Ve.styles;function Mt(e){var t=e[0],n=e[1],r=x(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(xe.cssPrefix,"-").concat(pe)},children:[{tag:"path",attributes:{class:"".concat(xe.cssPrefix,"-").concat(ye),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(xe.cssPrefix,"-").concat(ge),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}var jt={found:!1,width:512,height:512};function Ft(e,t){var n=t;return"fa"===t&&null!==xe.styleDefault&&(t=dt()),new Promise((function(r,i){xt("missingIconAbstract");if("fa"===n){var a=ht(e)||{};e=a.iconName||e,t=a.prefix||t}if(e&&t&&Ot[t]&&Ot[t][e])return r(Mt(Ot[t][e]));!function(e,t){$||xe.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(b(b({},jt),{},{icon:xe.showMissingIcons&&e&&xt("missingIconAbstract")||{}}))}))}var Vt=function(){},Ut=xe.measurePerformance&&W&&W.mark&&W.measure?W:{mark:Vt,measure:Vt},zt='FA "6.2.0"',Bt=function(e){Ut.mark("".concat(zt," ").concat(e," ends")),Ut.measure("".concat(zt," ").concat(e),"".concat(zt," ").concat(e," begins"),"".concat(zt," ").concat(e," ends"))},Wt=function(e){return Ut.mark("".concat(zt," ").concat(e," begins")),function(){return Bt(e)}},Ht=function(){};function qt(e){return"string"===typeof(e.getAttribute?e.getAttribute(Y):null)}function Gt(e){return z.createElementNS("http://www.w3.org/2000/svg",e)}function Yt(e){return z.createElement(e)}function Kt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.ceFn,r=void 0===n?"svg"===e.tag?Gt:Yt:n;if("string"===typeof e)return z.createTextNode(e);var i=r(e.tag);Object.keys(e.attributes||[]).forEach((function(t){i.setAttribute(t,e.attributes[t])}));var a=e.children||[];return a.forEach((function(e){i.appendChild(Kt(e,{ceFn:r}))})),i}var Qt={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach((function(e){t.parentNode.insertBefore(Kt(e),t)})),null===t.getAttribute(Y)&&xe.keepOriginalSource){var n=z.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){var t=e[0],n=e[1];if(~Le(t).indexOf(xe.replacementClass))return Qt.replace(e);var r=new RegExp("".concat(xe.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var i=n[0].attributes.class.split(" ").reduce((function(e,t){return t===xe.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e}),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),0===i.toNode.length?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}var a=n.map((function(e){return We(e)})).join("\n");t.setAttribute(Y,""),t.innerHTML=a}};function Xt(e){e()}function Jt(e,t){var n="function"===typeof t?t:Ht;if(0===e.length)n();else{var r=Xt;"async"===xe.mutateApproach&&(r=U.requestAnimationFrame||Xt),r((function(){var t=!0===xe.autoReplaceSvg?Qt.replace:Qt[xe.autoReplaceSvg]||Qt.replace,r=Wt("mutate");e.map(t),r(),n()}))}}var Zt=!1;function $t(){Zt=!0}function en(){Zt=!1}var tn=null;function nn(e){if(B&&xe.observeMutations){var t=e.treeCallback,n=void 0===t?Ht:t,r=e.nodeCallback,i=void 0===r?Ht:r,a=e.pseudoElementsCallback,o=void 0===a?Ht:a,s=e.observeMutationsRoot,u=void 0===s?z:s;tn=new B((function(e){if(!Zt){var t=dt();Ie(e).forEach((function(e){if("childList"===e.type&&e.addedNodes.length>0&&!qt(e.addedNodes[0])&&(xe.searchPseudoElements&&o(e.target),n(e.target)),"attributes"===e.type&&e.target.parentNode&&xe.searchPseudoElements&&o(e.target.parentNode),"attributes"===e.type&&qt(e.target)&&~me.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute(Q):null,n=e.getAttribute?e.getAttribute(X):null;return t&&n}(e.target)){var r=vt(Le(e.target)),a=r.prefix,s=r.iconName;e.target.setAttribute(Q,a||t),s&&e.target.setAttribute(X,s)}else(u=e.target)&&u.classList&&u.classList.contains&&u.classList.contains(xe.replacementClass)&&i(e.target);var u}))}})),H&&tn.observe(u,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function rn(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce((function(e,t){var n=t.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(e[r]=i.join(":").trim()),e}),{})),n}function an(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"",i=vt(Le(e));return i.prefix||(i.prefix=dt()),t&&n&&(i.prefix=t,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function(e,t){return(rt[e]||{})[t]}(i.prefix,e.innerText)||lt(i.prefix,Ge(e.innerText))),!i.iconName&&xe.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=e.firstChild.data)),i}function on(e){var t=Ie(e.attributes).reduce((function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e}),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return xe.autoA11y&&(n?t["aria-labelledby"]="".concat(xe.replacementClass,"-title-").concat(r||Pe()):(t["aria-hidden"]="true",t.focusable="false")),t}function sn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=an(e),r=n.iconName,i=n.prefix,a=n.rest,o=on(e),s=Ct("parseNodeAttributes",{},e),u=t.styleParser?rn(e):[];return b({iconName:r,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:i,transform:Te,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:u,attributes:o}},s)}var un=Ve.styles;function cn(e){var t="nest"===xe.autoReplaceSvg?sn(e,{styleParser:!1}):sn(e);return~t.extra.classes.indexOf(ce)?xt("generateLayersText",e,t):xt("generateSvgReplacementMutation",e,t)}var ln=new Set;function fn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!H)return Promise.resolve();var n=z.documentElement.classList,r=function(e){return n.add("".concat(J,"-").concat(e))},i=function(e){return n.remove("".concat(J,"-").concat(e))},a=xe.autoFetchSvg?ln:ne.map((function(e){return"fa-".concat(e)})).concat(Object.keys(un));a.includes("fa")||a.push("fa");var o=[".".concat(ce,":not([").concat(Y,"])")].concat(a.map((function(e){return".".concat(e,":not([").concat(Y,"])")}))).join(", ");if(0===o.length)return Promise.resolve();var s=[];try{s=Ie(e.querySelectorAll(o))}catch(yB){}if(!(s.length>0))return Promise.resolve();r("pending"),i("complete");var u=Wt("onTree"),c=s.reduce((function(e,t){try{var n=cn(t);n&&e.push(n)}catch(yB){$||"MissingIcon"===yB.name&&console.error(yB)}return e}),[]);return new Promise((function(e,n){Promise.all(c).then((function(n){Jt(n,(function(){r("active"),r("complete"),i("pending"),"function"===typeof t&&t(),u(),e()}))})).catch((function(e){u(),n(e)}))}))}function hn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;cn(e).then((function(e){e&&Jt([e],t)}))}ne.map((function(e){ln.add("fa-".concat(e))})),Object.keys(ie.classic).map(ln.add.bind(ln)),Object.keys(ie.sharp).map(ln.add.bind(ln)),ln=S(ln);var dn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?Te:n,i=t.symbol,a=void 0!==i&&i,o=t.mask,s=void 0===o?null:o,u=t.maskId,c=void 0===u?null:u,l=t.title,f=void 0===l?null:l,h=t.titleId,d=void 0===h?null:h,m=t.classes,p=void 0===m?[]:m,v=t.attributes,g=void 0===v?{}:v,y=t.styles,_=void 0===y?{}:y;if(e){var k=e.prefix,C=e.iconName,w=e.icon;return At(b({type:"icon"},e),(function(){return wt("beforeDOMElementCreation",{iconDefinition:e,params:t}),xe.autoA11y&&(f?g["aria-labelledby"]="".concat(xe.replacementClass,"-title-").concat(d||Pe()):(g["aria-hidden"]="true",g.focusable="false")),Nt({icons:{main:Mt(w),mask:s?Mt(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:k,iconName:C,transform:b(b({},Te),r),symbol:a,title:f,maskId:c,titleId:d,extra:{attributes:g,styles:_,classes:p}})}))}},mn={mixout:function(){return{icon:(e=dn,function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:St(t||{}),i=n.mask;return i&&(i=(i||{}).icon?i:St(i||{})),e(r,b(b({},n),{},{mask:i}))})};var e},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=fn,e.nodeCallback=hn,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,n=void 0===t?z:t,r=e.callback;return fn(n,void 0===r?function(){}:r)},e.generateSvgReplacementMutation=function(e,t){var n=t.iconName,r=t.title,i=t.titleId,a=t.prefix,o=t.transform,s=t.symbol,u=t.mask,c=t.maskId,l=t.extra;return new Promise((function(t,f){Promise.all([Ft(n,a),u.iconName?Ft(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((function(u){var f=x(u,2),h=f[0],d=f[1];t([e,Nt({icons:{main:h,mask:d},prefix:a,iconName:n,transform:o,symbol:s,maskId:c,title:r,titleId:i,extra:l,watchable:!0})])})).catch(f)}))},e.generateAbstractIcon=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.transform,o=Ne(e.styles);return o.length>0&&(r.style=o),De(a)&&(t=xt("generateAbstractTransformGrouping",{main:i,transform:a,containerWidth:i.width,iconWidth:i.width})),n.push(t||i.icon),{children:n,attributes:r}}}},pn={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.classes,r=void 0===n?[]:n;return At({type:"layer"},(function(){wt("beforeDOMElementCreation",{assembler:e,params:t});var n=[];return e((function(e){Array.isArray(e)?e.map((function(e){n=n.concat(e.abstract)})):n=n.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(xe.cssPrefix,"-layers")].concat(S(r)).join(" ")},children:n}]}))}}}},vn={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=void 0===n?null:n,i=t.classes,a=void 0===i?[]:i,o=t.attributes,s=void 0===o?{}:o,u=t.styles,c=void 0===u?{}:u;return At({type:"counter",content:e},(function(){return wt("beforeDOMElementCreation",{content:e,params:t}),Rt({content:e.toString(),title:r,extra:{attributes:s,styles:c,classes:["".concat(xe.cssPrefix,"-layers-counter")].concat(S(a))}})}))}}}},gn={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?Te:n,i=t.title,a=void 0===i?null:i,o=t.classes,s=void 0===o?[]:o,u=t.attributes,c=void 0===u?{}:u,l=t.styles,f=void 0===l?{}:l;return At({type:"text",content:e},(function(){return wt("beforeDOMElementCreation",{content:e,params:t}),Dt({content:e,transform:b(b({},Te),r),title:a,extra:{attributes:c,styles:f,classes:["".concat(xe.cssPrefix,"-layers-text")].concat(S(s))}})}))}}},provides:function(e){e.generateLayersText=function(e,t){var n=t.title,r=t.transform,i=t.extra,a=null,o=null;if(q){var s=parseInt(getComputedStyle(e).fontSize,10),u=e.getBoundingClientRect();a=u.width/s,o=u.height/s}return xe.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,Dt({content:e.innerHTML,width:a,height:o,transform:r,title:n,extra:i,watchable:!0})])}}},yn=new RegExp('"',"ug"),_n=[1105920,1112319];function bn(e,t){var n="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise((function(r,i){if(null!==e.getAttribute(n))return r();var a=Ie(e.children).filter((function(e){return e.getAttribute(K)===t}))[0],o=U.getComputedStyle(e,t),s=o.getPropertyValue("font-family").match(le),u=o.getPropertyValue("font-weight"),c=o.getPropertyValue("content");if(a&&!s)return e.removeChild(a),r();if(s&&"none"!==c&&""!==c){var l=o.getPropertyValue("content"),f=~["Sharp"].indexOf(s[2])?te:ee,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(s[2])?ae[f][s[2].toLowerCase()]:fe[f][u],d=function(e){var t=e.replace(yn,""),n=function(e,t){var n,r=e.length,i=e.charCodeAt(t);return i>=55296&&i<=56319&&r>t+1&&(n=e.charCodeAt(t+1))>=56320&&n<=57343?1024*(i-55296)+n-56320+65536:i}(t,0),r=n>=_n[0]&&n<=_n[1],i=2===t.length&&t[0]===t[1];return{value:Ge(i?t[0]:t),isSecondary:r||i}}(l),m=d.value,p=d.isSecondary,v=s[0].startsWith("FontAwesome"),g=lt(h,m),y=g;if(v){var _=function(e){var t=at[e],n=lt("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(m);_.iconName&&_.prefix&&(g=_.iconName,h=_.prefix)}if(!g||p||a&&a.getAttribute(Q)===h&&a.getAttribute(X)===y)r();else{e.setAttribute(n,y),a&&e.removeChild(a);var k={iconName:null,title:null,titleId:null,prefix:null,transform:Te,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},C=k.extra;C.attributes[K]=t,Ft(g,h).then((function(i){var a=Nt(b(b({},k),{},{icons:{main:i,mask:{prefix:null,iconName:null,rest:[]}},prefix:h,iconName:y,extra:C,watchable:!0})),o=z.createElement("svg");"::before"===t?e.insertBefore(o,e.firstChild):e.appendChild(o),o.outerHTML=a.map((function(e){return We(e)})).join("\n"),e.removeAttribute(n),r()})).catch(i)}}else r()}))}function kn(e){return Promise.all([bn(e,"::before"),bn(e,"::after")])}function Cn(e){return e.parentNode!==document.head&&!~Z.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(K)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function wn(e){if(H)return new Promise((function(t,n){var r=Ie(e.querySelectorAll("*")).filter(Cn).map(kn),i=Wt("searchPseudoElements");$t(),Promise.all(r).then((function(){i(),en(),t()})).catch((function(){i(),en(),n()}))}))}var xn=!1,Sn=function(e){return e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},En={mixout:function(){return{parse:{transform:function(e){return Sn(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-transform");return n&&(e.transform=Sn(n)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,n=e.transform,r=e.containerWidth,i=e.iconWidth,a={transform:"translate(".concat(r/2," 256)")},o="translate(".concat(32*n.x,", ").concat(32*n.y,") "),s="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),u="rotate(".concat(n.rotate," 0 0)"),c={outer:a,inner:{transform:"".concat(o," ").concat(s," ").concat(u)},path:{transform:"translate(".concat(i/2*-1," -256)")}};return{tag:"g",attributes:b({},c.outer),children:[{tag:"g",attributes:b({},c.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:b(b({},t.icon.attributes),c.path)}]}]}}}},Tn={x:0,y:0,width:"100%",height:"100%"};function Pn(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var In={hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-mask"),r=n?vt(n.split(" ").map((function(e){return e.trim()}))):{prefix:null,iconName:null,rest:[]};return r.prefix||(r.prefix=dt()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.mask,o=e.maskId,s=e.transform,u=i.width,c=i.icon,l=a.width,f=a.icon,h=function(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},a="translate(".concat(32*t.x,", ").concat(32*t.y,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),s="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(o," ").concat(s)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:s,containerWidth:l,iconWidth:u}),d={tag:"rect",attributes:b(b({},Tn),{},{fill:"white"})},m=c.children?{children:c.children.map(Pn)}:{},p={tag:"g",attributes:b({},h.inner),children:[Pn(b({tag:c.tag,attributes:b(b({},c.attributes),h.path)},m))]},v={tag:"g",attributes:b({},h.outer),children:[p]},g="mask-".concat(o||Pe()),y="clip-".concat(o||Pe()),_={tag:"mask",attributes:b(b({},Tn),{},{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[d,v]},k={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:(t=f,"g"===t.tag?t.children:[t])},_]};return n.push(k,{tag:"rect",attributes:b({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(g,")")},Tn)}),{children:n,attributes:r}}}},Ln={provides:function(e){var t=!1;U.matchMedia&&(t=U.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:b(b({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var i=b(b({},r),{},{attributeName:"opacity"}),a={tag:"circle",attributes:b(b({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||a.children.push({tag:"animate",attributes:b(b({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:b(b({},i),{},{values:"1;0;1;1;0;1;"})}),e.push(a),e.push({tag:"path",attributes:b(b({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:b(b({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:b(b({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:b(b({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){var n=t.mixoutsTo;yt=e,_t={},Object.keys(bt).forEach((function(e){-1===kt.indexOf(e)&&delete bt[e]})),yt.forEach((function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((function(e){"function"===typeof t[e]&&(n[e]=t[e]),"object"===k(t[e])&&Object.keys(t[e]).forEach((function(r){n[e]||(n[e]={}),n[e][r]=t[e][r]}))})),e.hooks){var r=e.hooks();Object.keys(r).forEach((function(e){_t[e]||(_t[e]=[]),_t[e].push(r[e])}))}e.provides&&e.provides(bt)}))}([je,mn,pn,vn,gn,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=wn,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,n=void 0===t?z:t;xe.searchPseudoElements&&wn(n)}}},{mixout:function(){return{dom:{unwatch:function(){$t(),xn=!0}}}},hooks:function(){return{bootstrap:function(){nn(Ct("mutationObserverCallbacks",{}))},noAuto:function(){tn&&tn.disconnect()},watch:function(e){var t=e.observeMutationsRoot;xn?en():nn(Ct("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},En,In,Ln,{hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}}}}],{mixoutsTo:It});var An=It.parse,Nn=It.icon,Dn=n(7),Rn=n.n(Dn);function On(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?On(Object(n),!0).forEach((function(t){Fn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):On(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jn(e){return jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jn(e)}function Fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Un(e){return function(e){if(Array.isArray(e))return zn(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return zn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bn(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var Wn=["style"];function Hn(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=Bn(t.slice(0,r)),a=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=a:e[i]=a,e}),{})}var qn=!1;try{qn=!0}catch(yB){}function Gn(e){return e&&"object"===jn(e)&&e.prefix&&e.iconName&&e.icon?e:An.icon?An.icon(e):null===e?null:e&&"object"===jn(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function Yn(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?Fn({},e,t):{}}var Kn=r.forwardRef((function(e,t){var n=e.icon,r=e.mask,i=e.symbol,a=e.className,o=e.title,s=e.titleId,u=e.maskId,c=Gn(n),l=Yn("classes",[].concat(Un(function(e){var t,n=e.beat,r=e.fade,i=e.beatFade,a=e.bounce,o=e.shake,s=e.flash,u=e.spin,c=e.spinPulse,l=e.spinReverse,f=e.pulse,h=e.fixedWidth,d=e.inverse,m=e.border,p=e.listItem,v=e.flip,g=e.size,y=e.rotation,_=e.pull,b=(Fn(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":a,"fa-shake":o,"fa-flash":s,"fa-spin":u,"fa-spin-reverse":l,"fa-spin-pulse":c,"fa-pulse":f,"fa-fw":h,"fa-inverse":d,"fa-border":m,"fa-li":p,"fa-flip":!0===v,"fa-flip-horizontal":"horizontal"===v||"both"===v,"fa-flip-vertical":"vertical"===v||"both"===v},"fa-".concat(g),"undefined"!==typeof g&&null!==g),Fn(t,"fa-rotate-".concat(y),"undefined"!==typeof y&&null!==y&&0!==y),Fn(t,"fa-pull-".concat(_),"undefined"!==typeof _&&null!==_),Fn(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(b).map((function(e){return b[e]?e:null})).filter((function(e){return e}))}(e)),Un(a.split(" ")))),f=Yn("transform","string"===typeof e.transform?An.transform(e.transform):e.transform),h=Yn("mask",Gn(r)),d=Nn(c,Mn(Mn(Mn(Mn({},l),f),h),{},{symbol:i,title:o,titleId:s,maskId:u}));if(!d)return function(){var e;!qn&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",c),null;var m=d.abstract,p={ref:t};return Object.keys(e).forEach((function(t){Kn.defaultProps.hasOwnProperty(t)||(p[t]=e[t])})),Qn(m[0],p)}));Kn.displayName="FontAwesomeIcon",Kn.propTypes={beat:Rn().bool,border:Rn().bool,beatFade:Rn().bool,bounce:Rn().bool,className:Rn().string,fade:Rn().bool,flash:Rn().bool,mask:Rn().oneOfType([Rn().object,Rn().array,Rn().string]),maskId:Rn().string,fixedWidth:Rn().bool,inverse:Rn().bool,flip:Rn().oneOf([!0,!1,"horizontal","vertical","both"]),icon:Rn().oneOfType([Rn().object,Rn().array,Rn().string]),listItem:Rn().bool,pull:Rn().oneOf(["right","left"]),pulse:Rn().bool,rotation:Rn().oneOf([0,90,180,270]),shake:Rn().bool,size:Rn().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Rn().bool,spinPulse:Rn().bool,spinReverse:Rn().bool,symbol:Rn().oneOfType([Rn().bool,Rn().string]),title:Rn().string,titleId:Rn().string,transform:Rn().oneOfType([Rn().string,Rn().object]),swapOpacity:Rn().bool},Kn.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var Qn=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),a=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=Hn(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[Bn(t)]=r}return e}),{attrs:{}}),o=r.style,s=void 0===o?{}:o,u=Vn(r,Wn);return a.attrs.style=Mn(Mn({},a.attrs.style),s),t.apply(void 0,[n.tag,Mn(Mn({},a.attrs),u)].concat(Un(i)))}.bind(null,r.createElement),Xn=n.p+"static/media/latent-view-analytics-logo.e38edca9a6fbce4103b1.jpg",Jn=function(e){var t=e.handleLogout;e.name;return(0,l.jsxs)("header",{children:[(0,l.jsxs)("div",{className:"header-left",children:[(0,l.jsx)("div",{children:(0,l.jsx)("img",{src:Xn,alt:Xn})}),(0,l.jsx)("span",{children:"one customer view"})]}),(0,l.jsx)("div",{className:"header-right",children:(0,l.jsx)(Kn,{icon:m,onClick:t,title:"Logout"})})]})};function Zn(e,t){return Zn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zn(e,t)}function $n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Zn(e,t)}function er(){return er=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},er.apply(this,arguments)}function tr(e){return"/"===e.charAt(0)}function nr(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var rr=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&tr(e),o=t&&tr(t),s=a||o;if(e&&tr(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var u=i[i.length-1];n="."===u||".."===u||""===u}else n=!1;for(var c=0,l=i.length;l>=0;l--){var f=i[l];"."===f?nr(i,l):".."===f?(nr(i,l),c++):c&&(nr(i,l),c--)}if(!s)for(;c--;c)i.unshift("..");!s||""===i[0]||i[0]&&tr(i[0])||i.unshift("");var h=i.join("/");return n&&"/"!==h.substr(-1)&&(h+="/"),h},ir="Invariant failed";function ar(e,t){if(!e)throw new Error(ir)}function or(e){return"/"===e.charAt(0)?e:"/"+e}function sr(e){return"/"===e.charAt(0)?e.substr(1):e}function ur(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function cr(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function lr(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function fr(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=er({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(yB){throw yB instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):yB}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=rr(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function hr(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var dr=!("undefined"===typeof window||!window.document||!window.document.createElement);function mr(e,t){t(window.confirm(e))}var pr="popstate",vr="hashchange";function gr(){try{return window.history.state||{}}catch(yB){return{}}}function yr(e){void 0===e&&(e={}),dr||ar(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,o=void 0!==a&&a,s=i.getUserConfirmation,u=void 0===s?mr:s,c=i.keyLength,l=void 0===c?6:c,f=e.basename?cr(or(e.basename)):"";function h(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return f&&(a=ur(a,f)),fr(a,r,n)}function d(){return Math.random().toString(36).substr(2,l)}var m=hr();function p(e){er(T,e),T.length=t.length,m.notifyListeners(T.location,T.action)}function v(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||_(h(e.state))}function g(){_(h(gr()))}var y=!1;function _(e){if(y)y=!1,p();else{m.confirmTransitionTo(e,"POP",u,(function(t){t?p({action:"POP",location:e}):function(e){var t=T.location,n=k.indexOf(t.key);-1===n&&(n=0);var r=k.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(y=!0,w(i))}(e)}))}}var b=h(gr()),k=[b.key];function C(e){return f+lr(e)}function w(e){t.go(e)}var x=0;function S(e){1===(x+=e)&&1===e?(window.addEventListener(pr,v),r&&window.addEventListener(vr,g)):0===x&&(window.removeEventListener(pr,v),r&&window.removeEventListener(vr,g))}var E=!1;var T={length:t.length,action:"POP",location:b,createHref:C,push:function(e,r){var i="PUSH",a=fr(e,r,d(),T.location);m.confirmTransitionTo(a,i,u,(function(e){if(e){var r=C(a),s=a.key,u=a.state;if(n)if(t.pushState({key:s,state:u},null,r),o)window.location.href=r;else{var c=k.indexOf(T.location.key),l=k.slice(0,c+1);l.push(a.key),k=l,p({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=fr(e,r,d(),T.location);m.confirmTransitionTo(a,i,u,(function(e){if(e){var r=C(a),s=a.key,u=a.state;if(n)if(t.replaceState({key:s,state:u},null,r),o)window.location.replace(r);else{var c=k.indexOf(T.location.key);-1!==c&&(k[c]=a.key),p({action:i,location:a})}else window.location.replace(r)}}))},go:w,goBack:function(){w(-1)},goForward:function(){w(1)},block:function(e){void 0===e&&(e=!1);var t=m.setPrompt(e);return E||(S(1),E=!0),function(){return E&&(E=!1,S(-1)),t()}},listen:function(e){var t=m.appendListener(e);return S(1),function(){S(-1),t()}}};return T}var _r="hashchange",br={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+sr(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:sr,decodePath:or},slash:{encodePath:or,decodePath:or}};function kr(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function Cr(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function wr(e){window.location.replace(kr(window.location.href)+"#"+e)}function xr(e){void 0===e&&{},dr||ar(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?mr:r,a=n.hashType,o=void 0===a?"slash":a,s=e.basename?cr(or(e.basename)):"",u=br[o],c=u.encodePath,l=u.decodePath;function f(){var e=l(Cr());return s&&ur(e,s),fr(e)}var h=hr();function d(e){er(S,e),S.length=t.length,h.notifyListeners(S.location,S.action)}var m=!1,p=null;function v(){var e=Cr(),t=c(e);if(e!==t)wr(t);else{var n=f(),r=S.location;if(!m&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(p===lr(n))return;null,function(e){if(m)!1,d();else{var t="POP";h.confirmTransitionTo(e,t,i,(function(n){n?d({action:t,location:e}):function(e){var t=S.location,n=b.lastIndexOf(lr(t));-1===n&&0;var r=b.lastIndexOf(lr(e));-1===r&&0;var i=n-r;i&&(!0,k(i))}(e)}))}}(n)}}var g=Cr(),y=c(g);g!==y&&wr(y);var _=f(),b=[lr(_)];function k(e){t.go(e)}var C=0;function w(e){1===(C+=e)&&1===e?window.addEventListener(_r,v):0===C&&window.removeEventListener(_r,v)}var x=!1;var S={length:t.length,action:"POP",location:_,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&kr(window.location.href),n+"#"+c(s+lr(e))},push:function(e,t){var n="PUSH",r=fr(e,void 0,void 0,S.location);h.confirmTransitionTo(r,n,i,(function(e){if(e){var t=lr(r),i=c(s+t);if(Cr()!==i){t,function(e){window.location.hash=e}(i);var a=b.lastIndexOf(lr(S.location)),o=b.slice(0,a+1);o.push(t),o,d({action:n,location:r})}else d()}}))},replace:function(e,t){var n="REPLACE",r=fr(e,void 0,void 0,S.location);h.confirmTransitionTo(r,n,i,(function(e){if(e){var t=lr(r),i=c(s+t);Cr()!==i&&(t,wr(i));var a=b.indexOf(lr(S.location));-1!==a&&(b[a]=t),d({action:n,location:r})}}))},go:k,goBack:function(){k(-1)},goForward:function(){k(1)},block:function(e){void 0===e&&!1;var t=h.setPrompt(e);return x||(w(1),!0),function(){return x&&(!1,w(-1)),t()}},listen:function(e){var t=h.appendListener(e);return w(1),function(){w(-1),t()}}};return S}function Sr(e,t,n){return Math.min(Math.max(e,t),n)}function Er(e){void 0===e&&{};var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,a=t.initialIndex,o=void 0===a?0:a,s=t.keyLength,u=void 0===s?6:s,c=hr();function l(e){er(v,e),v.length=v.entries.length,c.notifyListeners(v.location,v.action)}function f(){return Math.random().toString(36).substr(2,u)}var h=Sr(o,0,i.length-1),d=i.map((function(e){return fr(e,void 0,"string"===typeof e?f():e.key||f())})),m=lr;function p(e){var t=Sr(v.index+e,0,v.entries.length-1),r=v.entries[t];c.confirmTransitionTo(r,"POP",n,(function(e){e?l({action:"POP",location:r,index:t}):l()}))}var v={length:d.length,action:"POP",location:d[h],index:h,entries:d,createHref:m,push:function(e,t){var r="PUSH",i=fr(e,t,f(),v.location);c.confirmTransitionTo(i,r,n,(function(e){if(e){var t=v.index+1,n=v.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),l({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=fr(e,t,f(),v.location);c.confirmTransitionTo(i,r,n,(function(e){e&&(v.entries[v.index]=i,l({action:r,location:i}))}))},go:p,goBack:function(){p(-1)},goForward:function(){p(1)},canGo:function(e){var t=v.index+e;return t>=0&&t<v.entries.length},block:function(e){return void 0===e&&!1,c.setPrompt(e)},listen:function(e){return c.appendListener(e)}};return v}var Tr=1073741823,Pr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function Ir(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var Lr=r.createContext||function(e,t){var n,i,a="__create-react-context-"+function(){var e="__global_unique_id__";return Pr[e]=(Pr[e]||0)+1}()+"__",o=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=Ir(t.props.value),t}$n(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(n="function"===typeof t?t(r,i):Tr,0!==(n|=0)&&this.emitter.set(e.value,n)):n=0}},r.render=function(){return this.props.children},n}(r.Component);o.childContextTypes=((n={})[a]=Rn().object.isRequired,n);var s=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}$n(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?Tr:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?Tr:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return s.contextTypes=((i={})[a]=Rn().object,i),{Provider:o,Consumer:s}},Ar=Lr,Nr=n(239),Dr=n.n(Nr);n(228);function Rr(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n(110);var Or=function(e){var t=Ar();return t.displayName=e,t},Mr=Or("Router-History"),jr=Or("Router"),Fr=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}$n(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return r.createElement(jr.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},r.createElement(Mr.Provider,{children:this.props.children||null,value:this.props.history}))},t}(r.Component);r.Component;r.Component;var Vr={},Ur=0;function zr(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,s=void 0!==o&&o,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=Vr[n]||(Vr[n]={});if(r[e])return r[e];var i=[],a={regexp:Dr()(e,i,t),keys:i};return Ur<1e4&&(r[e]=a,Ur++),a}(n,{end:a,strict:s,sensitive:c}),i=r.regexp,o=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],f=u.slice(1),h=e===l;return a&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var Br=function(e){function t(){return e.apply(this,arguments)||this}return $n(t,e),t.prototype.render=function(){var e=this;return r.createElement(jr.Consumer,null,(function(t){t||ar(!1);var n=e.props.location||t.location,i=er({},t,{location:n,match:e.props.computedMatch?e.props.computedMatch:e.props.path?zr(n.pathname,e.props):t.match}),a=e.props,o=a.children,s=a.component,u=a.render;return Array.isArray(o)&&function(e){return 0===r.Children.count(e)}(o)&&(o=null),r.createElement(jr.Provider,{value:i},i.match?o?"function"===typeof o?o(i):o:s?r.createElement(s,i):u?u(i):null:"function"===typeof o?o(i):null)}))},t}(r.Component);function Wr(e){return"/"===e.charAt(0)?e:"/"+e}function Hr(e,t){if(!e)return t;var n=Wr(e);return 0!==t.pathname.indexOf(n)?t:er({},t,{pathname:t.pathname.substr(n.length)})}function qr(e){return"string"===typeof e?e:lr(e)}function Gr(e){return function(){ar(!1)}}function Yr(){}r.Component;r.Component;var Kr=r.useContext;function Qr(){return Kr(Mr)}var Xr=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=yr(t.props),t}return $n(t,e),t.prototype.render=function(){return r.createElement(Fr,{history:this.history,children:this.props.children})},t}(r.Component);r.Component;var Jr=function(e,t){return"function"===typeof e?e(t):e},Zr=function(e,t){return"string"===typeof e?fr(e,null,null,t):e},$r=function(e){return e},ei=r.forwardRef;"undefined"===typeof ei&&(ei=$r);var ti=ei((function(e,t){var n=e.innerRef,i=e.navigate,a=e.onClick,o=Rr(e,["innerRef","navigate","onClick"]),s=o.target,u=er({},o,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return u.ref=$r!==ei&&t||n,r.createElement("a",u)}));var ni=ei((function(e,t){var n=e.component,i=void 0===n?ti:n,a=e.replace,o=e.to,s=e.innerRef,u=Rr(e,["component","replace","to","innerRef"]);return r.createElement(jr.Consumer,null,(function(e){e||ar(!1);var n=e.history,c=Zr(Jr(o,e.location),e.location),l=c?n.createHref(c):"",f=er({},u,{href:l,navigate:function(){var t=Jr(o,e.location),r=lr(e.location)===lr(Zr(t));(a||r?n.replace:n.push)(t)}});return $r!==ei?f.ref=t||s:f.innerRef=s,r.createElement(i,f)}))})),ri=function(e){return e},ii=r.forwardRef;"undefined"===typeof ii&&(ii=ri);var ai=ii((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,a=e.activeClassName,o=void 0===a?"active":a,s=e.activeStyle,u=e.className,c=e.exact,l=e.isActive,f=e.location,h=e.sensitive,d=e.strict,m=e.style,p=e.to,v=e.innerRef,g=Rr(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return r.createElement(jr.Consumer,null,(function(e){e||ar(!1);var n=f||e.location,a=Zr(Jr(p,n),n),y=a.pathname,_=y&&y.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),b=_?zr(n.pathname,{path:_,exact:c,sensitive:h,strict:d}):null,k=!!(l?l(b,n):b),C="function"===typeof u?u(k):u,w="function"===typeof m?m(k):m;k&&(C=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(C,o),w=er({},w,s));var x=er({"aria-current":k&&i||null,className:C,style:w,to:a},g);return ri!==ii?x.ref=t||v:x.innerRef=v,r.createElement(ni,x)}))})),oi="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),si=new Uint8Array(16);function ui(){if(!oi)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return oi(si)}for(var ci=[],li=0;li<256;++li)ci[li]=(li+256).toString(16).substr(1);var fi=function(e,t){var n=t||0,r=ci;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")};var hi=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||ui)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var a=0;a<16;++a)t[r+a]=i[a];return t||fi(i)};function di(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mi(e,t,n){return t&&di(e.prototype,t),n&&di(e,n),e}function pi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vi(){return vi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vi.apply(this,arguments)}function gi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gi(Object(n),!0).forEach((function(t){pi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _i(e){return _i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_i(e)}function bi(e,t){return bi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},bi(e,t)}function ki(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var Ci={HIDE:"__react_tooltip_hide_event",REBUILD:"__react_tooltip_rebuild_event",SHOW:"__react_tooltip_show_event"},wi=function(e,t){var n;"function"===typeof window.CustomEvent?n=new window.CustomEvent(e,{detail:t}):(n=document.createEvent("Event")).initEvent(e,!1,!0,t),window.dispatchEvent(n)};var xi=function(e,t){var n=this.state.show,r=this.props.id,i=this.isCapture(t.currentTarget),a=t.currentTarget.getAttribute("currentItem");i||t.stopPropagation(),n&&"true"===a?e||this.hideTooltip(t):(t.currentTarget.setAttribute("currentItem","true"),Si(t.currentTarget,this.getTargetArray(r)),this.showTooltip(t))},Si=function(e,t){for(var n=0;n<t.length;n++)e!==t[n]?t[n].setAttribute("currentItem","false"):t[n].setAttribute("currentItem","true")},Ei={id:"9b69f92e-d3fe-498b-b1b4-c5e63a51b0cf",set:function(e,t,n){this.id in e?e[this.id][t]=n:Object.defineProperty(e,this.id,{configurable:!0,value:pi({},t,n)})},get:function(e,t){var n=e[this.id];if(void 0!==n)return n[t]}};var Ti=function(e,t,n){var r=t.respectEffect,i=void 0!==r&&r,a=t.customEvent,o=void 0!==a&&a,s=this.props.id,u=n.target.getAttribute("data-tip")||null,c=n.target.getAttribute("data-for")||null,l=n.target;if(!this.isCustomEvent(l)||o){var f=null==s&&null==c||c===s;if(null!=u&&(!i||"float"===this.getEffect(l))&&f){var h=function(e){var t={};for(var n in e)"function"===typeof e[n]?t[n]=e[n].bind(e):t[n]=e[n];return t}(n);h.currentTarget=l,e(h)}}},Pi=function(e,t){var n={};return e.forEach((function(e){var r=e.getAttribute(t);r&&r.split(" ").forEach((function(e){return n[e]=!0}))})),n},Ii=function(){return document.getElementsByTagName("body")[0]};function Li(e,t,n,r,i,a,o){for(var s=Ai(n),u=s.width,c=s.height,l=Ai(t),f=l.width,h=l.height,d=Ni(e,t,a),m=d.mouseX,p=d.mouseY,v=Di(a,f,h,u,c),g=Ri(o),y=g.extraOffsetX,_=g.extraOffsetY,b=window.innerWidth,k=window.innerHeight,C=Oi(n),w=C.parentTop,x=C.parentLeft,S=function(e){var t=v[e].l;return m+t+y},E=function(e){var t=v[e].t;return p+t+_},T=function(e){return function(e){var t=v[e].r;return m+t+y}(e)>b},P=function(e){return function(e){var t=v[e].b;return p+t+_}(e)>k},I=function(e){return function(e){return S(e)<0}(e)||T(e)||function(e){return E(e)<0}(e)||P(e)},L=function(e){return!I(e)},A=["top","bottom","left","right"],N=[],D=0;D<4;D++){var R=A[D];L(R)&&N.push(R)}var O,M=!1,j=i!==r;return L(i)&&j?(M=!0,O=i):N.length>0&&I(i)&&I(r)&&(M=!0,O=N[0]),M?{isNewState:!0,newState:{place:O}}:{isNewState:!1,position:{left:parseInt(S(r)-x,10),top:parseInt(E(r)-w,10)}}}var Ai=function(e){var t=e.getBoundingClientRect(),n=t.height,r=t.width;return{height:parseInt(n,10),width:parseInt(r,10)}},Ni=function(e,t,n){var r=t.getBoundingClientRect(),i=r.top,a=r.left,o=Ai(t),s=o.width,u=o.height;return"float"===n?{mouseX:e.clientX,mouseY:e.clientY}:{mouseX:a+s/2,mouseY:i+u/2}},Di=function(e,t,n,r,i){var a,o,s,u;return"float"===e?(a={l:-r/2,r:r/2,t:-(i+3+2),b:-3},s={l:-r/2,r:r/2,t:15,b:i+3+2+12},u={l:-(r+3+2),r:-3,t:-i/2,b:i/2},o={l:3,r:r+3+2,t:-i/2,b:i/2}):"solid"===e&&(a={l:-r/2,r:r/2,t:-(n/2+i+2),b:-n/2},s={l:-r/2,r:r/2,t:n/2,b:n/2+i+2},u={l:-(r+t/2+2),r:-t/2,t:-i/2,b:i/2},o={l:t/2,r:r+t/2+2,t:-i/2,b:i/2}),{top:a,bottom:s,left:u,right:o}},Ri=function(e){var t=0,n=0;for(var r in"[object String]"===Object.prototype.toString.apply(e)&&(e=JSON.parse(e.toString().replace(/'/g,'"'))),e)"top"===r?n-=parseInt(e[r],10):"bottom"===r?n+=parseInt(e[r],10):"left"===r?t-=parseInt(e[r],10):"right"===r&&(t+=parseInt(e[r],10));return{extraOffsetX:t,extraOffsetY:n}},Oi=function(e){for(var t=e;t;){var n=window.getComputedStyle(t);if("none"!==n.getPropertyValue("transform")||"transform"===n.getPropertyValue("will-change"))break;t=t.parentElement}return{parentTop:t&&t.getBoundingClientRect().top||0,parentLeft:t&&t.getBoundingClientRect().left||0}};function Mi(e,t,n,i){if(t)return t;if(void 0!==n&&null!==n)return n;if(null===n)return null;var a=/<br\s*\/?>/;return i&&"false"!==i&&a.test(e)?e.split(a).map((function(e,t){return r.createElement("span",{key:t,className:"multi-line"},e)})):e}function ji(e){var t={};return Object.keys(e).filter((function(e){return/(^aria-\w+$|^role$)/.test(e)})).forEach((function(n){t[n]=e[n]})),t}function Fi(e){var t=e.length;return e.hasOwnProperty?Array.prototype.slice.call(e):new Array(t).fill().map((function(t){return e[t]}))}var Vi={dark:{text:"#fff",background:"#222",border:"transparent",arrow:"#222"},success:{text:"#fff",background:"#8DC572",border:"transparent",arrow:"#8DC572"},warning:{text:"#fff",background:"#F0AD4E",border:"transparent",arrow:"#F0AD4E"},error:{text:"#fff",background:"#BE6464",border:"transparent",arrow:"#BE6464"},info:{text:"#fff",background:"#337AB7",border:"transparent",arrow:"#337AB7"},light:{text:"#222",background:"#fff",border:"transparent",arrow:"#fff"}};function Ui(e,t,n,r){return function(e,t){var n=t.text,r=t.background,i=t.border,a=t.arrow;return"\n  \t.".concat(e," {\n\t    color: ").concat(n,";\n\t    background: ").concat(r,";\n\t    border: 1px solid ").concat(i,";\n  \t}\n\n  \t.").concat(e,".place-top {\n        margin-top: -10px;\n    }\n    .").concat(e,".place-top::before {\n        border-top: 8px solid ").concat(i,";\n    }\n    .").concat(e,".place-top::after {\n        border-left: 8px solid transparent;\n        border-right: 8px solid transparent;\n        bottom: -6px;\n        left: 50%;\n        margin-left: -8px;\n        border-top-color: ").concat(a,";\n        border-top-style: solid;\n        border-top-width: 6px;\n    }\n\n    .").concat(e,".place-bottom {\n        margin-top: 10px;\n    }\n    .").concat(e,".place-bottom::before {\n        border-bottom: 8px solid ").concat(i,";\n    }\n    .").concat(e,".place-bottom::after {\n        border-left: 8px solid transparent;\n        border-right: 8px solid transparent;\n        top: -6px;\n        left: 50%;\n        margin-left: -8px;\n        border-bottom-color: ").concat(a,";\n        border-bottom-style: solid;\n        border-bottom-width: 6px;\n    }\n\n    .").concat(e,".place-left {\n        margin-left: -10px;\n    }\n    .").concat(e,".place-left::before {\n        border-left: 8px solid ").concat(i,";\n    }\n    .").concat(e,".place-left::after {\n        border-top: 5px solid transparent;\n        border-bottom: 5px solid transparent;\n        right: -6px;\n        top: 50%;\n        margin-top: -4px;\n        border-left-color: ").concat(a,";\n        border-left-style: solid;\n        border-left-width: 6px;\n    }\n\n    .").concat(e,".place-right {\n        margin-left: 10px;\n    }\n    .").concat(e,".place-right::before {\n        border-right: 8px solid ").concat(i,";\n    }\n    .").concat(e,".place-right::after {\n        border-top: 5px solid transparent;\n        border-bottom: 5px solid transparent;\n        left: -6px;\n        top: 50%;\n        margin-top: -4px;\n        border-right-color: ").concat(a,";\n        border-right-style: solid;\n        border-right-width: 6px;\n    }\n  ")}(e,function(e,t,n){var r=e.text,i=e.background,a=e.border,o=e.arrow?e.arrow:e.background,s=function(e){return Vi[e]?yi({},Vi[e]):void 0}(t);r&&(s.text=r);i&&(s.background=i);n&&(s.border=a||("light"===t?"black":"white"));o&&(s.arrow=o);return s}(t,n,r))}var zi="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{};function Bi(e,t){return e(t={exports:{}},t.exports),t.exports}var Wi=function(e){return e&&e.Math==Math&&e},Hi=Wi("object"==typeof globalThis&&globalThis)||Wi("object"==typeof window&&window)||Wi("object"==typeof self&&self)||Wi("object"==typeof zi&&zi)||function(){return this}()||Function("return this")(),qi=function(e){try{return!!e()}catch(t){return!0}},Gi=!qi((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),Yi={}.propertyIsEnumerable,Ki=Object.getOwnPropertyDescriptor,Qi=Ki&&!Yi.call({1:2},1)?function(e){var t=Ki(this,e);return!!t&&t.enumerable}:Yi,Xi={f:Qi},Ji=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},Zi={}.toString,$i=function(e){return Zi.call(e).slice(8,-1)},ea="".split,ta=qi((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==$i(e)?ea.call(e,""):Object(e)}:Object,na=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e},ra=function(e){return ta(na(e))},ia=function(e){return"object"===typeof e?null!==e:"function"===typeof e},aa=function(e,t){if(!ia(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!ia(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!ia(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!ia(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},oa=function(e){return Object(na(e))},sa={}.hasOwnProperty,ua=function(e,t){return sa.call(oa(e),t)},ca=Hi.document,la=ia(ca)&&ia(ca.createElement),fa=function(e){return la?ca.createElement(e):{}},ha=!Gi&&!qi((function(){return 7!=Object.defineProperty(fa("div"),"a",{get:function(){return 7}}).a})),da=Object.getOwnPropertyDescriptor,ma=Gi?da:function(e,t){if(e=ra(e),t=aa(t,!0),ha)try{return da(e,t)}catch(n){}if(ua(e,t))return Ji(!Xi.f.call(e,t),e[t])},pa={f:ma},va=function(e){if(!ia(e))throw TypeError(String(e)+" is not an object");return e},ga=Object.defineProperty,ya=Gi?ga:function(e,t,n){if(va(e),t=aa(t,!0),va(n),ha)try{return ga(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e},_a={f:ya},ba=Gi?function(e,t,n){return _a.f(e,t,Ji(1,n))}:function(e,t,n){return e[t]=n,e},ka=function(e,t){try{ba(Hi,e,t)}catch(n){Hi[e]=t}return t},Ca="__core-js_shared__",wa=Hi[Ca]||ka(Ca,{}),xa=Function.toString;"function"!=typeof wa.inspectSource&&(wa.inspectSource=function(e){return xa.call(e)});var Sa,Ea,Ta,Pa=wa.inspectSource,Ia=Hi.WeakMap,La="function"===typeof Ia&&/native code/.test(Pa(Ia)),Aa=Bi((function(e){(e.exports=function(e,t){return wa[e]||(wa[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.12.1",mode:"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})})),Na=0,Da=Math.random(),Ra=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++Na+Da).toString(36)},Oa=Aa("keys"),Ma=function(e){return Oa[e]||(Oa[e]=Ra(e))},ja={},Fa="Object already initialized",Va=Hi.WeakMap;if(La||wa.state){var Ua=wa.state||(wa.state=new Va),za=Ua.get,Ba=Ua.has,Wa=Ua.set;Sa=function(e,t){if(Ba.call(Ua,e))throw new TypeError(Fa);return t.facade=e,Wa.call(Ua,e,t),t},Ea=function(e){return za.call(Ua,e)||{}},Ta=function(e){return Ba.call(Ua,e)}}else{var Ha=Ma("state");ja[Ha]=!0,Sa=function(e,t){if(ua(e,Ha))throw new TypeError(Fa);return t.facade=e,ba(e,Ha,t),t},Ea=function(e){return ua(e,Ha)?e[Ha]:{}},Ta=function(e){return ua(e,Ha)}}var qa,Ga,Ya={set:Sa,get:Ea,has:Ta,enforce:function(e){return Ta(e)?Ea(e):Sa(e,{})},getterFor:function(e){return function(t){var n;if(!ia(t)||(n=Ea(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},Ka=Bi((function(e){var t=Ya.get,n=Ya.enforce,r=String(String).split("String");(e.exports=function(e,t,i,a){var o,s=!!a&&!!a.unsafe,u=!!a&&!!a.enumerable,c=!!a&&!!a.noTargetGet;"function"==typeof i&&("string"!=typeof t||ua(i,"name")||ba(i,"name",t),(o=n(i)).source||(o.source=r.join("string"==typeof t?t:""))),e!==Hi?(s?!c&&e[t]&&(u=!0):delete e[t],u?e[t]=i:ba(e,t,i)):u?e[t]=i:ka(t,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||Pa(this)}))})),Qa=Hi,Xa=function(e){return"function"==typeof e?e:void 0},Ja=function(e,t){return arguments.length<2?Xa(Qa[e])||Xa(Hi[e]):Qa[e]&&Qa[e][t]||Hi[e]&&Hi[e][t]},Za=Math.ceil,$a=Math.floor,eo=function(e){return isNaN(e=+e)?0:(e>0?$a:Za)(e)},to=Math.min,no=function(e){return e>0?to(eo(e),9007199254740991):0},ro=Math.max,io=Math.min,ao=function(e){return function(t,n,r){var i,a=ra(t),o=no(a.length),s=function(e,t){var n=eo(e);return n<0?ro(n+t,0):io(n,t)}(r,o);if(e&&n!=n){for(;o>s;)if((i=a[s++])!=i)return!0}else for(;o>s;s++)if((e||s in a)&&a[s]===n)return e||s||0;return!e&&-1}},oo={includes:ao(!0),indexOf:ao(!1)}.indexOf,so=function(e,t){var n,r=ra(e),i=0,a=[];for(n in r)!ua(ja,n)&&ua(r,n)&&a.push(n);for(;t.length>i;)ua(r,n=t[i++])&&(~oo(a,n)||a.push(n));return a},uo=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],co=uo.concat("length","prototype"),lo=Object.getOwnPropertyNames||function(e){return so(e,co)},fo={f:lo},ho={f:Object.getOwnPropertySymbols},mo=Ja("Reflect","ownKeys")||function(e){var t=fo.f(va(e)),n=ho.f;return n?t.concat(n(e)):t},po=function(e,t){for(var n=mo(t),r=_a.f,i=pa.f,a=0;a<n.length;a++){var o=n[a];ua(e,o)||r(e,o,i(t,o))}},vo=/#|\.prototype\./,go=function(e,t){var n=_o[yo(e)];return n==ko||n!=bo&&("function"==typeof t?qi(t):!!t)},yo=go.normalize=function(e){return String(e).replace(vo,".").toLowerCase()},_o=go.data={},bo=go.NATIVE="N",ko=go.POLYFILL="P",Co=go,wo=pa.f,xo=function(e,t,n){if(function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function")}(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},So=Array.isArray||function(e){return"Array"==$i(e)},Eo=Ja("navigator","userAgent")||"",To=Hi.process,Po=To&&To.versions,Io=Po&&Po.v8;Io?Ga=(qa=Io.split("."))[0]<4?1:qa[0]+qa[1]:Eo&&(!(qa=Eo.match(/Edge\/(\d+)/))||qa[1]>=74)&&(qa=Eo.match(/Chrome\/(\d+)/))&&(Ga=qa[1]);var Lo,Ao=Ga&&+Ga,No=!!Object.getOwnPropertySymbols&&!qi((function(){return!String(Symbol())||!Symbol.sham&&Ao&&Ao<41})),Do=No&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Ro=Aa("wks"),Oo=Hi.Symbol,Mo=Do?Oo:Oo&&Oo.withoutSetter||Ra,jo=function(e){return ua(Ro,e)&&(No||"string"==typeof Ro[e])||(No&&ua(Oo,e)?Ro[e]=Oo[e]:Ro[e]=Mo("Symbol."+e)),Ro[e]},Fo=jo("species"),Vo=function(e,t){var n;return So(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!So(n.prototype)?ia(n)&&null===(n=n[Fo])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},Uo=[].push,zo=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,a=6==e,o=7==e,s=5==e||a;return function(u,c,l,f){for(var h,d,m=oa(u),p=ta(m),v=xo(c,l,3),g=no(p.length),y=0,_=f||Vo,b=t?_(u,g):n||o?_(u,0):void 0;g>y;y++)if((s||y in p)&&(d=v(h=p[y],y,m),e))if(t)b[y]=d;else if(d)switch(e){case 3:return!0;case 5:return h;case 6:return y;case 2:Uo.call(b,h)}else switch(e){case 4:return!1;case 7:Uo.call(b,h)}return a?-1:r||i?i:b}},Bo={forEach:zo(0),map:zo(1),filter:zo(2),some:zo(3),every:zo(4),find:zo(5),findIndex:zo(6),filterOut:zo(7)},Wo=Object.keys||function(e){return so(e,uo)},Ho=Gi?Object.defineProperties:function(e,t){va(e);for(var n,r=Wo(t),i=r.length,a=0;i>a;)_a.f(e,n=r[a++],t[n]);return e},qo=Ja("document","documentElement"),Go=Ma("IE_PROTO"),Yo=function(){},Ko=function(e){return"<script>"+e+"</"+"script>"},Qo=function(){try{Lo=document.domain&&new ActiveXObject("htmlfile")}catch(t){}Qo=Lo?function(e){e.write(Ko("")),e.close();var t=e.parentWindow.Object;return e=null,t}(Lo):function(){var e,t=fa("iframe");return t.style.display="none",qo.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(Ko("document.F=Object")),e.close(),e.F}();for(var e=uo.length;e--;)delete Qo.prototype[uo[e]];return Qo()};ja[Go]=!0;var Xo=Object.create||function(e,t){var n;return null!==e?(Yo.prototype=va(e),n=new Yo,Yo.prototype=null,n[Go]=e):n=Qo(),void 0===t?n:Ho(n,t)},Jo=jo("unscopables"),Zo=Array.prototype;void 0==Zo[Jo]&&_a.f(Zo,Jo,{configurable:!0,value:Xo(null)});var $o,es,ts,ns=Bo.find,rs="find",is=!0;rs in[]&&Array(1).find((function(){is=!1})),function(e,t){var n,r,i,a,o,s=e.target,u=e.global,c=e.stat;if(n=u?Hi:c?Hi[s]||ka(s,{}):(Hi[s]||{}).prototype)for(r in t){if(a=t[r],i=e.noTargetGet?(o=wo(n,r))&&o.value:n[r],!Co(u?r:s+(c?".":"#")+r,e.forced)&&void 0!==i){if(typeof a===typeof i)continue;po(a,i)}(e.sham||i&&i.sham)&&ba(a,"sham",!0),Ka(n,r,a,e)}}({target:"Array",proto:!0,forced:is},{find:function(e){return ns(this,e,arguments.length>1?arguments[1]:void 0)}}),function(e){Zo[Jo][e]=!0}(rs);var as,os=function(e){e.hide=function(e){wi(Ci.HIDE,{target:e})},e.rebuild=function(){wi(Ci.REBUILD)},e.show=function(e){wi(Ci.SHOW,{target:e})},e.prototype.globalRebuild=function(){this.mount&&(this.unbindListener(),this.bindListener())},e.prototype.globalShow=function(e){if(this.mount){var t=!!(e&&e.detail&&e.detail.target);this.showTooltip({currentTarget:t&&e.detail.target},!0)}},e.prototype.globalHide=function(e){if(this.mount){var t=!!(e&&e.detail&&e.detail.target);this.hideTooltip({currentTarget:t&&e.detail.target},t)}}}($o=function(e){e.prototype.bindWindowEvents=function(e){window.removeEventListener(Ci.HIDE,this.globalHide),window.addEventListener(Ci.HIDE,this.globalHide,!1),window.removeEventListener(Ci.REBUILD,this.globalRebuild),window.addEventListener(Ci.REBUILD,this.globalRebuild,!1),window.removeEventListener(Ci.SHOW,this.globalShow),window.addEventListener(Ci.SHOW,this.globalShow,!1),e&&(window.removeEventListener("resize",this.onWindowResize),window.addEventListener("resize",this.onWindowResize,!1))},e.prototype.unbindWindowEvents=function(){window.removeEventListener(Ci.HIDE,this.globalHide),window.removeEventListener(Ci.REBUILD,this.globalRebuild),window.removeEventListener(Ci.SHOW,this.globalShow),window.removeEventListener("resize",this.onWindowResize)},e.prototype.onWindowResize=function(){this.mount&&this.hideTooltip()}}($o=function(e){e.prototype.isCustomEvent=function(e){return this.state.event||!!e.getAttribute("data-event")},e.prototype.customBindListener=function(e){var t=this,n=this.state,r=n.event,i=n.eventOff,a=e.getAttribute("data-event")||r,o=e.getAttribute("data-event-off")||i;a.split(" ").forEach((function(n){e.removeEventListener(n,Ei.get(e,n));var r=xi.bind(t,o);Ei.set(e,n,r),e.addEventListener(n,r,!1)})),o&&o.split(" ").forEach((function(n){e.removeEventListener(n,t.hideTooltip),e.addEventListener(n,t.hideTooltip,!1)}))},e.prototype.customUnbindListener=function(e){var t=this.state,n=t.event,r=t.eventOff,i=n||e.getAttribute("data-event"),a=r||e.getAttribute("data-event-off");e.removeEventListener(i,Ei.get(e,n)),a&&e.removeEventListener(a,this.hideTooltip)}}($o=function(e){e.prototype.isCapture=function(e){return e&&"true"===e.getAttribute("data-iscapture")||this.props.isCapture||!1}}($o=function(e){e.prototype.getEffect=function(e){return e.getAttribute("data-effect")||this.props.effect||"float"}}($o=function(e){e.prototype.isBodyMode=function(){return!!this.props.bodyMode},e.prototype.bindBodyListener=function(e){var t=this,n=this.state,r=n.event,i=n.eventOff,a=n.possibleCustomEvents,o=n.possibleCustomEventsOff,s=Ii(),u=Pi(e,"data-event"),c=Pi(e,"data-event-off");null!=r&&(u[r]=!0),null!=i&&(c[i]=!0),a.split(" ").forEach((function(e){return u[e]=!0})),o.split(" ").forEach((function(e){return c[e]=!0})),this.unbindBodyListener(s);var l=this.bodyModeListeners={};for(var f in null==r&&(l.mouseover=Ti.bind(this,this.showTooltip,{}),l.mousemove=Ti.bind(this,this.updateTooltip,{respectEffect:!0}),l.mouseout=Ti.bind(this,this.hideTooltip,{})),u)l[f]=Ti.bind(this,(function(e){var n=e.currentTarget.getAttribute("data-event-off")||i;xi.call(t,n,e)}),{customEvent:!0});for(var h in c)l[h]=Ti.bind(this,this.hideTooltip,{customEvent:!0});for(var d in l)s.addEventListener(d,l[d])},e.prototype.unbindBodyListener=function(e){e=e||Ii();var t=this.bodyModeListeners;for(var n in t)e.removeEventListener(n,t[n])}}((ts=es=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ki(this,_i(t).call(this,e))).state={uuid:e.uuid||"t"+hi(),place:e.place||"top",desiredPlace:e.place||"top",type:"dark",effect:"float",show:!1,border:!1,customColors:{},offset:{},extraClass:"",html:!1,delayHide:0,delayShow:0,event:e.event||null,eventOff:e.eventOff||null,currentEvent:null,currentTarget:null,ariaProps:ji(e),isEmptyTip:!1,disable:!1,possibleCustomEvents:e.possibleCustomEvents||"",possibleCustomEventsOff:e.possibleCustomEventsOff||"",originTooltip:null,isMultiline:!1},n.bind(["showTooltip","updateTooltip","hideTooltip","hideTooltipOnScroll","getTooltipContent","globalRebuild","globalShow","globalHide","onWindowResize","mouseOnToolTip"]),n.mount=!0,n.delayShowLoop=null,n.delayHideLoop=null,n.delayReshow=null,n.intervalUpdateContent=null,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bi(e,t)}(t,e),mi(t,null,[{key:"propTypes",get:function(){return{uuid:Rn().string,children:Rn().any,place:Rn().string,type:Rn().string,effect:Rn().string,offset:Rn().object,multiline:Rn().bool,border:Rn().bool,textColor:Rn().string,backgroundColor:Rn().string,borderColor:Rn().string,arrowColor:Rn().string,insecure:Rn().bool,class:Rn().string,className:Rn().string,id:Rn().string,html:Rn().bool,delayHide:Rn().number,delayUpdate:Rn().number,delayShow:Rn().number,event:Rn().string,eventOff:Rn().string,isCapture:Rn().bool,globalEventOff:Rn().string,getContent:Rn().any,afterShow:Rn().func,afterHide:Rn().func,overridePosition:Rn().func,disable:Rn().bool,scrollHide:Rn().bool,resizeHide:Rn().bool,wrapper:Rn().string,bodyMode:Rn().bool,possibleCustomEvents:Rn().string,possibleCustomEventsOff:Rn().string,clickable:Rn().bool}}}]),mi(t,[{key:"bind",value:function(e){var t=this;e.forEach((function(e){t[e]=t[e].bind(t)}))}},{key:"componentDidMount",value:function(){var e=this.props,t=(e.insecure,e.resizeHide);this.bindListener(),this.bindWindowEvents(t),this.injectStyles()}},{key:"componentWillUnmount",value:function(){this.mount=!1,this.clearTimer(),this.unbindListener(),this.removeScrollListener(this.state.currentTarget),this.unbindWindowEvents()}},{key:"injectStyles",value:function(){var e=this.tooltipRef;if(e){for(var t,n=e.parentNode;n.parentNode;)n=n.parentNode;switch(n.constructor.name){case"Document":case"HTMLDocument":case void 0:t=n.head;break;default:t=n}if(!t.querySelector("style[data-react-tooltip]")){var r=document.createElement("style");r.textContent='.__react_component_tooltip {\n  border-radius: 3px;\n  display: inline-block;\n  font-size: 13px;\n  left: -999em;\n  opacity: 0;\n  padding: 8px 21px;\n  position: fixed;\n  pointer-events: none;\n  transition: opacity 0.3s ease-out;\n  top: -999em;\n  visibility: hidden;\n  z-index: 999;\n}\n.__react_component_tooltip.allow_hover, .__react_component_tooltip.allow_click {\n  pointer-events: auto;\n}\n.__react_component_tooltip::before, .__react_component_tooltip::after {\n  content: "";\n  width: 0;\n  height: 0;\n  position: absolute;\n}\n.__react_component_tooltip.show {\n  opacity: 0.9;\n  margin-top: 0;\n  margin-left: 0;\n  visibility: visible;\n}\n.__react_component_tooltip.place-top::before {\n  border-left: 10px solid transparent;\n  border-right: 10px solid transparent;\n  bottom: -8px;\n  left: 50%;\n  margin-left: -10px;\n}\n.__react_component_tooltip.place-bottom::before {\n  border-left: 10px solid transparent;\n  border-right: 10px solid transparent;\n  top: -8px;\n  left: 50%;\n  margin-left: -10px;\n}\n.__react_component_tooltip.place-left::before {\n  border-top: 6px solid transparent;\n  border-bottom: 6px solid transparent;\n  right: -8px;\n  top: 50%;\n  margin-top: -5px;\n}\n.__react_component_tooltip.place-right::before {\n  border-top: 6px solid transparent;\n  border-bottom: 6px solid transparent;\n  left: -8px;\n  top: 50%;\n  margin-top: -5px;\n}\n.__react_component_tooltip .multi-line {\n  display: block;\n  padding: 2px 0;\n  text-align: center;\n}',r.setAttribute("data-react-tooltip","true"),t.appendChild(r)}}}},{key:"mouseOnToolTip",value:function(){return!(!this.state.show||!this.tooltipRef)&&(this.tooltipRef.matches||(this.tooltipRef.msMatchesSelector?this.tooltipRef.matches=this.tooltipRef.msMatchesSelector:this.tooltipRef.matches=this.tooltipRef.mozMatchesSelector),this.tooltipRef.matches(":hover"))}},{key:"getTargetArray",value:function(e){var t,n=[];if(e){var r=e.replace(/\\/g,"\\\\").replace(/"/g,'\\"');t='[data-tip][data-for="'.concat(r,'"]')}else t="[data-tip]:not([data-for])";return Fi(document.getElementsByTagName("*")).filter((function(e){return e.shadowRoot})).forEach((function(e){n=n.concat(Fi(e.shadowRoot.querySelectorAll(t)))})),n.concat(Fi(document.querySelectorAll(t)))}},{key:"bindListener",value:function(){var e=this,t=this.props,n=t.id,r=t.globalEventOff,i=t.isCapture,a=this.getTargetArray(n);a.forEach((function(t){null===t.getAttribute("currentItem")&&t.setAttribute("currentItem","false"),e.unbindBasicListener(t),e.isCustomEvent(t)&&e.customUnbindListener(t)})),this.isBodyMode()?this.bindBodyListener(a):a.forEach((function(t){var n=e.isCapture(t),r=e.getEffect(t);e.isCustomEvent(t)?e.customBindListener(t):(t.addEventListener("mouseenter",e.showTooltip,n),t.addEventListener("focus",e.showTooltip,n),"float"===r&&t.addEventListener("mousemove",e.updateTooltip,n),t.addEventListener("mouseleave",e.hideTooltip,n),t.addEventListener("blur",e.hideTooltip,n))})),r&&(window.removeEventListener(r,this.hideTooltip),window.addEventListener(r,this.hideTooltip,i)),this.bindRemovalTracker()}},{key:"unbindListener",value:function(){var e=this,t=this.props,n=t.id,r=t.globalEventOff;this.isBodyMode()?this.unbindBodyListener():this.getTargetArray(n).forEach((function(t){e.unbindBasicListener(t),e.isCustomEvent(t)&&e.customUnbindListener(t)})),r&&window.removeEventListener(r,this.hideTooltip),this.unbindRemovalTracker()}},{key:"unbindBasicListener",value:function(e){var t=this.isCapture(e);e.removeEventListener("mouseenter",this.showTooltip,t),e.removeEventListener("mousemove",this.updateTooltip,t),e.removeEventListener("mouseleave",this.hideTooltip,t)}},{key:"getTooltipContent",value:function(){var e,t=this.props,n=t.getContent,r=t.children;return n&&(e=Array.isArray(n)?n[0]&&n[0](this.state.originTooltip):n(this.state.originTooltip)),Mi(this.state.originTooltip,r,e,this.state.isMultiline)}},{key:"isEmptyTip",value:function(e){return"string"===typeof e&&""===e||null===e}},{key:"showTooltip",value:function(e,t){if(this.tooltipRef){if(t&&!this.getTargetArray(this.props.id).some((function(t){return t===e.currentTarget})))return;var n=this.props,r=n.multiline,i=n.getContent,a=e.currentTarget.getAttribute("data-tip"),o=e.currentTarget.getAttribute("data-multiline")||r||!1,s=e instanceof window.FocusEvent||t,u=!0;e.currentTarget.getAttribute("data-scroll-hide")?u="true"===e.currentTarget.getAttribute("data-scroll-hide"):null!=this.props.scrollHide&&(u=this.props.scrollHide),e&&e.currentTarget&&e.currentTarget.setAttribute&&e.currentTarget.setAttribute("aria-describedby",this.state.uuid);var c=e.currentTarget.getAttribute("data-place")||this.props.place||"top",l=s?"solid":this.getEffect(e.currentTarget),f=e.currentTarget.getAttribute("data-offset")||this.props.offset||{},h=Li(e,e.currentTarget,this.tooltipRef,c,c,l,f);h.position&&this.props.overridePosition&&(h.position=this.props.overridePosition(h.position,e,e.currentTarget,this.tooltipRef,c,c,l,f));var d=h.isNewState?h.newState.place:c;this.clearTimer();var m=e.currentTarget,p=this.state.show?m.getAttribute("data-delay-update")||this.props.delayUpdate:0,v=this,g=function(){v.setState({originTooltip:a,isMultiline:o,desiredPlace:c,place:d,type:m.getAttribute("data-type")||v.props.type||"dark",customColors:{text:m.getAttribute("data-text-color")||v.props.textColor||null,background:m.getAttribute("data-background-color")||v.props.backgroundColor||null,border:m.getAttribute("data-border-color")||v.props.borderColor||null,arrow:m.getAttribute("data-arrow-color")||v.props.arrowColor||null},effect:l,offset:f,html:(m.getAttribute("data-html")?"true"===m.getAttribute("data-html"):v.props.html)||!1,delayShow:m.getAttribute("data-delay-show")||v.props.delayShow||0,delayHide:m.getAttribute("data-delay-hide")||v.props.delayHide||0,delayUpdate:m.getAttribute("data-delay-update")||v.props.delayUpdate||0,border:(m.getAttribute("data-border")?"true"===m.getAttribute("data-border"):v.props.border)||!1,extraClass:m.getAttribute("data-class")||v.props.class||v.props.className||"",disable:(m.getAttribute("data-tip-disable")?"true"===m.getAttribute("data-tip-disable"):v.props.disable)||!1,currentTarget:m},(function(){u&&v.addScrollListener(v.state.currentTarget),v.updateTooltip(e),i&&Array.isArray(i)&&(v.intervalUpdateContent=setInterval((function(){if(v.mount){var e=v.props.getContent,t=Mi(a,"",e[0](),o),n=v.isEmptyTip(t);v.setState({isEmptyTip:n}),v.updatePosition()}}),i[1]))}))};p?this.delayReshow=setTimeout(g,p):g()}}},{key:"updateTooltip",value:function(e){var t=this,n=this.state,r=n.delayShow,i=n.disable,a=this.props.afterShow,o=this.getTooltipContent(),s=e.currentTarget||e.target;if(!this.mouseOnToolTip()&&!this.isEmptyTip(o)&&!i){var u=this.state.show?0:parseInt(r,10),c=function(){if(Array.isArray(o)&&o.length>0||o){var n=!t.state.show;t.setState({currentEvent:e,currentTarget:s,show:!0},(function(){t.updatePosition(),n&&a&&a(e)}))}};clearTimeout(this.delayShowLoop),u?this.delayShowLoop=setTimeout(c,u):c()}}},{key:"listenForTooltipExit",value:function(){this.state.show&&this.tooltipRef&&this.tooltipRef.addEventListener("mouseleave",this.hideTooltip)}},{key:"removeListenerForTooltipExit",value:function(){this.state.show&&this.tooltipRef&&this.tooltipRef.removeEventListener("mouseleave",this.hideTooltip)}},{key:"hideTooltip",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isScroll:!1},i=this.state.disable,a=r.isScroll,o=a?0:this.state.delayHide,s=this.props.afterHide,u=this.getTooltipContent();if(this.mount&&!this.isEmptyTip(u)&&!i){if(t){var c=this.getTargetArray(this.props.id),l=c.some((function(t){return t===e.currentTarget}));if(!l||!this.state.show)return}e&&e.currentTarget&&e.currentTarget.removeAttribute&&e.currentTarget.removeAttribute("aria-describedby");var f=function(){var t=n.state.show;n.mouseOnToolTip()?n.listenForTooltipExit():(n.removeListenerForTooltipExit(),n.setState({show:!1},(function(){n.removeScrollListener(n.state.currentTarget),t&&s&&s(e)})))};this.clearTimer(),o?this.delayHideLoop=setTimeout(f,parseInt(o,10)):f()}}},{key:"hideTooltipOnScroll",value:function(e,t){this.hideTooltip(e,t,{isScroll:!0})}},{key:"addScrollListener",value:function(e){var t=this.isCapture(e);window.addEventListener("scroll",this.hideTooltipOnScroll,t)}},{key:"removeScrollListener",value:function(e){var t=this.isCapture(e);window.removeEventListener("scroll",this.hideTooltipOnScroll,t)}},{key:"updatePosition",value:function(){var e=this,t=this.state,n=t.currentEvent,r=t.currentTarget,i=t.place,a=t.desiredPlace,o=t.effect,s=t.offset,u=this.tooltipRef,c=Li(n,r,u,i,a,o,s);if(c.position&&this.props.overridePosition&&(c.position=this.props.overridePosition(c.position,n,r,u,i,a,o,s)),c.isNewState)return this.setState(c.newState,(function(){e.updatePosition()}));u.style.left=c.position.left+"px",u.style.top=c.position.top+"px"}},{key:"clearTimer",value:function(){clearTimeout(this.delayShowLoop),clearTimeout(this.delayHideLoop),clearTimeout(this.delayReshow),clearInterval(this.intervalUpdateContent)}},{key:"hasCustomColors",value:function(){var e=this;return Boolean(Object.keys(this.state.customColors).find((function(t){return"border"!==t&&e.state.customColors[t]}))||this.state.border&&this.state.customColors.border)}},{key:"render",value:function(){var e=this,n=this.state,i=n.extraClass,a=n.html,o=n.ariaProps,s=n.disable,u=n.uuid,c=this.getTooltipContent(),l=this.isEmptyTip(c),f=Ui(this.state.uuid,this.state.customColors,this.state.type,this.state.border),h="__react_component_tooltip"+" ".concat(this.state.uuid)+(!this.state.show||s||l?"":" show")+(this.state.border?" border":"")+" place-".concat(this.state.place)+" type-".concat(this.hasCustomColors()?"custom":this.state.type)+(this.props.delayUpdate?" allow_hover":"")+(this.props.clickable?" allow_click":""),d=this.props.wrapper;t.supportedWrappers.indexOf(d)<0&&(d=t.defaultProps.wrapper);var m=[h,i].filter(Boolean).join(" ");if(a){var p="".concat(c,'\n<style aria-hidden="true">').concat(f,"</style>");return r.createElement(d,vi({className:"".concat(m),id:this.props.id||u,ref:function(t){return e.tooltipRef=t}},o,{"data-id":"tooltip",dangerouslySetInnerHTML:{__html:p}}))}return r.createElement(d,vi({className:"".concat(m),id:this.props.id||u},o,{ref:function(t){return e.tooltipRef=t},"data-id":"tooltip"}),r.createElement("style",{dangerouslySetInnerHTML:{__html:f},"aria-hidden":"true"}),c)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.ariaProps,r=ji(e);return Object.keys(r).some((function(e){return r[e]!==n[e]}))?yi({},t,{ariaProps:r}):null}}]),t}(r.Component),pi(es,"defaultProps",{insecure:!0,resizeHide:!0,wrapper:"div",clickable:!1}),pi(es,"supportedWrappers",["div","span"]),pi(es,"displayName","ReactTooltip"),(as=$o=ts).prototype.bindRemovalTracker=function(){var e=this,t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(null!=t){var n=new t((function(t){for(var n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.removedNodes.length;i++)if(r.removedNodes[i]===e.state.currentTarget)return void e.hideTooltip()}));n.observe(window.document,{childList:!0,subtree:!0}),this.removalTracker=n}},$o=void(as.prototype.unbindRemovalTracker=function(){this.removalTracker&&(this.removalTracker.disconnect(),this.removalTracker=null)})||$o))||$o)||$o)||$o)||$o)||$o)||$o,ss=os,us=function(){var e=c((0,r.useState)(!1),2),t=e[0],n=e[1],i=c((0,r.useState)(!1),2),a=i[0],o=i[1],s=function(){n(!1),o(!1)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("aside",{children:[(0,l.jsx)(ss,{}),(0,l.jsx)("div",{children:(0,l.jsx)("a",{onClick:function(){n(!0),o(!1)},"data-tip":"Senior Management",activeClassName:"active",children:(0,l.jsx)(Kn,{icon:y})})}),(0,l.jsx)("div",{children:(0,l.jsx)("a",{onClick:function(){n(!1),o(!0)},"data-tip":"Admin",children:(0,l.jsx)(Kn,{icon:h})})})]}),(0,l.jsxs)("div",{className:"sidebar-dd-wrapper",children:[a?(0,l.jsxs)("div",{className:"sidebar-dd",children:[(0,l.jsx)("button",{onClick:s,children:(0,l.jsx)(Kn,{icon:v})}),(0,l.jsx)("h5",{children:"Admin"}),(0,l.jsx)(ai,{to:"/admin",activeClassName:"active",onClick:s,children:"Home"}),(0,l.jsx)(ai,{to:"/admin-product",activeClassName:"active",onClick:s,children:"Product"}),(0,l.jsx)(ai,{to:"/admin-campaign",activeClassName:"active",onClick:s,children:"Campaign"})]}):"",t?(0,l.jsxs)("div",{className:"sidebar-dd",children:[(0,l.jsx)("button",{onClick:s,children:(0,l.jsx)(Kn,{icon:v})}),(0,l.jsx)("h5",{children:"Senior Management"}),(0,l.jsx)(ai,{to:"/",activeClassName:"active",onClick:s,children:"Home"}),(0,l.jsx)(ai,{to:"/what-if-scenario",activeClassName:"active",onClick:s,children:"What if Scenario"}),(0,l.jsx)(ai,{to:"/senior-product",activeClassName:"active",onClick:s,children:"Product"}),(0,l.jsx)(ai,{to:"/senior-customer",activeClassName:"active",onClick:s,children:"Customer"}),(0,l.jsx)(ai,{to:"/senior-campaign",activeClassName:"active",onClick:s,children:"Campaign"}),(0,l.jsx)(ai,{to:"/admin-summary",activeClassName:"active",onClick:s,children:"Summary"})]}):""]})]})},cs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4JpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDcuMC1jMDAwIDc5LmRhYmFjYmIsIDIwMjEvMDQvMTQtMDA6Mzk6NDQgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6N2ZlYjVjMDgtNTk1NC1hZDQ4LWJiYWEtYmQ1YzAzZWQ2OWVlIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkE5RDA1NEU3NUI3MzExRUQ4M0MyQURCNkVFQ0Y3MDI4IiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkE5RDA1NEU2NUI3MzExRUQ4M0MyQURCNkVFQ0Y3MDI4IiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMi40IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOmVjNGIzYjc3LTQ2OTctYjA0ZC1iNTBhLWNhOWNjOWQzODgwYyIgc3RSZWY6ZG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmM0MDE5YzgwLWJlNDItYjk0Ny1hNGFhLTc3ODA2NDc0YWEzMSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PuYGIFwAAAK5SURBVHjarJV7aI1hHMffs9wpU3Objs6QP5SYyxCTjGIZ0/aHzImig1GkmFLU/nFJLokaStmQa2xZuSRsRygkhRWS1ZakM/xjLh2fH983r3nP2Rl76tN5z/s+z/f3PL/bE3CW1Dv/M+KVU51AOBrgsSvPX9p+D3TAwEg4+HON46yBBj2vg2WQBlMgBLMwtt8WdUlRPBd2QFj/j8M+CT+EZrgDebARFrsL01IQt8lbYB68EhWwHcrZ6VZ+u0EUZsB03jW6i9s7gR1/MhTCZ+gBOyEdxsEnzauXkfGQRUzsdM0YWpnoBDb5mIRWwwqohifwAZZ6xG1cg5nwHr6Z60w8kYv6wSW4AXvgArTAciiCAT5r7sEkuG4ugjGcor+fgSyoUUArYS6chCp4pxOM9knVr9rEY5gNw+EIRoZ6DdgOTmint/TuLYzyzLHdx5Wmc8wYIgP1zU4chAm2EYwWwhu3DuzopbBIO/1dJ7+yJQf6KMjGXsVnEAyGDOgNfeEiTIRDGDhvBqyA7uvojUkyKl3uMn/fhStuJf9VveFoUO7MMRdlQh2cgewkBlq0+zoVlO9APFtaNi/TjcEDuWk3lCQxchk2wPcE4iXSKJLmH4XWBPlwQAWzSTntHZa2V+FpG2HT2aU45eO2Vt75topWiKiR1Sh47giqJsrlVlc8Q3MbEI6YuFcwUauoUJDMJWvle6uNVWA5fwq2qXJtbhnCN/2EkvUi644L4TY8U7OL6VuBOqrVSC7iTYlEknXT7nLHOTW7mOebPc+Hw+Z73NSrowaGQK1yfXOCrImrs1pK1mIklKqBaXAa1sPZFK7MasWmCiN57RmIKD0LFORU7+XnSvFSjJT5GTB/H4VhCmzsHy7/j/wUK3Wt+/Z0L/0R2u0j3QOdMRbAWOtvlqYv1OhCTucNaxOvOdXLHwIMAPmbzEpYcwkeAAAAAElFTkSuQmCC",ls="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAdCAYAAABSZrcyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4JpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDcuMC1jMDAwIDc5LmRhYmFjYmIsIDIwMjEvMDQvMTQtMDA6Mzk6NDQgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6N2ZlYjVjMDgtNTk1NC1hZDQ4LWJiYWEtYmQ1YzAzZWQ2OWVlIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkE5RDA1NEVCNUI3MzExRUQ4M0MyQURCNkVFQ0Y3MDI4IiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkE5RDA1NEVBNUI3MzExRUQ4M0MyQURCNkVFQ0Y3MDI4IiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMi40IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOmVjNGIzYjc3LTQ2OTctYjA0ZC1iNTBhLWNhOWNjOWQzODgwYyIgc3RSZWY6ZG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmM0MDE5YzgwLWJlNDItYjk0Ny1hNGFhLTc3ODA2NDc0YWEzMSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PoLxBO8AAAKpSURBVHja7JZLaFNBFIZvQqoUiigqPlAEn+BrIbioxY2CiOKTKGobdGEXLrQFUXDThwtFdGGLGxURbUVEBRUULaIVLeILfD/QtnSji9JasWqxkvgd+QPTayJJTdJNBz7m3rkz88+cOefMDcRiMW+gSsAruZdKv6lwHab8p94HWBqrK2q2l1CKg9bBNdjhNjKJF4g0Ven5T+1/77PTSFMt1XrYb+/BFMWHQmcGLN2pubx0dm6lUrg7iT9W+/vyrTLJPNX9EbdBVUnMnkd9Qc3vrG8Ss/dpC2bIccs0V1DPKZVQBoQ/ww3YoPez0JUTccxbQ1XjNIVTHRv0BrAMig+K57SkE2oBmAxzVXeTsSxXt8BrQq4nG1dqPpyGVfAJnsF7KIARMA1mQBu8gOdwhsW0Oml1HNUmKAW7TsN8/5Fo5+OhCM7DcjgCdoMUwhN/btfkIS1gNsyDp7QNc7p+gYuwC7bAHqjwi4clZr5QAnPU+U6CRQ5HYLF22sJCXlEb5yS8VWm3Dq7YTh0rLHTP3DrXancrZeoGmCkzJSojoRgOwFgmfSOzt+vnoxDBxxIMwiIeI7AMVsfFbRWnJGYm+6bJD8MhWJNEvJnJ12ryAi3UnHGCCZgw7bNkwWItyqywm2/tcYfrpt4JR32TD4EHOoYTSS4VL8GdPYZqo3Y52pwP6nUsf4XaXnU+DlHn20+t+jY0OubP17ivjqDtfIX629FdlnM1Ihr9V6iZc92Cq3AwQZ9yneFJ2A7ToRd+wUfF/0SwmK2HSwh+TyfOJ8FDWKI49ieXBv02b1bYReVwZtY8eItgb38zXJvO3VY+H3p8Z98qR7rrtHcg2JGp3G7CL2Gf02YefB9GxWMzm7l9m2UnuKmdmjNWwLFcXCxdykzmfI9ggS6OrJTfAgwAejHPx/DY0iMAAAAASUVORK5CYII=",fs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAZCAYAAADAHFVeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4JpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDcuMC1jMDAwIDc5LmRhYmFjYmIsIDIwMjEvMDQvMTQtMDA6Mzk6NDQgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6N2ZlYjVjMDgtNTk1NC1hZDQ4LWJiYWEtYmQ1YzAzZWQ2OWVlIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkE5RDU4MDc3NUI3MzExRUQ4M0MyQURCNkVFQ0Y3MDI4IiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkE5RDU4MDc2NUI3MzExRUQ4M0MyQURCNkVFQ0Y3MDI4IiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMi40IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOmVjNGIzYjc3LTQ2OTctYjA0ZC1iNTBhLWNhOWNjOWQzODgwYyIgc3RSZWY6ZG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmM0MDE5YzgwLWJlNDItYjk0Ny1hNGFhLTc3ODA2NDc0YWEzMSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PiO9VtUAAAGcSURBVHja7NVLKERRGMDxOxIl7yhJshAbJStCEcrSxiwsZm9r5RFNkgZTVtJYSKEUK0kpFEnKYiJkM6GUbIzHzqOu/6lvpuOaa2bS3d2vfs25c+ec73z3nnPGY5qmocLjOzZSjDLkIqJ/aa60JO2YobXzk/y2Ggu4wzXmUWKkEZlSlZePZQQwjXftNw0YRC+imMQnhtGHCczhI9aB8XZl7EOsUnVEr2xLOozhDG1oxw7CaMIAqmTwKdRgAzO4JEGPNsFNqOfqx3h8EpZ3Vi+PqlHuX8lga1JNolB9ZtGBfZnAKEqRjREqC8QfoxbnaIYPT9hW716734UiaT9jT/p0QlUWREieSFCSn9hVlixetYX0hgJ9NTJGFs062mHaHtqttI/skhXLAoi9y1MsppospdWoRTn6tetKSzLbYLLrfHjl8gu1TODGbp/9N/IsReT8takdDzeZmyytffaIIe361nLfL+edYflnULGEA8tYP/eiOkHYkIVyejgRUTb3i17ZBSocSnYvJ1E8WbccVU7Ew6+D2F36brJE8S3AAIaYdafrUjRhAAAAAElFTkSuQmCC",hs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAZCAYAAADAHFVeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4JpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDcuMC1jMDAwIDc5LmRhYmFjYmIsIDIwMjEvMDQvMTQtMDA6Mzk6NDQgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6N2ZlYjVjMDgtNTk1NC1hZDQ4LWJiYWEtYmQ1YzAzZWQ2OWVlIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkE5RDU4MDczNUI3MzExRUQ4M0MyQURCNkVFQ0Y3MDI4IiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkE5RDU4MDcyNUI3MzExRUQ4M0MyQURCNkVFQ0Y3MDI4IiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMi40IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOmVjNGIzYjc3LTQ2OTctYjA0ZC1iNTBhLWNhOWNjOWQzODgwYyIgc3RSZWY6ZG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmM0MDE5YzgwLWJlNDItYjk0Ny1hNGFhLTc3ODA2NDc0YWEzMSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PrGaVLwAAALgSURBVHjavJZbaM5hHMe974x3vENrI6cbpyIjUo43hNw4lTttLibGSHbjwoUp5ZwbuyGpmVNeJeQ4kpqQOY0sF04hJCaMme31+c13et7/nq2/0Z769Pz/T//3+T6/4/NGkslkl84aXYMLkbzKLKYNMB5uwUaohX5QAqOhEjbBFxikb4bDFdgM39w9kwemNs/RgFCE6RR8hJVQBycgHc7DEyiCGByCDKiAO7Aa+sOesJbZ6WKcpETv1RygmnmBDrBd62vhKcyFGtit9UJ4pcN8D4pFA+8/IBOBNFlqh4nLXb1tSd9114ZfoY/z+x4yoNFnWVDsuTY4ilAe8zF4A+ckWgZ5cu1duXaEXGfrp+EqNIQRs0B/gGswTT+s18aP4b7Wz8qiKiWLxdKy4DgMgfwwMSuAscTsvZM0h2XxZCVMyzBrb8CEgCXXYae80K5lcVdI451cW+dZr/W4zNZ7hXFjpxa1pfq9wGmtxjLhNjQ56zHVlcXNbUM94WYYsRnqCCkNAF7DwMB6kzJ1gGf9BUyCNCXQ7/iH6Y1Y+zfeMoF9MErPVeTBMm9v9AgNZZquOqtRmj9TA/B5qkwiU9TOLJPbF0PENi9V/VixflZpjIEcj6vL1azteTH8hB1wxBszBNJVI9Yh1qvrj2yrIzjD2tdD1V2+2lWxXDmzlZj6YblMT1jR4ut1gZjZN9nqMrlOr4wrC4slNB+Wyyv1KWJsFlVQbSy0LmLWsT4bwQuOBYNhnq6VLY6YdfhV8BbG6RaYBSkNojkb2bRUKb+IzRt0gFzFqkhzmDEMLiq2l4OXZ4sbrXM/UlBbPrACn8PjGZio6yNL7vKNHImtcYV8lmWoY9vFV4hQoxNLu1AvKVkOwqc2xOxyfeDGKGjZn6Jm02666q1+ljjuzNZJd8H+jvTEVmJORu6FvhY/pXSFLtFtHW3A3j88ct9SeAknFezEvwi1e8UgaI10hQo0wfvW/3XF/BJgAEbO8jZiSJoUAAAAAElFTkSuQmCC",ds=[{id:1,Total_number_of_customers:6097,Total_number_of_Products:2,Total_number_of_campaigns:5,Total_sales:6560,Most_effective_campaign:"Loyalty email",Most_effective_segment:"Loan Segment 1 Loyalty sub5 atomic 1",Effect_rate:.039}],ms=[{Total_sales:"Customer segment",Column3:"Product",Column4:"Recommended campaign",Column5:"Effect",Column6:"Rank"},{Total_sales:"Loan_Segment_1_Loyalty_sub5_atomic_1",Column3:"Loan",Column4:"Loyalty",Column5:.0393992311637383,Column6:1},{Total_sales:"Credit_Loan_Segment_1_Loyalty_sub3_atomic_1",Column3:"Credit Card",Column4:"Loyalty",Column5:.0393992311637383,Column6:2},{Total_sales:"Loan_Segment_1_Loyalty_sub5_atomic_3",Column3:"Loan",Column4:"Loyalty",Column5:.0343204456941222,Column6:3},{Total_sales:"Credit_Loan_Segment_1_Loyalty_sub3_atomic_2",Column3:"Credit Card",Column4:"Loyalty",Column5:.0343204456941222,Column6:4},{Total_sales:"Loan_Segment_1_Loyalty_sub5_atomic_5",Column3:"Loan",Column4:"Loyalty",Column5:.034100270515169,Column6:5},{Total_sales:"Credit_Loan_Segment_1_Loyalty_sub3_atomic_3",Column3:"Credit Card",Column4:"Loyalty",Column5:.034100270515169,Column6:6},{Total_sales:"Loan_Segment_1_Loyalty_sub5_atomic_2",Column3:"Loan",Column4:"Loyalty",Column5:.032185145895156,Column6:7},{Total_sales:"Credit_Loan_Segment_1_Loyalty_sub3_atomic_4",Column3:"Credit Card",Column4:"Loyalty",Column5:.032185145895156,Column6:8},{Total_sales:"Loan_Segment_1_Loyalty_sub5_atomic_4",Column3:"Loan",Column4:"Loyalty",Column5:.031864245280666,Column6:9},{Total_sales:"Credit_Loan_Segment_1_Loyalty_sub3_atomic_5",Column3:"Credit Card",Column4:"Loyalty",Column5:.031864245280666,Column6:10},{Total_sales:"Loan_Segment_1_Loyalty_sub1_atomic_5",Column3:"Loan",Column4:"Loyalty",Column5:.0214450466339176,Column6:11},{Total_sales:"Credit_Loan_Segment_1_Loyalty_sub4_atomic_1",Column3:"Credit Card",Column4:"Loyalty",Column5:.0214450466339176,Column6:12},{Total_sales:"Loan_Segment_1_Loyalty_sub1_atomic_4",Column3:"Loan",Column4:"Loyalty",Column5:.0207425803140654,Column6:13},{Total_sales:"Credit_Loan_Segment_1_Loyalty_sub4_atomic_2",Column3:"Credit Card",Column4:"Loyalty",Column5:.0207425803140654,Column6:14},{Total_sales:"Loan_Segment_1_Loyalty_sub1_atomic_3",Column3:"Loan",Column4:"Loyalty",Column5:.0207233916855124,Column6:15},{Total_sales:"Credit_Loan_Segment_1_Loyalty_sub4_atomic_3",Column3:"Credit Card",Column4:"Loyalty",Column5:.0207233916855124,Column6:16},{Total_sales:"Loan_Segment_1_Loyalty_sub1_atomic_1",Column3:"Loan",Column4:"Loyalty",Column5:.0205425008423863,Column6:17},{Total_sales:"Credit_Loan_Segment_1_Loyalty_sub4_atomic_4",Column3:"Credit Card",Column4:"Loyalty",Column5:.0205425008423863,Column6:18},{Total_sales:"Loan_Segment_1_Loyalty_sub1_atomic_2",Column3:"Loan",Column4:"Loyalty",Column5:.0202762753768374,Column6:19},{Total_sales:"Credit_Loan_Segment_1_Loyalty_sub4_atomic_5",Column3:"Credit Card",Column4:"Loyalty",Column5:.0202762753768374,Column6:20},{Total_sales:"Loan_Segment_1_Loyalty_sub2_atomic_4",Column3:"Loan",Column4:"Loyalty",Column5:.014872941932014,Column6:21},{Total_sales:"Credit_Loan_Segment_1_Loyalty_sub5_atomic_1",Column3:"Credit Card",Column4:"Loyalty",Column5:.014872941932014,Column6:22},{Total_sales:"Loan_Segment_1_Loyalty_sub2_atomic_3",Column3:"Loan",Column4:"Loyalty",Column5:.0147574464118162,Column6:23},{Total_sales:"Credit_Loan_Segment_1_Loyalty_sub5_atomic_2",Column3:"Credit Card",Column4:"Loyalty",Column5:.0147574464118162,Column6:24},{Total_sales:"Loan_Segment_1_Promo_sub1_atomic_4",Column3:"Loan",Column4:"Promotional Email",Column5:.0146807216040809,Column6:25},{Total_sales:"Credit_Loan_Segment_1_Loyalty_sub5_atomic_3",Column3:"Credit Card",Column4:"Promotional Email",Column5:.0146807216040809,Column6:26},{Total_sales:"Loan_Segment_1_Loyalty_sub2_atomic_1",Column3:"Loan",Column4:"Loyalty",Column5:.0145679649413975,Column6:27},{Total_sales:"Credit_Loan_Segment_1_Loyalty_sub5_atomic_4",Column3:"Credit Card",Column4:"Loyalty",Column5:.0145679649413975,Column6:28},{Total_sales:"Loan_Segment_1_Promo_sub1_atomic_2",Column3:"Loan",Column4:"Promotional Email",Column5:.0145571863518987,Column6:29},{Total_sales:"Credit_Loan_Segment_1_Loyalty_sub5_atomic_5",Column3:"Credit Card",Column4:"Promotional Email",Column5:.0145571863518987,Column6:30},{Total_sales:"Loan_Segment_1_Promo_sub1_atomic_5",Column3:"Loan",Column4:"Promotional Email",Column5:.0142886691005615,Column6:31},{Total_sales:"Credit_Loan_Segment_1_Loyalty_sub2_atomic_1",Column3:"Credit Card",Column4:"Promotional Email",Column5:.0142886691005615,Column6:32},{Total_sales:"Loan_Segment_1_Loyalty_sub2_atomic_2",Column3:"Loan",Column4:"Loyalty",Column5:.0142770238569058,Column6:33},{Total_sales:"Credit_Loan_Segment_1_Loyalty_sub2_atomic_2",Column3:"Credit Card",Column4:"Loyalty",Column5:.0142770238569058,Column6:34},{Total_sales:"Loan_Segment_1_Loyalty_sub2_atomic_5",Column3:"Loan",Column4:"Loyalty",Column5:.0142664182190323,Column6:35},{Total_sales:"Credit_Loan_Segment_1_Loyalty_sub2_atomic_3",Column3:"Credit Card",Column4:"Loyalty",Column5:.0142664182190323,Column6:36},{Total_sales:"Loan_Segment_1_Promo_sub1_atomic_3",Column3:"Loan",Column4:"Promotional Email",Column5:.0136928950778866,Column6:37},{Total_sales:"Credit_Loan_Segment_1_Loyalty_sub2_atomic_4",Column3:"Credit Card",Column4:"Promotional Email",Column5:.0136928950778866,Column6:38},{Total_sales:"Loan_Segment_1_Discount_sub3_atomic_2",Column3:"Loan",Column4:"Discount Email",Column5:.0131301067628151,Column6:39},{Total_sales:"Credit_Loan_Segment_1_Loyalty_sub2_atomic_5",Column3:"Credit Card",Column4:"Discount Email",Column5:.0131301067628151,Column6:40},{Total_sales:"Loan_Segment_1_Promo_sub1_atomic_1",Column3:"Loan",Column4:"Promotional Email",Column5:.0121976150862778,Column6:41},{Total_sales:"Credit_Loan_Segment_1_Loyalty_sub1_atomic_1",Column3:"Credit Card",Column4:"Promotional Email",Column5:.0121976150862778,Column6:42},{Total_sales:"Loan_Segment_1_Discount_sub3_atomic_1",Column3:"Loan",Column4:"Discount Email",Column5:.0119511819713499,Column6:43},{Total_sales:"Credit_Loan_Segment_1_Loyalty_sub1_atomic_2",Column3:"Credit Card",Column4:"Discount Email",Column5:.0119511819713499,Column6:44},{Total_sales:"Loan_Segment_1_Discount_sub3_atomic_3",Column3:"Loan",Column4:"Discount Email",Column5:.0116309960452891,Column6:45},{Total_sales:"Credit_Loan_Segment_1_Loyalty_sub1_atomic_3",Column3:"Credit Card",Column4:"Discount Email",Column5:.0116309960452891,Column6:46},{Total_sales:"Loan_Segment_1_Discount_sub3_atomic_4",Column3:"Loan",Column4:"Discount Email",Column5:.0114591963798432,Column6:47},{Total_sales:"Credit_Loan_Segment_1_Loyalty_sub1_atomic_4",Column3:"Credit Card",Column4:"Discount Email",Column5:.0114591963798432,Column6:48},{Total_sales:"Loan_Segment_1_Discount_sub3_atomic_5",Column3:"Loan",Column4:"Discount Email",Column5:.0113804576627438,Column6:49},{Total_sales:"Credit_Loan_Segment_1_Loyalty_sub1_atomic_5",Column3:"Credit Card",Column4:"Discount Email",Column5:.0113804576627438,Column6:50},{Total_sales:"Loan_Segment_1_Loyalty_sub3_atomic_2",Column3:"Loan",Column4:"Loyalty",Column5:.010086463510758,Column6:51},{Total_sales:"Credit_Loan_Segment_1_Phone_sub3_atomic_1",Column3:"Credit Card",Column4:"Loyalty",Column5:.010086463510758,Column6:52},{Total_sales:"Loan_Segment_1_Loyalty_sub3_atomic_5",Column3:"Loan",Column4:"Loyalty",Column5:.00996077199875726,Column6:53},{Total_sales:"Credit_Loan_Segment_1_Phone_sub3_atomic_2",Column3:"Credit Card",Column4:"Loyalty",Column5:.0099607719987572,Column6:54},{Total_sales:"Loan_Segment_1_Loyalty_sub3_atomic_3",Column3:"Loan",Column4:"Loyalty",Column5:.00990400879210498,Column6:55},{Total_sales:"Credit_Loan_Segment_1_Phone_sub3_atomic_3",Column3:"Credit Card",Column4:"Loyalty",Column5:.0099040087921049,Column6:56},{Total_sales:"Loan_Segment_1_Loyalty_sub3_atomic_1",Column3:"Loan",Column4:"Loyalty",Column5:.00979228536141538,Column6:57},{Total_sales:"Credit_Loan_Segment_1_Phone_sub3_atomic_4",Column3:"Credit Card",Column4:"Loyalty",Column5:.0097922853614153,Column6:58},{Total_sales:"Loan_Segment_1_Loyalty_sub3_atomic_4",Column3:"Loan",Column4:"Loyalty",Column5:.00971472448211403,Column6:59},{Total_sales:"Credit_Loan_Segment_1_Phone_sub3_atomic_5",Column3:"Credit Card",Column4:"Loyalty",Column5:.009714724482114,Column6:60},{Total_sales:"Loan_Segment_1_Promo_sub5_atomic_4",Column3:"Loan",Column4:"Promotional Email",Column5:.00937383721745598,Column6:61},{Total_sales:"Credit_Loan_Segment_1_Phone_sub2_atomic_1",Column3:"Credit Card",Column4:"Promotional Email",Column5:.0093738372174559,Column6:62},{Total_sales:"Loan_Segment_1_Promo_sub5_atomic_5",Column3:"Loan",Column4:"Promotional Email",Column5:.00928842161070995,Column6:63},{Total_sales:"Credit_Loan_Segment_1_Phone_sub2_atomic_2",Column3:"Credit Card",Column4:"Promotional Email",Column5:.0092884216107099,Column6:64},{Total_sales:"Loan_Segment_1_Promo_sub5_atomic_3",Column3:"Loan",Column4:"Promotional Email",Column5:.00880194951917577,Column6:65},{Total_sales:"Credit_Loan_Segment_1_Phone_sub2_atomic_3",Column3:"Credit Card",Column4:"Promotional Email",Column5:.0088019495191757,Column6:66},{Total_sales:"Loan_Segment_1_Promo_sub5_atomic_1",Column3:"Loan",Column4:"Promotional Email",Column5:.00875460665568744,Column6:67},{Total_sales:"Credit_Loan_Segment_1_Phone_sub2_atomic_4",Column3:"Credit Card",Column4:"Promotional Email",Column5:.0087546066556874,Column6:68},{Total_sales:"Loan_Segment_1_Promo_sub5_atomic_2",Column3:"Loan",Column4:"Promotional Email",Column5:.00855581576381706,Column6:69},{Total_sales:"Credit_Loan_Segment_1_Phone_sub2_atomic_5",Column3:"Credit Card",Column4:"Promotional Email",Column5:.008555815763817,Column6:70},{Total_sales:"Loan_Segment_1_Discount_sub5_atomic_5",Column3:"Loan",Column4:"Discount Email",Column5:.00841068814300993,Column6:71},{Total_sales:"Credit_Loan_Segment_1_Phone_sub4_atomic_1",Column3:"Credit Card",Column4:"Discount Email",Column5:.0084106881430099,Column6:72},{Total_sales:"Loan_Segment_1_Discount_sub5_atomic_1",Column3:"Loan",Column4:"Discount Email",Column5:.00828233590001751,Column6:73},{Total_sales:"Credit_Loan_Segment_1_Phone_sub4_atomic_2",Column3:"Credit Card",Column4:"Discount Email",Column5:.0082823359000175,Column6:74},{Total_sales:"Loan_Segment_1_Discount_sub5_atomic_3",Column3:"Loan",Column4:"Discount Email",Column5:.00817446685271328,Column6:75},{Total_sales:"Credit_Loan_Segment_1_Phone_sub4_atomic_3",Column3:"Credit Card",Column4:"Discount Email",Column5:.0081744668527132,Column6:76},{Total_sales:"Loan_Segment_1_Discount_sub5_atomic_4",Column3:"Loan",Column4:"Discount Email",Column5:.00812139260501845,Column6:77},{Total_sales:"Credit_Loan_Segment_1_Phone_sub4_atomic_4",Column3:"Credit Card",Column4:"Discount Email",Column5:.0081213926050184,Column6:78},{Total_sales:"Loan_Segment_1_Discount_sub5_atomic_2",Column3:"Loan",Column4:"Discount Email",Column5:.00792020551058884,Column6:79},{Total_sales:"Credit_Loan_Segment_1_Phone_sub4_atomic_5",Column3:"Credit Card",Column4:"Discount Email",Column5:.0079202055105888,Column6:80},{Total_sales:"Loan_Segment_1_Promo_sub3_atomic_1",Column3:"Loan",Column4:"Promotional Email",Column5:.0065920754014555,Column6:81},{Total_sales:"Credit_Loan_Segment_1_Phone_sub5_atomic_1",Column3:"Credit Card",Column4:"Promotional Email",Column5:.0065920754014555,Column6:82},{Total_sales:"Loan_Segment_1_Promo_sub3_atomic_4",Column3:"Loan",Column4:"Promotional Email",Column5:.00652656809387942,Column6:83},{Total_sales:"Credit_Loan_Segment_1_Phone_sub5_atomic_2",Column3:"Credit Card",Column4:"Promotional Email",Column5:.0065265680938794,Column6:84},{Total_sales:"Loan_Segment_1_Promo_sub3_atomic_3",Column3:"Loan",Column4:"Promotional Email",Column5:.00633040724276594,Column6:85},{Total_sales:"Credit_Loan_Segment_1_Phone_sub5_atomic_3",Column3:"Credit Card",Column4:"Promotional Email",Column5:.0063304072427659,Column6:86},{Total_sales:"Loan_Segment_1_Promo_sub3_atomic_5",Column3:"Loan",Column4:"Promotional Email",Column5:.00630675931671964,Column6:87},{Total_sales:"Credit_Loan_Segment_1_Phone_sub5_atomic_4",Column3:"Credit Card",Column4:"Promotional Email",Column5:.0063067593167196,Column6:88},{Total_sales:"Loan_Segment_1_Promo_sub3_atomic_2",Column3:"Loan",Column4:"Promotional Email",Column5:.0062864215866818,Column6:89},{Total_sales:"Credit_Loan_Segment_1_Phone_sub5_atomic_5",Column3:"Credit Card",Column4:"Promotional Email",Column5:.0062864215866818,Column6:90},{Total_sales:"Loan_Segment_1_Discount_sub2_atomic_1",Column3:"Loan",Column4:"Discount Email",Column5:.00621333588439038,Column6:91},{Total_sales:"Credit_Loan_Segment_1_Phone_sub1_atomic_1",Column3:"Credit Card",Column4:"Discount Email",Column5:.0062133358843903,Column6:92},{Total_sales:"Loan_Segment_1_Discount_sub2_atomic_3",Column3:"Loan",Column4:"Discount Email",Column5:.00619609973848919,Column6:93},{Total_sales:"Credit_Loan_Segment_1_Phone_sub1_atomic_2",Column3:"Credit Card",Column4:"Discount Email",Column5:.0061960997384891,Column6:94},{Total_sales:"Loan_Segment_1_Discount_sub2_atomic_5",Column3:"Loan",Column4:"Discount Email",Column5:.00608261167983152,Column6:95},{Total_sales:"Credit_Loan_Segment_1_Phone_sub1_atomic_3",Column3:"Credit Card",Column4:"Discount Email",Column5:.0060826116798315,Column6:96},{Total_sales:"Loan_Segment_1_Discount_sub2_atomic_4",Column3:"Loan",Column4:"Discount Email",Column5:.00603929690698349,Column6:97},{Total_sales:"Credit_Loan_Segment_1_Phone_sub1_atomic_4",Column3:"Credit Card",Column4:"Discount Email",Column5:.0060392969069834,Column6:98},{Total_sales:"Loan_Segment_1_Discount_sub2_atomic_2",Column3:"Loan",Column4:"Discount Email",Column5:.00602862070655126,Column6:99},{Total_sales:"Credit_Loan_Segment_1_Phone_sub1_atomic_5",Column3:"Credit Card",Column4:"Discount Email",Column5:.0060286207065512,Column6:100},{Total_sales:"Loan_Segment_1_Loyalty_sub4_atomic_4",Column3:"Loan",Column4:"Loyalty",Column5:.00514639326607189,Column6:101},{Total_sales:"Credit_Loan_Segment_1_Promo_sub1_atomic_1",Column3:"Credit Card",Column4:"Loyalty",Column5:.0051463932660718,Column6:102},{Total_sales:"Loan_Segment_1_Loyalty_sub4_atomic_5",Column3:"Loan",Column4:"Loyalty",Column5:.00495613698587795,Column6:103},{Total_sales:"Credit_Loan_Segment_1_Promo_sub1_atomic_2",Column3:"Credit Card",Column4:"Loyalty",Column5:.0049561369858779,Column6:104},{Total_sales:"Loan_Segment_1_Loyalty_sub4_atomic_1",Column3:"Loan",Column4:"Loyalty",Column5:.00461852963683957,Column6:105},{Total_sales:"Credit_Loan_Segment_1_Promo_sub1_atomic_3",Column3:"Credit Card",Column4:"Loyalty",Column5:.0046185296368395,Column6:106},{Total_sales:"Loan_Segment_1_Loyalty_sub4_atomic_3",Column3:"Loan",Column4:"Loyalty",Column5:.00456296682819023,Column6:107},{Total_sales:"Credit_Loan_Segment_1_Promo_sub1_atomic_4",Column3:"Credit Card",Column4:"Loyalty",Column5:.0045629668281902,Column6:108},{Total_sales:"Loan_Segment_1_Promo_sub4_atomic_5",Column3:"Loan",Column4:"Promotional Email",Column5:.00450513719318756,Column6:109},{Total_sales:"Credit_Loan_Segment_1_Promo_sub1_atomic_5",Column3:"Credit Card",Column4:"Promotional Email",Column5:.0045051371931875,Column6:110},{Total_sales:"Loan_Segment_1_Promo_sub4_atomic_4",Column3:"Loan",Column4:"Promotional Email",Column5:.00445674950039485,Column6:111},{Total_sales:"Credit_Loan_Segment_1_Promo_sub5_atomic_1",Column3:"Credit Card",Column4:"Promotional Email",Column5:.0044567495003948,Column6:112},{Total_sales:"Loan_Segment_1_Discount_sub4_atomic_4",Column3:"Loan",Column4:"Discount Email",Column5:.00440270453291386,Column6:113},{Total_sales:"Credit_Loan_Segment_1_Promo_sub5_atomic_2",Column3:"Credit Card",Column4:"Discount Email",Column5:.0044027045329138,Column6:114},{Total_sales:"Loan_Segment_1_Phone_sub3_atomic_1",Column3:"Loan",Column4:"Phone call",Column5:.00439673871024438,Column6:115},{Total_sales:"Credit_Loan_Segment_1_Promo_sub5_atomic_3",Column3:"Credit Card",Column4:"Phone call",Column5:.0043967387102443,Column6:116},{Total_sales:"Loan_Segment_1_Loyalty_sub4_atomic_2",Column3:"Loan",Column4:"Loyalty",Column5:.00435291658219066,Column6:117},{Total_sales:"Credit_Loan_Segment_1_Promo_sub5_atomic_4",Column3:"Credit Card",Column4:"Loyalty",Column5:.0043529165821906,Column6:118},{Total_sales:"Loan_Segment_1_Discount_sub4_atomic_3",Column3:"Loan",Column4:"Discount Email",Column5:.00433681116720606,Column6:119},{Total_sales:"Credit_Loan_Segment_1_Promo_sub5_atomic_5",Column3:"Credit Card",Column4:"Discount Email",Column5:.004336811167206,Column6:120},{Total_sales:"Loan_Segment_1_Promo_sub4_atomic_3",Column3:"Loan",Column4:"Promotional Email",Column5:.00431476953892147,Column6:121},{Total_sales:"Credit_Loan_Segment_1_Promo_sub3_atomic_1",Column3:"Credit Card",Column4:"Promotional Email",Column5:.0043147695389214,Column6:122},{Total_sales:"Loan_Segment_1_Promo_sub4_atomic_1",Column3:"Loan",Column4:"Promotional Email",Column5:.00428485331965138,Column6:123},{Total_sales:"Credit_Loan_Segment_1_Promo_sub3_atomic_2",Column3:"Credit Card",Column4:"Promotional Email",Column5:.0042848533196513,Column6:124},{Total_sales:"Loan_Segment_1_Phone_sub3_atomic_2",Column3:"Loan",Column4:"Phone call",Column5:.00426874324964998,Column6:125},{Total_sales:"Credit_Loan_Segment_1_Promo_sub3_atomic_3",Column3:"Credit Card",Column4:"Phone call",Column5:.0042687432496499,Column6:126},{Total_sales:"Loan_Segment_1_Phone_sub3_atomic_3",Column3:"Loan",Column4:"Phone call",Column5:.0042545227420972,Column6:127},{Total_sales:"Credit_Loan_Segment_1_Promo_sub3_atomic_4",Column3:"Credit Card",Column4:"Phone call",Column5:.0042545227420972,Column6:128},{Total_sales:"Loan_Segment_1_Promo_sub4_atomic_2",Column3:"Loan",Column4:"Promotional Email",Column5:.0042413514728177,Column6:129},{Total_sales:"Credit_Loan_Segment_1_Promo_sub3_atomic_5",Column3:"Credit Card",Column4:"Promotional Email",Column5:.0042413514728177,Column6:130},{Total_sales:"Loan_Segment_1_Discount_sub4_atomic_5",Column3:"Loan",Column4:"Discount Email",Column5:.00410826951620165,Column6:131},{Total_sales:"Credit_Loan_Segment_1_Promo_sub4_atomic_1",Column3:"Credit Card",Column4:"Discount Email",Column5:.0041082695162016,Column6:132},{Total_sales:"Loan_Segment_1_Discount_sub4_atomic_1",Column3:"Loan",Column4:"Discount Email",Column5:.00397850193075501,Column6:133},{Total_sales:"Credit_Loan_Segment_1_Promo_sub4_atomic_2",Column3:"Credit Card",Column4:"Discount Email",Column5:.003978501930755,Column6:134},{Total_sales:"Loan_Segment_1_Phone_sub3_atomic_4",Column3:"Loan",Column4:"Phone call",Column5:.00395467258324448,Column6:135},{Total_sales:"Credit_Loan_Segment_1_Promo_sub4_atomic_3",Column3:"Credit Card",Column4:"Phone call",Column5:.0039546725832444,Column6:136},{Total_sales:"Loan_Segment_1_Discount_sub4_atomic_2",Column3:"Loan",Column4:"Discount Email",Column5:.00391499541418007,Column6:137},{Total_sales:"Credit_Loan_Segment_1_Promo_sub4_atomic_4",Column3:"Credit Card",Column4:"Discount Email",Column5:.00391499541418,Column6:138},{Total_sales:"Loan_Segment_1_Phone_sub3_atomic_5",Column3:"Loan",Column4:"Phone call",Column5:.00363617013903778,Column6:139},{Total_sales:"Credit_Loan_Segment_1_Promo_sub4_atomic_5",Column3:"Credit Card",Column4:"Phone call",Column5:.0036361701390377,Column6:140},{Total_sales:"Loan_Segment_1_Phone_sub2_atomic_4",Column3:"Loan",Column4:"Phone call",Column5:.00299645422844295,Column6:141},{Total_sales:"Credit_Loan_Segment_1_Promo_sub2_atomic_1",Column3:"Credit Card",Column4:"Phone call",Column5:.0029964542284429,Column6:142},{Total_sales:"Loan_Segment_1_Phone_sub2_atomic_3",Column3:"Loan",Column4:"Phone call",Column5:.00283350214091648,Column6:143},{Total_sales:"Credit_Loan_Segment_1_Promo_sub2_atomic_2",Column3:"Credit Card",Column4:"Phone call",Column5:.0028335021409164,Column6:144},{Total_sales:"Loan_Segment_1_Phone_sub2_atomic_1",Column3:"Loan",Column4:"Phone call",Column5:.00282760300527657,Column6:145},{Total_sales:"Credit_Loan_Segment_1_Promo_sub2_atomic_3",Column3:"Credit Card",Column4:"Phone call",Column5:.0028276030052765,Column6:146},{Total_sales:"Loan_Segment_1_Phone_sub2_atomic_2",Column3:"Loan",Column4:"Phone call",Column5:.00278859876833381,Column6:147},{Total_sales:"Credit_Loan_Segment_1_Promo_sub2_atomic_4",Column3:"Credit Card",Column4:"Phone call",Column5:.0027885987683338,Column6:148},{Total_sales:"Loan_Segment_1_Phone_sub2_atomic_5",Column3:"Loan",Column4:"Phone call",Column5:.00276073333807473,Column6:149},{Total_sales:"Credit_Loan_Segment_1_Promo_sub2_atomic_5",Column3:"Credit Card",Column4:"Phone call",Column5:.0027607333380747,Column6:150},{Total_sales:"Loan_Segment_1_Promo_sub2_atomic_5",Column3:"Loan",Column4:"Promotional Email",Column5:.00239414633842177,Column6:151},{Total_sales:"Credit_Loan_Segment_1_PN_sub1_atomic_1",Column3:"Credit Card",Column4:"Promotional Email",Column5:.0023941463384217,Column6:152},{Total_sales:"Loan_Segment_1_Promo_sub2_atomic_3",Column3:"Loan",Column4:"Promotional Email",Column5:.00229228344697813,Column6:153},{Total_sales:"Credit_Loan_Segment_1_PN_sub1_atomic_2",Column3:"Credit Card",Column4:"Promotional Email",Column5:.0022922834469781,Column6:154},{Total_sales:"Loan_Segment_1_Phone_sub4_atomic_5",Column3:"Loan",Column4:"Phone call",Column5:.00219231585345388,Column6:155},{Total_sales:"Credit_Loan_Segment_1_PN_sub1_atomic_3",Column3:"Credit Card",Column4:"Phone call",Column5:.0021923158534538,Column6:156},{Total_sales:"Loan_Segment_1_Promo_sub2_atomic_4",Column3:"Loan",Column4:"Promotional Email",Column5:.00216574180528185,Column6:157},{Total_sales:"Credit_Loan_Segment_1_PN_sub1_atomic_4",Column3:"Credit Card",Column4:"Promotional Email",Column5:.0021657418052818,Column6:158},{Total_sales:"Loan_Segment_1_PN_sub1_atomic_4",Column3:"Loan",Column4:"Push Notification",Column5:.00214526889864156,Column6:159},{Total_sales:"Credit_Loan_Segment_1_PN_sub1_atomic_5",Column3:"Credit Card",Column4:"Push Notification",Column5:.0021452688986415,Column6:160},{Total_sales:"Loan_Segment_1_Phone_sub4_atomic_1",Column3:"Loan",Column4:"Phone call",Column5:.0021051732789246,Column6:161},{Total_sales:"Credit_Loan_Segment_1_PN_sub3_atomic_1",Column3:"Credit Card",Column4:"Phone call",Column5:.0021051732789246,Column6:162},{Total_sales:"Loan_Segment_1_Promo_sub2_atomic_2",Column3:"Loan",Column4:"Promotional Email",Column5:.00208886995705358,Column6:163},{Total_sales:"Credit_Loan_Segment_1_PN_sub3_atomic_2",Column3:"Credit Card",Column4:"Promotional Email",Column5:.0020888699570535,Column6:164},{Total_sales:"Loan_Segment_1_Promo_sub2_atomic_1",Column3:"Loan",Column4:"Promotional Email",Column5:.00204621643849816,Column6:165},{Total_sales:"Credit_Loan_Segment_1_PN_sub3_atomic_3",Column3:"Credit Card",Column4:"Promotional Email",Column5:.0020462164384981,Column6:166},{Total_sales:"Credit_Loan_Segment_1_PN_sub3_atomic_4",Column3:"Credit Card",Column4:"Discount Email",Column5:.0020321290757141,Column6:167},{Total_sales:"Loan_Segment_1_Discount_sub1_atomic_1",Column3:"Loan",Column4:"Discount Email",Column5:.0020321290757141,Column6:168},{Total_sales:"Loan_Segment_1_Phone_sub4_atomic_2",Column3:"Loan",Column4:"Phone call",Column5:.00201047436197458,Column6:169},{Total_sales:"Credit_Loan_Segment_1_PN_sub3_atomic_5",Column3:"Credit Card",Column4:"Phone call",Column5:.0020104743619745,Column6:170},{Total_sales:"Loan_Segment_1_Phone_sub4_atomic_4",Column3:"Loan",Column4:"Phone call",Column5:.00195102810913973,Column6:171},{Total_sales:"Credit_Loan_Segment_1_PN_sub4_atomic_1",Column3:"Credit Card",Column4:"Phone call",Column5:.0019510281091397,Column6:172},{Total_sales:"Loan_Segment_1_Phone_sub4_atomic_3",Column3:"Loan",Column4:"Phone call",Column5:.0019081629281566,Column6:173},{Total_sales:"Credit_Loan_Segment_1_PN_sub4_atomic_2",Column3:"Credit Card",Column4:"Phone call",Column5:.0019081629281566,Column6:174},{Total_sales:"Loan_Segment_1_Discount_sub1_atomic_4",Column3:"Loan",Column4:"Discount Email",Column5:.00189812200617895,Column6:175},{Total_sales:"Credit_Loan_Segment_1_PN_sub4_atomic_3",Column3:"Credit Card",Column4:"Discount Email",Column5:.0018981220061789,Column6:176},{Total_sales:"Loan_Segment_1_Discount_sub1_atomic_3",Column3:"Loan",Column4:"Discount Email",Column5:.00179960216722889,Column6:177},{Total_sales:"Credit_Loan_Segment_1_PN_sub4_atomic_4",Column3:"Credit Card",Column4:"Discount Email",Column5:.0017996021672288,Column6:178},{Total_sales:"Loan_Segment_1_Discount_sub1_atomic_5",Column3:"Loan",Column4:"Discount Email",Column5:.00175558035692139,Column6:179},{Total_sales:"Credit_Loan_Segment_1_PN_sub4_atomic_5",Column3:"Credit Card",Column4:"Discount Email",Column5:.0017555803569213,Column6:180},{Total_sales:"Loan_Segment_1_Discount_sub1_atomic_2",Column3:"Loan",Column4:"Discount Email",Column5:.00172700392230332,Column6:181},{Total_sales:"Credit_Loan_Segment_1_PN_sub5_atomic_1",Column3:"Credit Card",Column4:"Discount Email",Column5:.0017270039223033,Column6:182},{Total_sales:"Loan_Segment_1_PN_sub1_atomic_1",Column3:"Loan",Column4:"Push Notification",Column5:.00164004093433833,Column6:183},{Total_sales:"Credit_Loan_Segment_1_PN_sub5_atomic_2",Column3:"Credit Card",Column4:"Push Notification",Column5:.0016400409343383,Column6:184},{Total_sales:"Loan_Segment_1_PN_sub1_atomic_3",Column3:"Loan",Column4:"Push Notification",Column5:.0016125442120227,Column6:185},{Total_sales:"Credit_Loan_Segment_1_PN_sub5_atomic_3",Column3:"Credit Card",Column4:"Push Notification",Column5:.0016125442120227,Column6:186},{Total_sales:"Loan_Segment_1_PN_sub1_atomic_2",Column3:"Loan",Column4:"Push Notification",Column5:.00157349713608519,Column6:187},{Total_sales:"Credit_Loan_Segment_1_PN_sub5_atomic_4",Column3:"Credit Card",Column4:"Push Notification",Column5:.0015734971360851,Column6:188},{Total_sales:"Loan_Segment_1_PN_sub1_atomic_5",Column3:"Loan",Column4:"Push Notification",Column5:.0015079561189418,Column6:189},{Total_sales:"Credit_Loan_Segment_1_PN_sub5_atomic_5",Column3:"Credit Card",Column4:"Push Notification",Column5:.0015079561189418,Column6:190},{Total_sales:"Loan_Segment_1_Phone_sub5_atomic_2",Column3:"Loan",Column4:"Phone call",Column5:.00139606109736046,Column6:191},{Total_sales:"Credit_Loan_Segment_1_PN_sub2_atomic_1",Column3:"Credit Card",Column4:"Phone call",Column5:.0013960610973604,Column6:192},{Total_sales:"Loan_Segment_1_Phone_sub5_atomic_3",Column3:"Loan",Column4:"Phone call",Column5:.00132915079951748,Column6:193},{Total_sales:"Credit_Loan_Segment_1_PN_sub2_atomic_2",Column3:"Credit Card",Column4:"Phone call",Column5:.0013291507995174,Column6:194},{Total_sales:"Loan_Segment_1_Phone_sub5_atomic_1",Column3:"Loan",Column4:"Phone call",Column5:.0012804103293848,Column6:195},{Total_sales:"Credit_Loan_Segment_1_PN_sub2_atomic_3",Column3:"Credit Card",Column4:"Phone call",Column5:.0012804103293848,Column6:196},{Total_sales:"Loan_Segment_1_Phone_sub5_atomic_5",Column3:"Loan",Column4:"Phone call",Column5:.00127566879546976,Column6:197},{Total_sales:"Credit_Loan_Segment_1_PN_sub2_atomic_4",Column3:"Credit Card",Column4:"Phone call",Column5:.0012756687954697,Column6:198},{Total_sales:"Loan_Segment_1_Phone_sub5_atomic_4",Column3:"Loan",Column4:"Phone call",Column5:.00126353524062688,Column6:199},{Total_sales:"Credit_Loan_Segment_1_PN_sub2_atomic_5",Column3:"Credit Card",Column4:"Phone call",Column5:.0012635352406268,Column6:200},{Total_sales:"Loan_Segment_1_PN_sub3_atomic_3",Column3:"Loan",Column4:"Push Notification",Column5:.00125840364588434,Column6:201},{Total_sales:"Credit_Loan_Segment_1_Discount_sub3_atomic_1",Column3:"Credit Card",Column4:"Push Notification",Column5:.0012584036458843,Column6:202},{Total_sales:"Loan_Segment_1_PN_sub3_atomic_4",Column3:"Loan",Column4:"Push Notification",Column5:.0011633935874503,Column6:203},{Total_sales:"Credit_Loan_Segment_1_Discount_sub3_atomic_2",Column3:"Credit Card",Column4:"Push Notification",Column5:.0011633935874503,Column6:204},{Total_sales:"Loan_Segment_1_PN_sub3_atomic_2",Column3:"Loan",Column4:"Push Notification",Column5:.00108935153533543,Column6:205},{Total_sales:"Credit_Loan_Segment_1_Discount_sub3_atomic_3",Column3:"Credit Card",Column4:"Push Notification",Column5:.0010893515353354,Column6:206},{Total_sales:"Loan_Segment_1_PN_sub3_atomic_5",Column3:"Loan",Column4:"Push Notification",Column5:.00106503228482945,Column6:207},{Total_sales:"Credit_Loan_Segment_1_Discount_sub3_atomic_4",Column3:"Credit Card",Column4:"Push Notification",Column5:.0010650322848294,Column6:208},{Total_sales:"Loan_Segment_1_PN_sub3_atomic_1",Column3:"Loan",Column4:"Push Notification",Column5:.000975737519292633,Column6:209},{Total_sales:"Credit_Loan_Segment_1_Discount_sub3_atomic_5",Column3:"Credit Card",Column4:"Push Notification",Column5:.0009757375192926,Column6:210},{Total_sales:"Credit_Loan_Segment_1_Discount_sub5_atomic_1",Column3:"Credit Card",Column4:"Push Notification",Column5:.0007764156677636,Column6:211},{Total_sales:"Loan_Segment_1_PN_sub4_atomic_3",Column3:"Loan",Column4:"Push Notification",Column5:.0007764156677636,Column6:212},{Total_sales:"Loan_Segment_1_PN_sub4_atomic_2",Column3:"Loan",Column4:"Push Notification",Column5:.000736074582677933,Column6:213},{Total_sales:"Credit_Loan_Segment_1_Discount_sub5_atomic_2",Column3:"Credit Card",Column4:"Push Notification",Column5:.0007360745826779,Column6:214},{Total_sales:"Loan_Segment_1_PN_sub4_atomic_1",Column3:"Loan",Column4:"Push Notification",Column5:.000697462956023966,Column6:215},{Total_sales:"Credit_Loan_Segment_1_Discount_sub5_atomic_3",Column3:"Credit Card",Column4:"Push Notification",Column5:.0006974629560239,Column6:216},{Total_sales:"Loan_Segment_1_Phone_sub1_atomic_4",Column3:"Loan",Column4:"Phone call",Column5:.000685681856962916,Column6:217},{Total_sales:"Credit_Loan_Segment_1_Discount_sub5_atomic_4",Column3:"Credit Card",Column4:"Phone call",Column5:.0006856818569629,Column6:218},{Total_sales:"Credit_Loan_Segment_1_Discount_sub5_atomic_5",Column3:"Credit Card",Column4:"Push Notification",Column5:.0005938413013285,Column6:219},{Total_sales:"Loan_Segment_1_PN_sub4_atomic_5",Column3:"Loan",Column4:"Push Notification",Column5:.0005938413013285,Column6:220},{Total_sales:"Loan_Segment_1_PN_sub4_atomic_4",Column3:"Loan",Column4:"Push Notification",Column5:.000579713753612466,Column6:221},{Total_sales:"Credit_Loan_Segment_1_Discount_sub2_atomic_1",Column3:"Credit Card",Column4:"Push Notification",Column5:.0005797137536124,Column6:222},{Total_sales:"Loan_Segment_1_PN_sub5_atomic_4",Column3:"Loan",Column4:"Push Notification",Column5:.000380825710028166,Column6:223},{Total_sales:"Credit_Loan_Segment_1_Discount_sub2_atomic_2",Column3:"Credit Card",Column4:"Push Notification",Column5:.0003808257100281,Column6:224},{Total_sales:"Loan_Segment_1_Phone_sub1_atomic_3",Column3:"Loan",Column4:"Phone call",Column5:.000379263312177335,Column6:225},{Total_sales:"Credit_Loan_Segment_1_Discount_sub2_atomic_3",Column3:"Credit Card",Column4:"Phone call",Column5:.0003792633121773,Column6:226},{Total_sales:"Loan_Segment_1_PN_sub5_atomic_1",Column3:"Loan",Column4:"Push Notification",Column5:.000374110853581133,Column6:227},{Total_sales:"Credit_Loan_Segment_1_Discount_sub2_atomic_4",Column3:"Credit Card",Column4:"Push Notification",Column5:.0003741108535811,Column6:228},{Total_sales:"Loan_Segment_1_Phone_sub1_atomic_5",Column3:"Loan",Column4:"Phone call",Column5:.00032365121268334,Column6:229},{Total_sales:"Credit_Loan_Segment_1_Discount_sub2_atomic_5",Column3:"Credit Card",Column4:"Phone call",Column5:.0003236512126833,Column6:230},{Total_sales:"Loan_Segment_1_PN_sub5_atomic_5",Column3:"Loan",Column4:"Push Notification",Column5:.0003229419559505,Column6:231},{Total_sales:"Credit_Loan_Segment_1_Discount_sub4_atomic_1",Column3:"Credit Card",Column4:"Push Notification",Column5:.0003229419559505,Column6:232},{Total_sales:"Loan_Segment_1_PN_sub5_atomic_2",Column3:"Loan",Column4:"Push Notification",Column5:.000289593890376599,Column6:233},{Total_sales:"Credit_Loan_Segment_1_Discount_sub4_atomic_2",Column3:"Credit Card",Column4:"Push Notification",Column5:.0002895938903765,Column6:234},{Total_sales:"Loan_Segment_1_PN_sub5_atomic_3",Column3:"Loan",Column4:"Push Notification",Column5:.00022378804960395,Column6:235},{Total_sales:"Credit_Loan_Segment_1_Discount_sub4_atomic_3",Column3:"Credit Card",Column4:"Push Notification",Column5:.0002237880496039,Column6:236},{Total_sales:"Loan_Segment_1_Phone_sub1_atomic_2",Column3:"Loan",Column4:"Phone call",Column5:.00018741530162675,Column6:237},{Total_sales:"Credit_Loan_Segment_1_Discount_sub4_atomic_4",Column3:"Credit Card",Column4:"Phone call",Column5:.0001874153016267,Column6:238},{Total_sales:"Credit_Loan_Segment_1_Discount_sub4_atomic_5",Column3:"Credit Card",Column4:"Push Notification",Column5:930114286665839e-19,Column6:239},{Total_sales:"Loan_Segment_1_PN_sub2_atomic_5",Column3:"Loan",Column4:"Push Notification",Column5:930114286665839e-19,Column6:240},{Total_sales:"Credit_Loan_Segment_1_Discount_sub1_atomic_1",Column3:"Credit Card",Column4:"Phone call",Column5:312449134035723e-19,Column6:241},{Total_sales:"Loan_Segment_1_Phone_sub1_atomic_1",Column3:"Loan",Column4:"Phone call",Column5:312449134035723e-19,Column6:242},{Total_sales:"Credit_Loan_Segment_1_Discount_sub1_atomic_2",Column3:"Credit Card",Column4:"Push Notification",Column5:-.0002607071950363,Column6:243},{Total_sales:"Loan_Segment_1_PN_sub2_atomic_4",Column3:"Loan",Column4:"Push Notification",Column5:-.0002607071950363,Column6:244},{Total_sales:"Credit_Loan_Segment_1_Discount_sub1_atomic_3",Column3:"Credit Card",Column4:"Push Notification",Column5:-.0003674247606455,Column6:245},{Total_sales:"Loan_Segment_1_PN_sub2_atomic_2",Column3:"Loan",Column4:"Push Notification",Column5:-.000367424760645512,Column6:246},{Total_sales:"Credit_Loan_Segment_1_Discount_sub1_atomic_4",Column3:"Credit Card",Column4:"Push Notification",Column5:-.000421203199082,Column6:247},{Total_sales:"Loan_Segment_1_PN_sub2_atomic_1",Column3:"Loan",Column4:"Push Notification",Column5:-.000421203199082099,Column6:248},{Total_sales:"Credit_Loan_Segment_1_Discount_sub1_atomic_5",Column3:"Credit Card",Column4:"Push Notification",Column5:-.0004216724299242,Column6:249},{Total_sales:"Loan_Segment_1_PN_sub2_atomic_3",Column3:"Loan",Column4:"Push Notification",Column5:-.000421672429924232,Column6:250}],ps=function(){var e=new Intl.NumberFormat("en",{style:"decimal",signDisplay:"never",useGrouping:!0,notation:"compact"});return(0,l.jsxs)("ul",{className:"data-box",children:[(0,l.jsxs)("li",{className:"green",children:[(0,l.jsx)("h3",{children:"Total Num. of Customesr"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{children:(0,l.jsx)("img",{src:cs,alt:cs})}),(0,l.jsx)("div",{className:"line light-g",children:ds.map((function(e,t){return(0,l.jsx)("h2",{className:"flipX",children:e.Total_number_of_customers},t)}))})]})]}),(0,l.jsxs)("li",{className:"blue",children:[(0,l.jsx)("h3",{children:"Total Num. of Product"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{children:(0,l.jsx)("img",{src:ls,alt:ls})}),(0,l.jsx)("div",{className:"line light-b",children:ds.map((function(e,t){return(0,l.jsx)("h2",{className:"flipX",children:e.Total_number_of_Products},t)}))})]})]}),(0,l.jsxs)("li",{className:"purple",children:[(0,l.jsx)("h3",{children:"Total Num. of Campaigns"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{children:(0,l.jsx)("img",{src:fs,alt:fs})}),(0,l.jsx)("div",{className:"line light-p",children:ds.map((function(t,n){return(0,l.jsx)("h2",{className:"flipX",children:e.format(t.Total_number_of_campaigns)},n)}))})]})]}),(0,l.jsxs)("li",{className:"orange",children:[(0,l.jsx)("h3",{children:"Total Sales"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{children:(0,l.jsx)("img",{src:hs,alt:hs})}),(0,l.jsx)("div",{className:"line light-o",children:ds.map((function(t,n){return(0,l.jsx)("h2",{className:"flipX",children:e.format(t.Total_sales)},n)}))})]})]}),(0,l.jsxs)("li",{className:"green",children:[(0,l.jsx)("h3",{children:"Most Effective Campaigns"}),(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"line light-g",children:ds.map((function(e,t){return(0,l.jsx)("h2",{className:"flipX",children:e.Most_effective_campaign},t)}))})})]}),(0,l.jsxs)("li",{className:"blue",children:[(0,l.jsx)("h3",{children:"Most Effective Micro Segment"}),(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"line light-g",children:ds.map((function(e,t){return(0,l.jsx)("h2",{className:"flipX",children:e.Most_effective_segment},t)}))})})]}),(0,l.jsxs)("li",{className:"purple",children:[(0,l.jsx)("h3",{children:"Effect Rate"}),(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"line light-g",children:ds.map((function(e,t){return(0,l.jsx)("h2",{className:"flipX",children:e.Effect_rate},t)}))})})]})]})};function vs(e){return vs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vs(e)}function gs(e){var t=function(e,t){if("object"!==vs(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==vs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===vs(t)?t:String(t)}function ys(e,t,n){return(t=gs(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_s(Object(n),!0).forEach((function(t){ys(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ks(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cs(e){return Cs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Cs(e)}function ws(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Cs(e)););return e}function xs(){return xs="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=ws(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},xs.apply(this,arguments)}function Ss(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zn(e,t)}function Es(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(yB){return!1}}function Ts(e,t){if(t&&("object"===vs(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ks(e)}function Ps(e){var t=Es();return function(){var n,r=Cs(e);if(t){var i=Cs(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ts(this,n)}}function Is(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function Ls(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function As(e){return function(e){if(Array.isArray(e))return o(e)}(e)||Ls(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ns(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ds(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gs(r.key),r)}}function Rs(e,t,n){return t&&Ds(e.prototype,t),n&&Ds(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Os(){}var Ms=function(){var e=0;return function(){return e++}}();function js(e){return null===e||"undefined"===typeof e}function Fs(e){if(Array.isArray&&Array.isArray(e))return!0;var t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function Vs(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}var Us=function(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)};function zs(e,t){return Us(e)?e:t}function Bs(e,t){return"undefined"===typeof e?t:e}var Ws=function(e,t){return"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e};function Hs(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function qs(e,t,n,r){var i,a,o;if(Fs(e))if(a=e.length,r)for(i=a-1;i>=0;i--)t.call(n,e[i],i);else for(i=0;i<a;i++)t.call(n,e[i],i);else if(Vs(e))for(a=(o=Object.keys(e)).length,i=0;i<a;i++)t.call(n,e[o[i]],o[i])}function Gs(e,t){var n,r,i,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],a=t[n],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function Ys(e){if(Fs(e))return e.map(Ys);if(Vs(e)){for(var t=Object.create(null),n=Object.keys(e),r=n.length,i=0;i<r;++i)t[n[i]]=Ys(e[n[i]]);return t}return e}function Ks(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function Qs(e,t,n,r){if(Ks(e)){var i=t[e],a=n[e];Vs(i)&&Vs(a)?Xs(i,a,r):t[e]=Ys(a)}}function Xs(e,t,n){var r=Fs(t)?t:[t],i=r.length;if(!Vs(e))return e;for(var a=(n=n||{}).merger||Qs,o=0;o<i;++o)if(Vs(t=r[o]))for(var s=Object.keys(t),u=0,c=s.length;u<c;++u)a(s[u],e,t,n);return e}function Js(e,t){return Xs(e,t,{merger:Zs})}function Zs(e,t,n){if(Ks(e)){var r=t[e],i=n[e];Vs(r)&&Vs(i)?Js(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Ys(i))}}var $s={"":function(e){return e},x:function(e){return e.x},y:function(e){return e.y}};function eu(e,t){var n=$s[t]||($s[t]=function(e){var t=function(e){var t,n=e.split("."),r=[],i="",a=Is(n);try{for(a.s();!(t=a.n()).done;){(i+=t.value).endsWith("\\")?i=i.slice(0,-1)+".":(r.push(i),i="")}}catch(o){a.e(o)}finally{a.f()}return r}(e);return function(e){var n,r=Is(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(""===i)break;e=e&&e[i]}}catch(a){r.e(a)}finally{r.f()}return e}}(t));return n(e)}function tu(e){return e.charAt(0).toUpperCase()+e.slice(1)}var nu=function(e){return"undefined"!==typeof e},ru=function(e){return"function"===typeof e},iu=function(e,t){if(e.size!==t.size)return!1;var n,r=Is(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!t.has(i))return!1}}catch(a){r.e(a)}finally{r.f()}return!0};var au=Math.PI,ou=2*au,su=ou+au,uu=Number.POSITIVE_INFINITY,cu=au/180,lu=au/2,fu=au/4,hu=2*au/3,du=Math.log10,mu=Math.sign;function pu(e){var t=Math.round(e);e=gu(e,t,e/1e3)?t:e;var n=Math.pow(10,Math.floor(du(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function vu(e){return!isNaN(parseFloat(e))&&isFinite(e)}function gu(e,t,n){return Math.abs(e-t)<n}function yu(e,t,n){var r,i,a;for(r=0,i=e.length;r<i;r++)a=e[r][n],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function _u(e){return e*(au/180)}function bu(e){return e*(180/au)}function ku(e){if(Us(e)){for(var t=1,n=0;Math.round(e*t)/t!==e;)t*=10,n++;return n}}function Cu(e,t){var n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r),a=Math.atan2(r,n);return a<-.5*au&&(a+=ou),{angle:a,distance:i}}function wu(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function xu(e,t){return(e-t+su)%ou-au}function Su(e){return(e%ou+ou)%ou}function Eu(e,t,n,r){var i=Su(e),a=Su(t),o=Su(n),s=Su(a-i),u=Su(o-i),c=Su(i-a),l=Su(i-o);return i===a||i===o||r&&a===o||s>u&&c<l}function Tu(e,t,n){return Math.max(t,Math.min(n,e))}function Pu(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function Iu(e,t,n){n=n||function(n){return e[n]<t};for(var r,i=e.length-1,a=0;i-a>1;)n(r=a+i>>1)?a=r:i=r;return{lo:a,hi:i}}var Lu=function(e,t,n,r){return Iu(e,n,r?function(r){return e[r][t]<=n}:function(r){return e[r][t]<n})},Au=function(e,t,n){return Iu(e,n,(function(r){return e[r][t]>=n}))};var Nu=["push","pop","shift","splice","unshift"];function Du(e,t){var n=e._chartjs;if(n){var r=n.listeners,i=r.indexOf(t);-1!==i&&r.splice(i,1),r.length>0||(Nu.forEach((function(t){delete e[t]})),delete e._chartjs)}}function Ru(e){var t,n,r=new Set;for(t=0,n=e.length;t<n;++t)r.add(e[t]);return r.size===n?e:Array.from(r)}var Ou="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function Mu(e,t,n){var r=n||function(e){return Array.prototype.slice.call(e)},i=!1,a=[];return function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];a=r(o),i||(i=!0,Ou.call(window,(function(){i=!1,e.apply(t,a)})))}}var ju=function(e){return"start"===e?"left":"end"===e?"right":"center"},Fu=function(e,t,n){return"start"===e?t:"end"===e?n:(t+n)/2};function Vu(e,t,n){var r=t.length,i=0,a=r;if(e._sorted){var o=e.iScale,s=e._parsed,u=o.axis,c=o.getUserBounds(),l=c.min,f=c.max,h=c.minDefined,d=c.maxDefined;h&&(i=Tu(Math.min(Lu(s,o.axis,l).lo,n?r:Lu(t,u,o.getPixelForValue(l)).lo),0,r-1)),a=d?Tu(Math.max(Lu(s,o.axis,f,!0).hi+1,n?0:Lu(t,u,o.getPixelForValue(f),!0).hi+1),i,r)-i:r-i}return{start:i,count:a}}function Uu(e){var t=e.xScale,n=e.yScale,r=e._scaleRanges,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;var a=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),a}var zu=function(e){return 0===e||1===e},Bu=function(e,t,n){return-Math.pow(2,10*(e-=1))*Math.sin((e-t)*ou/n)},Wu=function(e,t,n){return Math.pow(2,-10*e)*Math.sin((e-t)*ou/n)+1},Hu={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return(e-=1)*e*e+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-((e-=1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return(e-=1)*e*e*e*e+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return 1-Math.cos(e*lu)},easeOutSine:function(e){return Math.sin(e*lu)},easeInOutSine:function(e){return-.5*(Math.cos(au*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return zu(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1)))},easeInCirc:function(e){return e>=1?e:-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-(e-=1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){return zu(e)?e:Bu(e,.075,.3)},easeOutElastic:function(e){return zu(e)?e:Wu(e,.075,.3)},easeInOutElastic:function(e){var t=.1125;return zu(e)?e:e<.5?.5*Bu(2*e,t,.45):.5+.5*Wu(2*e-1,t,.45)},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:function(e){return 1-Hu.easeOutBounce(1-e)},easeOutBounce:function(e){var t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:function(e){return e<.5?.5*Hu.easeInBounce(2*e):.5*Hu.easeOutBounce(2*e-1)+.5}};function qu(e){return e+.5|0}var Gu=function(e,t,n){return Math.max(Math.min(e,n),t)};function Yu(e){return Gu(qu(2.55*e),0,255)}function Ku(e){return Gu(qu(255*e),0,255)}function Qu(e){return Gu(qu(e/2.55)/100,0,1)}function Xu(e){return Gu(qu(100*e),0,100)}var Ju={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Zu=As("0123456789ABCDEF"),$u=function(e){return Zu[15&e]},ec=function(e){return Zu[(240&e)>>4]+Zu[15&e]},tc=function(e){return(240&e)>>4===(15&e)};function nc(e){var t=function(e){return tc(e.r)&&tc(e.g)&&tc(e.b)&&tc(e.a)}(e)?$u:ec;return e?"#"+t(e.r)+t(e.g)+t(e.b)+function(e,t){return e<255?t(e):""}(e.a,t):void 0}var rc=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ic(e,t,n){var r=t*Math.min(n,1-n),i=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-r*Math.max(Math.min(i-3,9-i,1),-1)};return[i(0),i(8),i(4)]}function ac(e,t,n){var r=function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(r+e/60)%6;return n-n*t*Math.max(Math.min(i,4-i,1),0)};return[r(5),r(3),r(1)]}function oc(e,t,n){var r,i=ic(e,1,.5);for(t+n>1&&(t*=r=1/(t+n),n*=r),r=0;r<3;r++)i[r]*=1-t-n,i[r]+=t;return i}function sc(e){var t,n,r,i=e.r/255,a=e.g/255,o=e.b/255,s=Math.max(i,a,o),u=Math.min(i,a,o),c=(s+u)/2;return s!==u&&(r=s-u,n=c>.5?r/(2-s-u):r/(s+u),t=function(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}(i,a,o,r,s),t=60*t+.5),[0|t,n||0,c]}function uc(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(Ku)}function cc(e,t,n){return uc(ic,e,t,n)}function lc(e){return(e%360+360)%360}function fc(e){var t,n=rc.exec(e),r=255;if(n){n[5]!==t&&(r=n[6]?Yu(+n[5]):Ku(+n[5]));var i=lc(+n[2]),a=+n[3]/100,o=+n[4]/100;return t="hwb"===n[1]?function(e,t,n){return uc(oc,e,t,n)}(i,a,o):"hsv"===n[1]?function(e,t,n){return uc(ac,e,t,n)}(i,a,o):cc(i,a,o),{r:t[0],g:t[1],b:t[2],a:r}}}var hc,dc={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},mc={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function pc(e){hc||(hc=function(){var e,t,n,r,i,a={},o=Object.keys(mc),s=Object.keys(dc);for(e=0;e<o.length;e++){for(r=i=o[e],t=0;t<s.length;t++)n=s[t],i=i.replace(n,dc[n]);n=parseInt(mc[r],16),a[i]=[n>>16&255,n>>8&255,255&n]}return a}(),hc.transparent=[0,0,0,0]);var t=hc[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}var vc=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;var gc=function(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055},yc=function(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)};function _c(e,t,n){if(e){var r=sc(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,0===t?360:1)),r=cc(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function bc(e,t){return e?Object.assign(t||{},e):e}function kc(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Ku(e[3]))):(t=bc(e,{r:0,g:0,b:0,a:1})).a=Ku(t.a),t}function Cc(e){return"r"===e.charAt(0)?function(e){var t,n,r,i=vc.exec(e),a=255;if(i){if(i[7]!==t){var o=+i[7];a=i[8]?Yu(o):Gu(255*o,0,255)}return t=+i[1],n=+i[3],r=+i[5],{r:t=255&(i[2]?Yu(t):Gu(t,0,255)),g:n=255&(i[4]?Yu(n):Gu(n,0,255)),b:r=255&(i[6]?Yu(r):Gu(r,0,255)),a:a}}}(e):fc(e)}var wc=function(){function e(t){if(Ns(this,e),t instanceof e)return t;var n,r=typeof t;"object"===r?n=kc(t):"string"===r&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*Ju[e[1]],g:255&17*Ju[e[2]],b:255&17*Ju[e[3]],a:5===n?17*Ju[e[4]]:255}:7!==n&&9!==n||(t={r:Ju[e[1]]<<4|Ju[e[2]],g:Ju[e[3]]<<4|Ju[e[4]],b:Ju[e[5]]<<4|Ju[e[6]],a:9===n?Ju[e[7]]<<4|Ju[e[8]]:255})),t}(t)||pc(t)||Cc(t)),this._rgb=n,this._valid=!!n}return Rs(e,[{key:"valid",get:function(){return this._valid}},{key:"rgb",get:function(){var e=bc(this._rgb);return e&&(e.a=Qu(e.a)),e},set:function(e){this._rgb=kc(e)}},{key:"rgbString",value:function(){return this._valid?function(e){return e&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(Qu(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")"))}(this._rgb):void 0}},{key:"hexString",value:function(){return this._valid?nc(this._rgb):void 0}},{key:"hslString",value:function(){return this._valid?function(e){if(e){var t=sc(e),n=t[0],r=Xu(t[1]),i=Xu(t[2]);return e.a<255?"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(Qu(e.a),")"):"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)")}}(this._rgb):void 0}},{key:"mix",value:function(e,t){if(e){var n,r=this.rgb,i=e.rgb,a=t===n?.5:t,o=2*a-1,s=r.a-i.a,u=((o*s===-1?o:(o+s)/(1+o*s))+1)/2;n=1-u,r.r=255&u*r.r+n*i.r+.5,r.g=255&u*r.g+n*i.g+.5,r.b=255&u*r.b+n*i.b+.5,r.a=a*r.a+(1-a)*i.a,this.rgb=r}return this}},{key:"interpolate",value:function(e,t){return e&&(this._rgb=function(e,t,n){var r=yc(Qu(e.r)),i=yc(Qu(e.g)),a=yc(Qu(e.b));return{r:Ku(gc(r+n*(yc(Qu(t.r))-r))),g:Ku(gc(i+n*(yc(Qu(t.g))-i))),b:Ku(gc(a+n*(yc(Qu(t.b))-a))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}},{key:"clone",value:function(){return new e(this.rgb)}},{key:"alpha",value:function(e){return this._rgb.a=Ku(e),this}},{key:"clearer",value:function(e){return this._rgb.a*=1-e,this}},{key:"greyscale",value:function(){var e=this._rgb,t=qu(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}},{key:"opaquer",value:function(e){return this._rgb.a*=1+e,this}},{key:"negate",value:function(){var e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}},{key:"lighten",value:function(e){return _c(this._rgb,2,e),this}},{key:"darken",value:function(e){return _c(this._rgb,2,-e),this}},{key:"saturate",value:function(e){return _c(this._rgb,1,e),this}},{key:"desaturate",value:function(e){return _c(this._rgb,1,-e),this}},{key:"rotate",value:function(e){return function(e,t){var n=sc(e);n[0]=lc(n[0]+t),n=cc(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}]),e}();function xc(e){return new wc(e)}function Sc(e){if(e&&"object"===typeof e){var t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function Ec(e){return Sc(e)?e:xc(e)}function Tc(e){return Sc(e)?e:xc(e).saturate(.5).darken(.1).hexString()}var Pc=Object.create(null),Ic=Object.create(null);function Lc(e,t){if(!t)return e;for(var n=t.split("."),r=0,i=n.length;r<i;++r){var a=n[r];e=e[a]||(e[a]=Object.create(null))}return e}function Ac(e,t,n){return"string"===typeof t?Xs(Lc(e,t),n):Xs(Lc(e,""),t)}var Nc=function(){function e(t){Ns(this,e),this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=function(e){return e.chart.platform.getDevicePixelRatio()},this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=function(e,t){return Tc(t.backgroundColor)},this.hoverBorderColor=function(e,t){return Tc(t.borderColor)},this.hoverColor=function(e,t){return Tc(t.color)},this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t)}return Rs(e,[{key:"set",value:function(e,t){return Ac(this,e,t)}},{key:"get",value:function(e){return Lc(this,e)}},{key:"describe",value:function(e,t){return Ac(Ic,e,t)}},{key:"override",value:function(e,t){return Ac(Pc,e,t)}},{key:"route",value:function(e,t,n,r){var i,a=Lc(this,e),o=Lc(this,n),s="_"+t;Object.defineProperties(a,(ys(i={},s,{value:a[t],writable:!0}),ys(i,t,{enumerable:!0,get:function(){var e=this[s],t=o[r];return Vs(e)?Object.assign({},t,e):Bs(e,t)},set:function(e){this[s]=e}}),i))}}]),e}(),Dc=new Nc({_scriptable:function(e){return!e.startsWith("on")},_indexable:function(e){return"events"!==e},hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function Rc(e,t,n,r,i){var a=t[i];return a||(a=t[i]=e.measureText(i).width,n.push(i)),a>r&&(r=a),r}function Oc(e,t,n,r){var i=(r=r||{}).data=r.data||{},a=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},a=r.garbageCollect=[],r.font=t),e.save(),e.font=t;var o,s,u,c,l,f=0,h=n.length;for(o=0;o<h;o++)if(void 0!==(c=n[o])&&null!==c&&!0!==Fs(c))f=Rc(e,i,a,f,c);else if(Fs(c))for(s=0,u=c.length;s<u;s++)void 0===(l=c[s])||null===l||Fs(l)||(f=Rc(e,i,a,f,l));e.restore();var d=a.length/2;if(d>n.length){for(o=0;o<d;o++)delete i[a[o]];a.splice(0,d)}return f}function Mc(e,t,n){var r=e.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function jc(e,t){(t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function Fc(e,t,n,r){Vc(e,t,n,r,null)}function Vc(e,t,n,r,i){var a,o,s,u,c,l,f=t.pointStyle,h=t.rotation,d=t.radius,m=(h||0)*cu;if(f&&"object"===typeof f&&("[object HTMLImageElement]"===(a=f.toString())||"[object HTMLCanvasElement]"===a))return e.save(),e.translate(n,r),e.rotate(m),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void e.restore();if(!(isNaN(d)||d<=0)){switch(e.beginPath(),f){default:i?e.ellipse(n,r,i/2,d,0,0,ou):e.arc(n,r,d,0,ou),e.closePath();break;case"triangle":e.moveTo(n+Math.sin(m)*d,r-Math.cos(m)*d),m+=hu,e.lineTo(n+Math.sin(m)*d,r-Math.cos(m)*d),m+=hu,e.lineTo(n+Math.sin(m)*d,r-Math.cos(m)*d),e.closePath();break;case"rectRounded":u=d-(c=.516*d),o=Math.cos(m+fu)*u,s=Math.sin(m+fu)*u,e.arc(n-o,r-s,c,m-au,m-lu),e.arc(n+s,r-o,c,m-lu,m),e.arc(n+o,r+s,c,m,m+lu),e.arc(n-s,r+o,c,m+lu,m+au),e.closePath();break;case"rect":if(!h){u=Math.SQRT1_2*d,l=i?i/2:u,e.rect(n-l,r-u,2*l,2*u);break}m+=fu;case"rectRot":o=Math.cos(m)*d,s=Math.sin(m)*d,e.moveTo(n-o,r-s),e.lineTo(n+s,r-o),e.lineTo(n+o,r+s),e.lineTo(n-s,r+o),e.closePath();break;case"crossRot":m+=fu;case"cross":o=Math.cos(m)*d,s=Math.sin(m)*d,e.moveTo(n-o,r-s),e.lineTo(n+o,r+s),e.moveTo(n+s,r-o),e.lineTo(n-s,r+o);break;case"star":o=Math.cos(m)*d,s=Math.sin(m)*d,e.moveTo(n-o,r-s),e.lineTo(n+o,r+s),e.moveTo(n+s,r-o),e.lineTo(n-s,r+o),m+=fu,o=Math.cos(m)*d,s=Math.sin(m)*d,e.moveTo(n-o,r-s),e.lineTo(n+o,r+s),e.moveTo(n+s,r-o),e.lineTo(n-s,r+o);break;case"line":o=i?i/2:Math.cos(m)*d,s=Math.sin(m)*d,e.moveTo(n-o,r-s),e.lineTo(n+o,r+s);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(m)*d,r+Math.sin(m)*d)}e.fill(),t.borderWidth>0&&e.stroke()}}function Uc(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function zc(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Bc(e){e.restore()}function Wc(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if("middle"===i){var a=(t.x+n.x)/2;e.lineTo(a,t.y),e.lineTo(a,n.y)}else"after"===i!==!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function Hc(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function qc(e,t,n,r,i){var a,o,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},u=Fs(t)?t:[t],c=s.strokeWidth>0&&""!==s.strokeColor;for(e.save(),e.font=i.string,Gc(e,s),a=0;a<u.length;++a)o=u[a],c&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),js(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(o,n,r,s.maxWidth)),e.fillText(o,n,r,s.maxWidth),Yc(e,n,r,o,s),r+=i.lineHeight;e.restore()}function Gc(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),js(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function Yc(e,t,n,r,i){if(i.strikethrough||i.underline){var a=e.measureText(r),o=t-a.actualBoundingBoxLeft,s=t+a.actualBoundingBoxRight,u=n-a.actualBoundingBoxAscent,c=n+a.actualBoundingBoxDescent,l=i.strikethrough?(u+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,l),e.lineTo(s,l),e.stroke()}}function Kc(e,t){var n=t.x,r=t.y,i=t.w,a=t.h,o=t.radius;e.arc(n+o.topLeft,r+o.topLeft,o.topLeft,-lu,au,!0),e.lineTo(n,r+a-o.bottomLeft),e.arc(n+o.bottomLeft,r+a-o.bottomLeft,o.bottomLeft,au,lu,!0),e.lineTo(n+i-o.bottomRight,r+a),e.arc(n+i-o.bottomRight,r+a-o.bottomRight,o.bottomRight,lu,0,!0),e.lineTo(n+i,r+o.topRight),e.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-lu,!0),e.lineTo(n+o.topLeft,r)}var Qc=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),Xc=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function Jc(e,t){var n=(""+e).match(Qc);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}var Zc=function(e){return+e||0};function $c(e,t){var n,r={},i=Vs(t),a=i?Object.keys(t):t,o=Vs(e)?i?function(n){return Bs(e[n],e[t[n]])}:function(t){return e[t]}:function(){return e},s=Is(a);try{for(s.s();!(n=s.n()).done;){var u=n.value;r[u]=Zc(o(u))}}catch(c){s.e(c)}finally{s.f()}return r}function el(e){return $c(e,{top:"y",right:"x",bottom:"y",left:"x"})}function tl(e){return $c(e,["topLeft","topRight","bottomLeft","bottomRight"])}function nl(e){var t=el(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function rl(e,t){e=e||{},t=t||Dc.font;var n=Bs(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));var r=Bs(e.style,t.style);r&&!(""+r).match(Xc)&&(console.warn('Invalid font style specified: "'+r+'"'),r="");var i={family:Bs(e.family,t.family),lineHeight:Jc(Bs(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:Bs(e.weight,t.weight),string:""};return i.string=function(e){return!e||js(e.size)||js(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(i),i}function il(e,t,n,r){var i,a,o,s=!0;for(i=0,a=e.length;i<a;++i)if(void 0!==(o=e[i])&&(void 0!==t&&"function"===typeof o&&(o=o(t),s=!1),void 0!==n&&Fs(o)&&(o=o[n%o.length],s=!1),void 0!==o))return r&&!s&&(r.cacheable=!1),o}function al(e,t){return Object.assign(Object.create(e),t)}function ol(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return e[0]};nu(i)||(i=yl("_fallback",e));var o=(ys(t={},Symbol.toStringTag,"Object"),ys(t,"_cacheable",!0),ys(t,"_scopes",e),ys(t,"_rootScopes",r),ys(t,"_fallback",i),ys(t,"_getTarget",a),ys(t,"override",(function(t){return ol([t].concat(As(e)),n,r,i)})),t);return new Proxy(o,{deleteProperty:function(t,n){return delete t[n],delete t._keys,delete e[0][n],!0},get:function(t,r){return fl(t,r,(function(){return gl(r,n,e,t)}))},getOwnPropertyDescriptor:function(e,t){return Reflect.getOwnPropertyDescriptor(e._scopes[0],t)},getPrototypeOf:function(){return Reflect.getPrototypeOf(e[0])},has:function(e,t){return _l(e).includes(t)},ownKeys:function(e){return _l(e)},set:function(e,t,n){var r=e._storage||(e._storage=a());return e[t]=r[t]=n,delete e._keys,!0}})}function sl(e,t,n,r){var i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:ul(e,r),setContext:function(t){return sl(e,t,n,r)},override:function(i){return sl(e.override(i),t,n,r)}};return new Proxy(i,{deleteProperty:function(t,n){return delete t[n],delete e[n],!0},get:function(e,t,n){return fl(e,t,(function(){return function(e,t,n){var r=e._proxy,i=e._context,a=e._subProxy,o=e._descriptors,s=r[t];ru(s)&&o.isScriptable(t)&&(s=function(e,t,n,r){var i=n._proxy,a=n._context,o=n._subProxy,s=n._stack;if(s.has(e))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+e);s.add(e),t=t(a,o||r),s.delete(e),ll(e,t)&&(t=pl(i._scopes,i,e,t));return t}(t,s,e,n));Fs(s)&&s.length&&(s=function(e,t,n,r){var i=n._proxy,a=n._context,o=n._subProxy,s=n._descriptors;if(nu(a.index)&&r(e))t=t[a.index%t.length];else if(Vs(t[0])){var u=t,c=i._scopes.filter((function(e){return e!==u}));t=[];var l,f=Is(u);try{for(f.s();!(l=f.n()).done;){var h=pl(c,i,e,l.value);t.push(sl(h,a,o&&o[e],s))}}catch(d){f.e(d)}finally{f.f()}}return t}(t,s,e,o.isIndexable));ll(t,s)&&(s=sl(s,i,a&&a[t],o));return s}(e,t,n)}))},getOwnPropertyDescriptor:function(t,n){return t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n)},getPrototypeOf:function(){return Reflect.getPrototypeOf(e)},has:function(t,n){return Reflect.has(e,n)},ownKeys:function(){return Reflect.ownKeys(e)},set:function(t,n,r){return e[n]=r,delete t[n],!0}})}function ul(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0},n=e._scriptable,r=void 0===n?t.scriptable:n,i=e._indexable,a=void 0===i?t.indexable:i,o=e._allKeys,s=void 0===o?t.allKeys:o;return{allKeys:s,scriptable:r,indexable:a,isScriptable:ru(r)?r:function(){return r},isIndexable:ru(a)?a:function(){return a}}}var cl=function(e,t){return e?e+tu(t):t},ll=function(e,t){return Vs(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object)};function fl(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];var r=n();return e[t]=r,r}function hl(e,t,n){return ru(e)?e(t,n):e}var dl=function(e,t){return!0===e?t:"string"===typeof e?eu(t,e):void 0};function ml(e,t,n,r,i){var a,o=Is(t);try{for(o.s();!(a=o.n()).done;){var s=a.value,u=dl(n,s);if(u){e.add(u);var c=hl(u._fallback,n,i);if(nu(c)&&c!==n&&c!==r)return c}else if(!1===u&&nu(r)&&n!==r)return null}}catch(l){o.e(l)}finally{o.f()}return!1}function pl(e,t,n,r){var i=t._rootScopes,a=hl(t._fallback,n,r),o=[].concat(As(e),As(i)),s=new Set;s.add(r);var u=vl(s,o,n,a||n,r);return null!==u&&((!nu(a)||a===n||null!==(u=vl(s,o,a,u,r)))&&ol(Array.from(s),[""],i,a,(function(){return function(e,t,n){var r=e._getTarget();t in r||(r[t]={});var i=r[t];if(Fs(i)&&Vs(n))return n;return i}(t,n,r)})))}function vl(e,t,n,r,i){for(;n;)n=ml(e,t,n,r,i);return n}function gl(e,t,n,r){var i,a,o=Is(t);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(i=yl(cl(s,e),n),nu(i))return ll(e,i)?pl(n,r,e,i):i}}catch(u){o.e(u)}finally{o.f()}}function yl(e,t){var n,r=Is(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i){var a=i[e];if(nu(a))return a}}}catch(o){r.e(o)}finally{r.f()}}function _l(e){var t=e._keys;return t||(t=e._keys=function(e){var t,n=new Set,r=Is(e);try{for(r.s();!(t=r.n()).done;){var i,a=t.value,o=Is(Object.keys(a).filter((function(e){return!e.startsWith("_")})));try{for(o.s();!(i=o.n()).done;){var s=i.value;n.add(s)}}catch(u){o.e(u)}finally{o.f()}}}catch(u){r.e(u)}finally{r.f()}return Array.from(n)}(e._scopes)),t}function bl(e,t,n,r){var i,a,o,s,u=e.iScale,c=this._parsing.key,l=void 0===c?"r":c,f=new Array(r);for(i=0,a=r;i<a;++i)s=t[o=i+n],f[i]={r:u.parse(eu(s,l),o)};return f}var kl=Number.EPSILON||1e-14,Cl=function(e,t){return t<e.length&&!e[t].skip&&e[t]},wl=function(e){return"x"===e?"y":"x"};function xl(e,t,n,r){var i=e.skip?t:e,a=t,o=n.skip?t:n,s=wu(a,i),u=wu(o,a),c=s/(s+u),l=u/(s+u),f=r*(c=isNaN(c)?0:c),h=r*(l=isNaN(l)?0:l);return{previous:{x:a.x-f*(o.x-i.x),y:a.y-f*(o.y-i.y)},next:{x:a.x+h*(o.x-i.x),y:a.y+h*(o.y-i.y)}}}function Sl(e,t,n){for(var r,i,a,o,s,u=e.length,c=Cl(e,0),l=0;l<u-1;++l)s=c,c=Cl(e,l+1),s&&c&&(gu(t[l],0,kl)?n[l]=n[l+1]=0:(r=n[l]/t[l],i=n[l+1]/t[l],(o=Math.pow(r,2)+Math.pow(i,2))<=9||(a=3/Math.sqrt(o),n[l]=r*a*t[l],n[l+1]=i*a*t[l])))}function El(e,t){for(var n,r,i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x",o=wl(a),s=e.length,u=Cl(e,0),c=0;c<s;++c)if(r=i,i=u,u=Cl(e,c+1),i){var l=i[a],f=i[o];r&&(n=(l-r[a])/3,i["cp1".concat(a)]=l-n,i["cp1".concat(o)]=f-n*t[c]),u&&(n=(u[a]-l)/3,i["cp2".concat(a)]=l+n,i["cp2".concat(o)]=f+n*t[c])}}function Tl(e,t,n){return Math.max(Math.min(e,n),t)}function Pl(e,t,n,r,i){var a,o,s,u;if(t.spanGaps&&(e=e.filter((function(e){return!e.skip}))),"monotone"===t.cubicInterpolationMode)!function(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",a=wl(i),o=e.length,s=Array(o).fill(0),u=Array(o),c=Cl(e,0);for(t=0;t<o;++t)if(n=r,r=c,c=Cl(e,t+1),r){if(c){var l=c[i]-r[i];s[t]=0!==l?(c[a]-r[a])/l:0}u[t]=n?c?mu(s[t-1])!==mu(s[t])?0:(s[t-1]+s[t])/2:s[t-1]:s[t]}Sl(e,s,u),El(e,u,i)}(e,i);else{var c=r?e[e.length-1]:e[0];for(a=0,o=e.length;a<o;++a)u=xl(c,s=e[a],e[Math.min(a+1,o-(r?0:1))%o],t.tension),s.cp1x=u.previous.x,s.cp1y=u.previous.y,s.cp2x=u.next.x,s.cp2y=u.next.y,c=s}t.capBezierPoints&&function(e,t){var n,r,i,a,o,s=Uc(e[0],t);for(n=0,r=e.length;n<r;++n)o=a,a=s,s=n<r-1&&Uc(e[n+1],t),a&&(i=e[n],o&&(i.cp1x=Tl(i.cp1x,t.left,t.right),i.cp1y=Tl(i.cp1y,t.top,t.bottom)),s&&(i.cp2x=Tl(i.cp2x,t.left,t.right),i.cp2y=Tl(i.cp2y,t.top,t.bottom)))}(e,n)}function Il(){return"undefined"!==typeof window&&"undefined"!==typeof document}function Ll(e){var t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function Al(e,t,n){var r;return"string"===typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}var Nl=function(e){return window.getComputedStyle(e,null)};var Dl=["top","right","bottom","left"];function Rl(e,t,n){var r={};n=n?"-"+n:"";for(var i=0;i<4;i++){var a=Dl[i];r[a]=parseFloat(e[t+"-"+a+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}function Ol(e,t){if("native"in e)return e;var n=t.canvas,r=t.currentDevicePixelRatio,i=Nl(n),a="border-box"===i.boxSizing,o=Rl(i,"padding"),s=Rl(i,"border","width"),u=function(e,t){var n,r,i=e.touches,a=i&&i.length?i[0]:e,o=a.offsetX,s=a.offsetY,u=!1;if(function(e,t,n){return(e>0||t>0)&&(!n||!n.shadowRoot)}(o,s,e.target))n=o,r=s;else{var c=t.getBoundingClientRect();n=a.clientX-c.left,r=a.clientY-c.top,u=!0}return{x:n,y:r,box:u}}(e,n),c=u.x,l=u.y,f=u.box,h=o.left+(f&&s.left),d=o.top+(f&&s.top),m=t.width,p=t.height;return a&&(m-=o.width+s.width,p-=o.height+s.height),{x:Math.round((c-h)/m*n.width/r),y:Math.round((l-d)/p*n.height/r)}}var Ml=function(e){return Math.round(10*e)/10};function jl(e,t,n,r){var i=Nl(e),a=Rl(i,"margin"),o=Al(i.maxWidth,e,"clientWidth")||uu,s=Al(i.maxHeight,e,"clientHeight")||uu,u=function(e,t,n){var r,i;if(void 0===t||void 0===n){var a=Ll(e);if(a){var o=a.getBoundingClientRect(),s=Nl(a),u=Rl(s,"border","width"),c=Rl(s,"padding");t=o.width-c.width-u.width,n=o.height-c.height-u.height,r=Al(s.maxWidth,a,"clientWidth"),i=Al(s.maxHeight,a,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:r||uu,maxHeight:i||uu}}(e,t,n),c=u.width,l=u.height;if("content-box"===i.boxSizing){var f=Rl(i,"border","width"),h=Rl(i,"padding");c-=h.width+f.width,l-=h.height+f.height}return c=Math.max(0,c-a.width),l=Math.max(0,r?Math.floor(c/r):l-a.height),c=Ml(Math.min(c,o,u.maxWidth)),l=Ml(Math.min(l,s,u.maxHeight)),c&&!l&&(l=Ml(c/2)),{width:c,height:l}}function Fl(e,t,n){var r=t||1,i=Math.floor(e.height*r),a=Math.floor(e.width*r);e.height=i/r,e.width=a/r;var o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height="".concat(e.height,"px"),o.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==r||o.height!==i||o.width!==a)&&(e.currentDevicePixelRatio=r,o.height=i,o.width=a,e.ctx.setTransform(r,0,0,r,0,0),!0)}var Vl=function(){var e=!1;try{var t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(yB){}return e}();function Ul(e,t){var n=function(e,t){return Nl(e).getPropertyValue(t)}(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function zl(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function Bl(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:"middle"===r?n<.5?e.y:t.y:"after"===r?n<1?e.y:t.y:n>0?t.y:e.y}}function Wl(e,t,n,r){var i={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},o=zl(e,i,n),s=zl(i,a,n),u=zl(a,t,n),c=zl(o,s,n),l=zl(s,u,n);return zl(c,l,n)}var Hl=new Map;function ql(e,t,n){return function(e,t){t=t||{};var n=e+JSON.stringify(t),r=Hl.get(n);return r||(r=new Intl.NumberFormat(e,t),Hl.set(n,r)),r}(t,n).format(e)}function Gl(e,t,n){return e?function(e,t){return{x:function(n){return e+e+t-n},setWidth:function(e){t=e},textAlign:function(e){return"center"===e?e:"right"===e?"left":"right"},xPlus:function(e,t){return e-t},leftForLtr:function(e,t){return e-t}}}(t,n):{x:function(e){return e},setWidth:function(e){},textAlign:function(e){return e},xPlus:function(e,t){return e+t},leftForLtr:function(e,t){return e}}}function Yl(e,t){var n,r;"ltr"!==t&&"rtl"!==t||(r=[(n=e.canvas.style).getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function Kl(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Ql(e){return"angle"===e?{between:Eu,compare:xu,normalize:Su}:{between:Pu,compare:function(e,t){return e-t},normalize:function(e){return e}}}function Xl(e){var t=e.start,n=e.end,r=e.count;return{start:t%r,end:n%r,loop:e.loop&&(n-t+1)%r===0,style:e.style}}function Jl(e,t,n){if(!n)return[e];for(var r,i,a,o=n.property,s=n.start,u=n.end,c=t.length,l=Ql(o),f=l.compare,h=l.between,d=l.normalize,m=function(e,t,n){var r,i,a=n.property,o=n.start,s=n.end,u=Ql(a),c=u.between,l=u.normalize,f=t.length,h=e.start,d=e.end,m=e.loop;if(m){for(h+=f,d+=f,r=0,i=f;r<i&&c(l(t[h%f][a]),o,s);++r)h--,d--;h%=f,d%=f}return d<h&&(d+=f),{start:h,end:d,loop:m,style:e.style}}(e,t,n),p=m.start,v=m.end,g=m.loop,y=m.style,_=[],b=!1,k=null,C=function(){return b||h(s,a,r)&&0!==f(s,a)},w=function(){return!b||0===f(u,r)||h(u,a,r)},x=p,S=p;x<=v;++x)(i=t[x%c]).skip||(r=d(i[o]))!==a&&(b=h(r,s,u),null===k&&C()&&(k=0===f(r,s)?x:S),null!==k&&w()&&(_.push(Xl({start:k,end:x,loop:g,count:c,style:y})),k=null),S=x,a=r);return null!==k&&_.push(Xl({start:k,end:v,loop:g,count:c,style:y})),_}function Zl(e,t){for(var n=[],r=e.segments,i=0;i<r.length;i++){var a=Jl(r[i],e.points,t);a.length&&n.push.apply(n,As(a))}return n}function $l(e,t,n,r){return r&&r.setContext&&n?function(e,t,n,r){var i=e._chart.getContext(),a=ef(e.options),o=e._datasetIndex,s=e.options.spanGaps,u=n.length,c=[],l=a,f=t[0].start,h=f;function d(e,t,r,i){var a=s?-1:1;if(e!==t){for(e+=u;n[e%u].skip;)e-=a;for(;n[t%u].skip;)t+=a;e%u!==t%u&&(c.push({start:e%u,end:t%u,loop:r,style:i}),l=i,f=t%u)}}var m,p=Is(t);try{for(p.s();!(m=p.n()).done;){var v=m.value;f=s?f:v.start;var g=n[f%u],y=void 0;for(h=f+1;h<=v.end;h++){var _=n[h%u];tf(y=ef(r.setContext(al(i,{type:"segment",p0:g,p1:_,p0DataIndex:(h-1)%u,p1DataIndex:h%u,datasetIndex:o}))),l)&&d(f,h-1,v.loop,l),g=_,l=y}f<h-1&&d(f,h-1,v.loop,l)}}catch(b){p.e(b)}finally{p.f()}return c}(e,t,n,r):t}function ef(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function tf(e,t){return t&&JSON.stringify(e)!==JSON.stringify(t)}var nf=function(){function e(){Ns(this,e),this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}return Rs(e,[{key:"_notify",value:function(e,t,n,r){var i=t.listeners[r],a=t.duration;i.forEach((function(r){return r({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(n-t.start,a)})}))}},{key:"_refresh",value:function(){var e=this;this._request||(this._running=!0,this._request=Ou.call(window,(function(){e._update(),e._request=null,e._running&&e._refresh()})))}},{key:"_update",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),n=0;this._charts.forEach((function(r,i){if(r.running&&r.items.length){for(var a,o=r.items,s=o.length-1,u=!1;s>=0;--s)(a=o[s])._active?(a._total>r.duration&&(r.duration=a._total),a.tick(t),u=!0):(o[s]=o[o.length-1],o.pop());u&&(i.draw(),e._notify(i,r,t,"progress")),o.length||(r.running=!1,e._notify(i,r,t,"complete"),r.initial=!1),n+=o.length}})),this._lastDate=t,0===n&&(this._running=!1)}},{key:"_getAnims",value:function(e){var t=this._charts,n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}},{key:"listen",value:function(e,t,n){this._getAnims(e).listeners[t].push(n)}},{key:"add",value:function(e,t){var n;t&&t.length&&(n=this._getAnims(e).items).push.apply(n,As(t))}},{key:"has",value:function(e){return this._getAnims(e).items.length>0}},{key:"start",value:function(e){var t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((function(e,t){return Math.max(e,t._duration)}),0),this._refresh())}},{key:"running",value:function(e){if(!this._running)return!1;var t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}},{key:"stop",value:function(e){var t=this._charts.get(e);if(t&&t.items.length){for(var n=t.items,r=n.length-1;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}}},{key:"remove",value:function(e){return this._charts.delete(e)}}]),e}(),rf=new nf,af="transparent",of={boolean:function(e,t,n){return n>.5?t:e},color:function(e,t,n){var r=Ec(e||af),i=r.valid&&Ec(t||af);return i&&i.valid?i.mix(r,n).hexString():t},number:function(e,t,n){return e+(t-e)*n}},sf=function(){function e(t,n,r,i){Ns(this,e);var a=n[r];i=il([t.to,i,a,t.from]);var o=il([t.from,a,i]);this._active=!0,this._fn=t.fn||of[t.type||typeof o],this._easing=Hu[t.easing]||Hu.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}return Rs(e,[{key:"active",value:function(){return this._active}},{key:"update",value:function(e,t,n){if(this._active){this._notify(!1);var r=this._target[this._prop],i=n-this._start,a=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=il([e.to,t,r,e.from]),this._from=il([e.from,r,t])}}},{key:"cancel",value:function(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}},{key:"tick",value:function(e){var t,n=e-this._start,r=this._duration,i=this._prop,a=this._from,o=this._loop,s=this._to;if(this._active=a!==s&&(o||n<r),!this._active)return this._target[i]=s,void this._notify(!0);n<0?this._target[i]=a:(t=n/r%2,t=o&&t>1?2-t:t,t=this._easing(Math.min(1,Math.max(0,t))),this._target[i]=this._fn(a,s,t))}},{key:"wait",value:function(){var e=this._promises||(this._promises=[]);return new Promise((function(t,n){e.push({res:t,rej:n})}))}},{key:"_notify",value:function(e){for(var t=e?"res":"rej",n=this._promises||[],r=0;r<n.length;r++)n[r][t]()}}]),e}();Dc.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});var uf=Object.keys(Dc.animation);Dc.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:function(e){return"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}}),Dc.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),Dc.describe("animations",{_fallback:"animation"}),Dc.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:function(e){return 0|e}}}}});var cf=function(){function e(t,n){Ns(this,e),this._chart=t,this._properties=new Map,this.configure(n)}return Rs(e,[{key:"configure",value:function(e){if(Vs(e)){var t=this._properties;Object.getOwnPropertyNames(e).forEach((function(n){var r=e[n];if(Vs(r)){var i,a={},o=Is(uf);try{for(o.s();!(i=o.n()).done;){var s=i.value;a[s]=r[s]}}catch(u){o.e(u)}finally{o.f()}(Fs(r.properties)&&r.properties||[n]).forEach((function(e){e!==n&&t.has(e)||t.set(e,a)}))}}))}}},{key:"_animateOptions",value:function(e,t){var n=t.options,r=function(e,t){if(!t)return;var n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!r)return[];var i=this._createAnimations(r,n);return n.$shared&&function(e,t){for(var n=[],r=Object.keys(t),i=0;i<r.length;i++){var a=e[r[i]];a&&a.active()&&n.push(a.wait())}return Promise.all(n)}(e.options.$animations,n).then((function(){e.options=n}),(function(){})),i}},{key:"_createAnimations",value:function(e,t){var n,r=this._properties,i=[],a=e.$animations||(e.$animations={}),o=Object.keys(t),s=Date.now();for(n=o.length-1;n>=0;--n){var u=o[n];if("$"!==u.charAt(0))if("options"!==u){var c=t[u],l=a[u],f=r.get(u);if(l){if(f&&l.active()){l.update(f,c,s);continue}l.cancel()}f&&f.duration?(a[u]=l=new sf(f,e,u,c),i.push(l)):e[u]=c}else i.push.apply(i,As(this._animateOptions(e,t)))}return i}},{key:"update",value:function(e,t){if(0!==this._properties.size){var n=this._createAnimations(e,t);return n.length?(rf.add(this._chart,n),!0):void 0}Object.assign(e,t)}}]),e}();function lf(e,t){var n=e&&e.options||{},r=n.reverse,i=void 0===n.min?t:0,a=void 0===n.max?t:0;return{start:r?a:i,end:r?i:a}}function ff(e,t){var n,r,i=[],a=e._getSortedDatasetMetas(t);for(n=0,r=a.length;n<r;++n)i.push(a[n].index);return i}function hf(e,t,n){var r,i,a,o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=e.keys,c="single"===s.mode;if(null!==t){for(r=0,i=u.length;r<i;++r){if((a=+u[r])===n){if(s.all)continue;break}o=e.values[a],Us(o)&&(c||0===t||mu(t)===mu(o))&&(t+=o)}return t}}function df(e,t){var n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function mf(e,t,n){var r=e[t]||(e[t]={});return r[n]||(r[n]={})}function pf(e,t,n,r){var i,a=Is(t.getMatchingVisibleMetas(r).reverse());try{for(a.s();!(i=a.n()).done;){var o=i.value,s=e[o.index];if(n&&s>0||!n&&s<0)return o.index}}catch(u){a.e(u)}finally{a.f()}return null}function vf(e,t){for(var n,r=e.chart,i=e._cachedMeta,a=r._stacks||(r._stacks={}),o=i.iScale,s=i.vScale,u=i.index,c=o.axis,l=s.axis,f=function(e,t,n){return"".concat(e.id,".").concat(t.id,".").concat(n.stack||n.type)}(o,s,i),h=t.length,d=0;d<h;++d){var m=t[d],p=m[c],v=m[l];(n=(m._stacks||(m._stacks={}))[l]=mf(a,f,p))[u]=v,n._top=pf(n,s,!0,i.type),n._bottom=pf(n,s,!1,i.type)}}function gf(e,t){var n=e.scales;return Object.keys(n).filter((function(e){return n[e].axis===t})).shift()}function yf(e,t){var n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){var i,a=Is(t=t||e._parsed);try{for(a.s();!(i=a.n()).done;){var o=i.value._stacks;if(!o||void 0===o[r]||void 0===o[r][n])return;delete o[r][n]}}catch(s){a.e(s)}finally{a.f()}}}var _f=function(e){return"reset"===e||"none"===e},bf=function(e,t){return t?e:Object.assign({},e)},kf=function(){function e(t,n){Ns(this,e),this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}return Rs(e,[{key:"initialize",value:function(){var e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=df(e.vScale,e),this.addElements()}},{key:"updateIndex",value:function(e){this.index!==e&&yf(this._cachedMeta),this.index=e}},{key:"linkScales",value:function(){var e=this.chart,t=this._cachedMeta,n=this.getDataset(),r=function(e,t,n,r){return"x"===e?t:"r"===e?r:n},i=t.xAxisID=Bs(n.xAxisID,gf(e,"x")),a=t.yAxisID=Bs(n.yAxisID,gf(e,"y")),o=t.rAxisID=Bs(n.rAxisID,gf(e,"r")),s=t.indexAxis,u=t.iAxisID=r(s,i,a,o),c=t.vAxisID=r(s,a,i,o);t.xScale=this.getScaleForId(i),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(u),t.vScale=this.getScaleForId(c)}},{key:"getDataset",value:function(){return this.chart.data.datasets[this.index]}},{key:"getMeta",value:function(){return this.chart.getDatasetMeta(this.index)}},{key:"getScaleForId",value:function(e){return this.chart.scales[e]}},{key:"_getOtherScale",value:function(e){var t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}},{key:"reset",value:function(){this._update("reset")}},{key:"_destroy",value:function(){var e=this._cachedMeta;this._data&&Du(this._data,this),e._stacked&&yf(e)}},{key:"_dataCheck",value:function(){var e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(Vs(t))this._data=function(e){var t,n,r,i=Object.keys(e),a=new Array(i.length);for(t=0,n=i.length;t<n;++t)r=i[t],a[t]={x:r,y:e[r]};return a}(t);else if(n!==t){if(n){Du(n,this);var r=this._cachedMeta;yf(r),r._parsed=[]}t&&Object.isExtensible(t)&&function(e,t){e._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Nu.forEach((function(t){var n="_onData"+tu(t),r=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];var o=r.apply(this,i);return e._chartjs.listeners.forEach((function(e){"function"===typeof e[n]&&e[n].apply(e,i)})),o}})})))}(t,this),this._syncList=[],this._data=t}}},{key:"addElements",value:function(){var e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}},{key:"buildOrUpdateElements",value:function(e){var t=this._cachedMeta,n=this.getDataset(),r=!1;this._dataCheck();var i=t._stacked;t._stacked=df(t.vScale,t),t.stack!==n.stack&&(r=!0,yf(t),t.stack=n.stack),this._resyncElements(e),(r||i!==t._stacked)&&vf(this,t._parsed)}},{key:"configure",value:function(){var e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}},{key:"parse",value:function(e,t){var n,r,i,a=this._cachedMeta,o=this._data,s=a.iScale,u=a._stacked,c=s.axis,l=0===e&&t===o.length||a._sorted,f=e>0&&a._parsed[e-1];if(!1===this._parsing)a._parsed=o,a._sorted=!0,i=o;else{i=Fs(o[e])?this.parseArrayData(a,o,e,t):Vs(o[e])?this.parseObjectData(a,o,e,t):this.parsePrimitiveData(a,o,e,t);for(n=0;n<t;++n)a._parsed[n+e]=r=i[n],l&&((null===r[c]||f&&r[c]<f[c])&&(l=!1),f=r);a._sorted=l}u&&vf(this,i)}},{key:"parsePrimitiveData",value:function(e,t,n,r){var i,a,o,s=e.iScale,u=e.vScale,c=s.axis,l=u.axis,f=s.getLabels(),h=s===u,d=new Array(r);for(i=0,a=r;i<a;++i){var m;o=i+n,d[i]=(ys(m={},c,h||s.parse(f[o],o)),ys(m,l,u.parse(t[o],o)),m)}return d}},{key:"parseArrayData",value:function(e,t,n,r){var i,a,o,s,u=e.xScale,c=e.yScale,l=new Array(r);for(i=0,a=r;i<a;++i)s=t[o=i+n],l[i]={x:u.parse(s[0],o),y:c.parse(s[1],o)};return l}},{key:"parseObjectData",value:function(e,t,n,r){var i,a,o,s,u=e.xScale,c=e.yScale,l=this._parsing,f=l.xAxisKey,h=void 0===f?"x":f,d=l.yAxisKey,m=void 0===d?"y":d,p=new Array(r);for(i=0,a=r;i<a;++i)s=t[o=i+n],p[i]={x:u.parse(eu(s,h),o),y:c.parse(eu(s,m),o)};return p}},{key:"getParsed",value:function(e){return this._cachedMeta._parsed[e]}},{key:"getDataElement",value:function(e){return this._cachedMeta.data[e]}},{key:"applyStack",value:function(e,t,n){var r=this.chart,i=this._cachedMeta,a=t[e.axis];return hf({keys:ff(r,!0),values:t._stacks[e.axis]},a,i.index,{mode:n})}},{key:"updateRangeFromParsed",value:function(e,t,n,r){var i=n[t.axis],a=null===i?NaN:i,o=r&&n._stacks[t.axis];r&&o&&(r.values=o,a=hf(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}},{key:"getMinMax",value:function(e,t){var n,r,i=this._cachedMeta,a=i._parsed,o=i._sorted&&e===i.iScale,s=a.length,u=this._getOtherScale(e),c=function(e,t,n){return e&&!t.hidden&&t._stacked&&{keys:ff(n,!0),values:null}}(t,i,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},f=function(e){var t=e.getUserBounds(),n=t.min,r=t.max,i=t.minDefined,a=t.maxDefined;return{min:i?n:Number.NEGATIVE_INFINITY,max:a?r:Number.POSITIVE_INFINITY}}(u),h=f.min,d=f.max;function m(){var t=(r=a[n])[u.axis];return!Us(r[e.axis])||h>t||d<t}for(n=0;n<s&&(m()||(this.updateRangeFromParsed(l,e,r,c),!o));++n);if(o)for(n=s-1;n>=0;--n)if(!m()){this.updateRangeFromParsed(l,e,r,c);break}return l}},{key:"getAllParsedValues",value:function(e){var t,n,r,i=this._cachedMeta._parsed,a=[];for(t=0,n=i.length;t<n;++t)r=i[t][e.axis],Us(r)&&a.push(r);return a}},{key:"getMaxOverflow",value:function(){return!1}},{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=t.iScale,r=t.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}},{key:"_update",value:function(e){var t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){var t,n,r,i;return Vs(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:!1===e}}(Bs(this.options.clip,function(e,t,n){if(!1===n)return!1;var r=lf(e,n),i=lf(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}},{key:"update",value:function(e){}},{key:"draw",value:function(){var e,t=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],a=n.chartArea,o=[],s=this._drawStart||0,u=this._drawCount||i.length-s,c=this.options.drawActiveElementsOnTop;for(r.dataset&&r.dataset.draw(t,a,s,u),e=s;e<s+u;++e){var l=i[e];l.hidden||(l.active&&c?o.push(l):l.draw(t,a))}for(e=0;e<o.length;++e)o[e].draw(t,a)}},{key:"getStyle",value:function(e,t){var n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}},{key:"getContext",value:function(e,t,n){var r,i=this.getDataset();if(e>=0&&e<this._cachedMeta.data.length){var a=this._cachedMeta.data[e];r=a.$context||(a.$context=function(e,t,n){return al(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,a)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=function(e,t){return al(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=n,r}},{key:"resolveDatasetElementOptions",value:function(e){return this._resolveElementOptions(this.datasetElementType.id,e)}},{key:"resolveDataElementOptions",value:function(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}},{key:"_resolveElementOptions",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",r=arguments.length>2?arguments[2]:void 0,i="active"===n,a=this._cachedDataOpts,o=e+"-"+n,s=a[o],u=this.enableOptionSharing&&nu(r);if(s)return bf(s,u);var c=this.chart.config,l=c.datasetElementScopeKeys(this._type,e),f=i?["".concat(e,"Hover"),"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),l),d=Object.keys(Dc.elements[e]),m=function(){return t.getContext(r,i)},p=c.resolveNamedOptions(h,d,m,f);return p.$shared&&(p.$shared=u,a[o]=Object.freeze(bf(p,u))),p}},{key:"_resolveAnimations",value:function(e,t,n){var r,i=this.chart,a=this._cachedDataOpts,o="animation-".concat(t),s=a[o];if(s)return s;if(!1!==i.options.animation){var u=this.chart.config,c=u.datasetAnimationScopeKeys(this._type,t),l=u.getOptionScopes(this.getDataset(),c);r=u.createResolver(l,this.getContext(e,n,t))}var f=new cf(i,r&&r.animations);return r&&r._cacheable&&(a[o]=Object.freeze(f)),f}},{key:"getSharedOptions",value:function(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}},{key:"includeOptions",value:function(e,t){return!t||_f(e)||this.chart._animationsDisabled}},{key:"_getSharedOptions",value:function(e,t){var n=this.resolveDataElementOptions(e,t),r=this._sharedOptions,i=this.getSharedOptions(n),a=this.includeOptions(t,i)||i!==r;return this.updateSharedOptions(i,t,n),{sharedOptions:i,includeOptions:a}}},{key:"updateElement",value:function(e,t,n,r){_f(r)?Object.assign(e,n):this._resolveAnimations(t,r).update(e,n)}},{key:"updateSharedOptions",value:function(e,t,n){e&&!_f(t)&&this._resolveAnimations(void 0,t).update(e,n)}},{key:"_setStyle",value:function(e,t,n,r){e.active=r;var i=this.getStyle(t,r);this._resolveAnimations(t,n,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}},{key:"removeHoverStyle",value:function(e,t,n){this._setStyle(e,n,"active",!1)}},{key:"setHoverStyle",value:function(e,t,n){this._setStyle(e,n,"active",!0)}},{key:"_removeDatasetHoverStyle",value:function(){var e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}},{key:"_setDatasetHoverStyle",value:function(){var e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}},{key:"_resyncElements",value:function(e){var t,n=this._data,r=this._cachedMeta.data,i=Is(this._syncList);try{for(i.s();!(t=i.n()).done;){var a=c(t.value,3),o=a[0],s=a[1],u=a[2];this[o](s,u)}}catch(d){i.e(d)}finally{i.f()}this._syncList=[];var l=r.length,f=n.length,h=Math.min(f,l);h&&this.parse(0,h),f>l?this._insertElements(l,f-l,e):f<l&&this._removeElements(f,l-f)}},{key:"_insertElements",value:function(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this._cachedMeta,a=i.data,o=e+t,s=function(e){for(e.length+=t,n=e.length-1;n>=o;n--)e[n]=e[n-t]};for(s(a),n=e;n<o;++n)a[n]=new this.dataElementType;this._parsing&&s(i._parsed),this.parse(e,t),r&&this.updateElements(a,e,t,"reset")}},{key:"updateElements",value:function(e,t,n,r){}},{key:"_removeElements",value:function(e,t){var n=this._cachedMeta;if(this._parsing){var r=n._parsed.splice(e,t);n._stacked&&yf(n,r)}n.data.splice(e,t)}},{key:"_sync",value:function(e){if(this._parsing)this._syncList.push(e);else{var t=c(e,3),n=t[0],r=t[1],i=t[2];this[n](r,i)}this.chart._dataChanges.push([this.index].concat(As(e)))}},{key:"_onDataPush",value:function(){var e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}},{key:"_onDataPop",value:function(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}},{key:"_onDataShift",value:function(){this._sync(["_removeElements",0,1])}},{key:"_onDataSplice",value:function(e,t){t&&this._sync(["_removeElements",e,t]);var n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}},{key:"_onDataUnshift",value:function(){this._sync(["_insertElements",0,arguments.length])}}]),e}();function Cf(e){var t,n,r,i,a=e.iScale,o=function(e,t){if(!e._cache.$bar){for(var n=e.getMatchingVisibleMetas(t),r=[],i=0,a=n.length;i<a;i++)r=r.concat(n[i].controller.getAllParsedValues(e));e._cache.$bar=Ru(r.sort((function(e,t){return e-t})))}return e._cache.$bar}(a,e.type),s=a._length,u=function(){32767!==r&&-32768!==r&&(nu(i)&&(s=Math.min(s,Math.abs(r-i)||s)),i=r)};for(t=0,n=o.length;t<n;++t)r=a.getPixelForValue(o[t]),u();for(i=void 0,t=0,n=a.ticks.length;t<n;++t)r=a.getPixelForTick(t),u();return s}function wf(e,t,n,r){return Fs(e)?function(e,t,n,r){var i=n.parse(e[0],r),a=n.parse(e[1],r),o=Math.min(i,a),s=Math.max(i,a),u=o,c=s;Math.abs(o)>Math.abs(s)&&(u=s,c=o),t[n.axis]=c,t._custom={barStart:u,barEnd:c,start:i,end:a,min:o,max:s}}(e,t,n,r):t[n.axis]=n.parse(e,r),t}function xf(e,t,n,r){var i,a,o,s,u=e.iScale,c=e.vScale,l=u.getLabels(),f=u===c,h=[];for(i=n,a=n+r;i<a;++i)s=t[i],(o={})[u.axis]=f||u.parse(l[i],i),h.push(wf(s,o,c,i));return h}function Sf(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function Ef(e,t,n,r){var i=t.borderSkipped,a={};if(i)if(!0!==i){var o=function(e){var t,n,r,i,a;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(i="end",a="start"):(i="start",a="end"),{start:n,end:r,reverse:t,top:i,bottom:a}}(e),s=o.start,u=o.end,c=o.reverse,l=o.top,f=o.bottom;"middle"===i&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?i=l:(n._bottom||0)===r?i=f:(a[Tf(f,s,u,c)]=!0,i=l)),a[Tf(i,s,u,c)]=!0,e.borderSkipped=a}else e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};else e.borderSkipped=a}function Tf(e,t,n,r){var i,a,o;return r?(o=n,e=Pf(e=(i=e)===(a=t)?o:i===o?a:i,n,t)):e=Pf(e,t,n),e}function Pf(e,t,n){return"start"===e?t:"end"===e?n:e}function If(e,t,n){var r=t.inflateAmount;e.inflateAmount="auto"===r?1===n?.33:0:r}kf.defaults={},kf.prototype.datasetElementType=null,kf.prototype.dataElementType=null;var Lf=function(e){Ss(n,e);var t=Ps(n);function n(){return Ns(this,n),t.apply(this,arguments)}return Rs(n,[{key:"parsePrimitiveData",value:function(e,t,n,r){return xf(e,t,n,r)}},{key:"parseArrayData",value:function(e,t,n,r){return xf(e,t,n,r)}},{key:"parseObjectData",value:function(e,t,n,r){var i,a,o,s,u=e.iScale,c=e.vScale,l=this._parsing,f=l.xAxisKey,h=void 0===f?"x":f,d=l.yAxisKey,m=void 0===d?"y":d,p="x"===u.axis?h:m,v="x"===c.axis?h:m,g=[];for(i=n,a=n+r;i<a;++i)s=t[i],(o={})[u.axis]=u.parse(eu(s,p),i),g.push(wf(eu(s,v),o,c,i));return g}},{key:"updateRangeFromParsed",value:function(e,t,r,i){xs(Cs(n.prototype),"updateRangeFromParsed",this).call(this,e,t,r,i);var a=r._custom;a&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}},{key:"getMaxOverflow",value:function(){return 0}},{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=t.iScale,r=t.vScale,i=this.getParsed(e),a=i._custom,o=Sf(a)?"["+a.start+", "+a.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:o}}},{key:"initialize",value:function(){this.enableOptionSharing=!0,xs(Cs(n.prototype),"initialize",this).call(this),this._cachedMeta.stack=this.getDataset().stack}},{key:"update",value:function(e){var t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}},{key:"updateElements",value:function(e,t,n,r){for(var i="reset"===r,a=this.index,o=this._cachedMeta.vScale,s=o.getBasePixel(),u=o.isHorizontal(),c=this._getRuler(),l=this._getSharedOptions(t,r),f=l.sharedOptions,h=l.includeOptions,d=t;d<t+n;d++){var m=this.getParsed(d),p=i||js(m[o.axis])?{base:s,head:s}:this._calculateBarValuePixels(d),v=this._calculateBarIndexPixels(d,c),g=(m._stacks||{})[o.axis],y={horizontal:u,base:p.base,enableBorderRadius:!g||Sf(m._custom)||a===g._top||a===g._bottom,x:u?p.head:v.center,y:u?v.center:p.head,height:u?v.size:Math.abs(p.size),width:u?Math.abs(p.size):v.size};h&&(y.options=f||this.resolveDataElementOptions(d,e[d].active?"active":r));var _=y.options||e[d].options;Ef(y,_,g,a),If(y,_,c.ratio),this.updateElement(e[d],d,y,r)}}},{key:"_getStacks",value:function(e,t){var n,r=this._cachedMeta.iScale,i=r.getMatchingVisibleMetas(this._type).filter((function(e){return e.controller.options.grouped})),a=r.options.stacked,o=[],s=function(e){var n=e.controller.getParsed(t),r=n&&n[e.vScale.axis];if(js(r)||isNaN(r))return!0},u=Is(i);try{for(u.s();!(n=u.n()).done;){var c=n.value;if((void 0===t||!s(c))&&((!1===a||-1===o.indexOf(c.stack)||void 0===a&&void 0===c.stack)&&o.push(c.stack),c.index===e))break}}catch(l){u.e(l)}finally{u.f()}return o.length||o.push(void 0),o}},{key:"_getStackCount",value:function(e){return this._getStacks(void 0,e).length}},{key:"_getStackIndex",value:function(e,t,n){var r=this._getStacks(e,n),i=void 0!==t?r.indexOf(t):-1;return-1===i?r.length-1:i}},{key:"_getRuler",value:function(){var e,t,n=this.options,r=this._cachedMeta,i=r.iScale,a=[];for(e=0,t=r.data.length;e<t;++e)a.push(i.getPixelForValue(this.getParsed(e)[i.axis],e));var o=n.barThickness;return{min:o||Cf(r),pixels:a,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:n.grouped,ratio:o?1:n.categoryPercentage*n.barPercentage}}},{key:"_calculateBarValuePixels",value:function(e){var t,n,r=this._cachedMeta,i=r.vScale,a=r._stacked,o=this.options,s=o.base,u=o.minBarLength,c=s||0,l=this.getParsed(e),f=l._custom,h=Sf(f),d=l[i.axis],m=0,p=a?this.applyStack(i,l,a):d;p!==d&&(m=p-d,p=d),h&&(d=f.barStart,p=f.barEnd-f.barStart,0!==d&&mu(d)!==mu(f.barEnd)&&(m=0),m+=d);var v=js(s)||h?m:s,g=i.getPixelForValue(v);if(n=(t=this.chart.getDataVisibility(e)?i.getPixelForValue(m+p):g)-g,Math.abs(n)<u){n=function(e,t,n){return 0!==e?mu(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(n,i,c)*u,d===c&&(g-=n/2);var y=i.getPixelForDecimal(0),_=i.getPixelForDecimal(1),b=Math.min(y,_),k=Math.max(y,_);t=(g=Math.max(Math.min(g,k),b))+n}if(g===i.getPixelForValue(c)){var C=mu(n)*i.getLineWidthForValue(c)/2;g+=C,n-=C}return{size:n,base:g,head:t,center:t+n/2}}},{key:"_calculateBarIndexPixels",value:function(e,t){var n,r,i=t.scale,a=this.options,o=a.skipNull,s=Bs(a.maxBarThickness,1/0);if(t.grouped){var u=o?this._getStackCount(e):t.stackCount,c="flex"===a.barThickness?function(e,t,n,r){var i=t.pixels,a=i[e],o=e>0?i[e-1]:null,s=e<i.length-1?i[e+1]:null,u=n.categoryPercentage;null===o&&(o=a-(null===s?t.end-t.start:s-a)),null===s&&(s=a+a-o);var c=a-(a-Math.min(o,s))/2*u;return{chunk:Math.abs(s-o)/2*u/r,ratio:n.barPercentage,start:c}}(e,t,a,u):function(e,t,n,r){var i,a,o=n.barThickness;return js(o)?(i=t.min*n.categoryPercentage,a=n.barPercentage):(i=o*r,a=1),{chunk:i/r,ratio:a,start:t.pixels[e]-i/2}}(e,t,a,u),l=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0);n=c.start+c.chunk*l+c.chunk/2,r=Math.min(s,c.chunk*c.ratio)}else n=i.getPixelForValue(this.getParsed(e)[i.axis],e),r=Math.min(s,t.min*t.ratio);return{base:n-r/2,head:n+r/2,center:n,size:r}}},{key:"draw",value:function(){for(var e=this._cachedMeta,t=e.vScale,n=e.data,r=n.length,i=0;i<r;++i)null!==this.getParsed(i)[t.axis]&&n[i].draw(this._ctx)}}]),n}(kf);Lf.id="bar",Lf.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},Lf.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};var Af=function(e){Ss(n,e);var t=Ps(n);function n(){return Ns(this,n),t.apply(this,arguments)}return Rs(n,[{key:"initialize",value:function(){this.enableOptionSharing=!0,xs(Cs(n.prototype),"initialize",this).call(this)}},{key:"parsePrimitiveData",value:function(e,t,r,i){for(var a=xs(Cs(n.prototype),"parsePrimitiveData",this).call(this,e,t,r,i),o=0;o<a.length;o++)a[o]._custom=this.resolveDataElementOptions(o+r).radius;return a}},{key:"parseArrayData",value:function(e,t,r,i){for(var a=xs(Cs(n.prototype),"parseArrayData",this).call(this,e,t,r,i),o=0;o<a.length;o++){var s=t[r+o];a[o]._custom=Bs(s[2],this.resolveDataElementOptions(o+r).radius)}return a}},{key:"parseObjectData",value:function(e,t,r,i){for(var a=xs(Cs(n.prototype),"parseObjectData",this).call(this,e,t,r,i),o=0;o<a.length;o++){var s=t[r+o];a[o]._custom=Bs(s&&s.r&&+s.r,this.resolveDataElementOptions(o+r).radius)}return a}},{key:"getMaxOverflow",value:function(){for(var e=this._cachedMeta.data,t=0,n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}},{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=t.xScale,r=t.yScale,i=this.getParsed(e),a=n.getLabelForValue(i.x),o=r.getLabelForValue(i.y),s=i._custom;return{label:t.label,value:"("+a+", "+o+(s?", "+s:"")+")"}}},{key:"update",value:function(e){var t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}},{key:"updateElements",value:function(e,t,n,r){for(var i="reset"===r,a=this._cachedMeta,o=a.iScale,s=a.vScale,u=this._getSharedOptions(t,r),c=u.sharedOptions,l=u.includeOptions,f=o.axis,h=s.axis,d=t;d<t+n;d++){var m=e[d],p=!i&&this.getParsed(d),v={},g=v[f]=i?o.getPixelForDecimal(.5):o.getPixelForValue(p[f]),y=v[h]=i?s.getBasePixel():s.getPixelForValue(p[h]);v.skip=isNaN(g)||isNaN(y),l&&(v.options=c||this.resolveDataElementOptions(d,m.active?"active":r),i&&(v.options.radius=0)),this.updateElement(m,d,v,r)}}},{key:"resolveDataElementOptions",value:function(e,t){var r=this.getParsed(e),i=xs(Cs(n.prototype),"resolveDataElementOptions",this).call(this,e,t);i.$shared&&(i=Object.assign({},i,{$shared:!1}));var a=i.radius;return"active"!==t&&(i.radius=0),i.radius+=Bs(r&&r._custom,a),i}}]),n}(kf);Af.id="bubble",Af.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},Af.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:function(){return""}}}}};var Nf=function(e){Ss(n,e);var t=Ps(n);function n(e,r){var i;return Ns(this,n),(i=t.call(this,e,r)).enableOptionSharing=!0,i.innerRadius=void 0,i.outerRadius=void 0,i.offsetX=void 0,i.offsetY=void 0,i}return Rs(n,[{key:"linkScales",value:function(){}},{key:"parse",value:function(e,t){var n=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=n;else{var i,a,o=function(e){return+n[e]};if(Vs(n[e])){var s=this._parsing.key,u=void 0===s?"value":s;o=function(e){return+eu(n[e],u)}}for(i=e,a=e+t;i<a;++i)r._parsed[i]=o(i)}}},{key:"_getRotation",value:function(){return _u(this.options.rotation-90)}},{key:"_getCircumference",value:function(){return _u(this.options.circumference)}},{key:"_getRotationExtents",value:function(){for(var e=ou,t=-ou,n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)){var r=this.chart.getDatasetMeta(n).controller,i=r._getRotation(),a=r._getCircumference();e=Math.min(e,i),t=Math.max(t,i+a)}return{rotation:e,circumference:t-e}}},{key:"update",value:function(e){var t,n,r=this.chart.chartArea,i=this._cachedMeta,a=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,s=Math.max((Math.min(r.width,r.height)-o)/2,0),u=Math.min((t=this.options.cutout,n=s,"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100:t/n),1),c=this._getRingWeight(this.index),l=this._getRotationExtents(),f=l.circumference,h=function(e,t,n){var r=1,i=1,a=0,o=0;if(t<ou){var s=e,u=s+t,c=Math.cos(s),l=Math.sin(s),f=Math.cos(u),h=Math.sin(u),d=function(e,t,r){return Eu(e,s,u,!0)?1:Math.max(t,t*n,r,r*n)},m=function(e,t,r){return Eu(e,s,u,!0)?-1:Math.min(t,t*n,r,r*n)},p=d(0,c,f),v=d(lu,l,h),g=m(au,c,f),y=m(au+lu,l,h);r=(p-g)/2,i=(v-y)/2,a=-(p+g)/2,o=-(v+y)/2}return{ratioX:r,ratioY:i,offsetX:a,offsetY:o}}(l.rotation,f,u),d=h.ratioX,m=h.ratioY,p=h.offsetX,v=h.offsetY,g=(r.width-o)/d,y=(r.height-o)/m,_=Math.max(Math.min(g,y)/2,0),b=Ws(this.options.radius,_),k=(b-Math.max(b*u,0))/this._getVisibleDatasetWeightTotal();this.offsetX=p*b,this.offsetY=v*b,i.total=this.calculateTotal(),this.outerRadius=b-k*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-k*c,0),this.updateElements(a,0,a.length,e)}},{key:"_circumference",value:function(e,t){var n=this.options,r=this._cachedMeta,i=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===r._parsed[e]||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*i/ou)}},{key:"updateElements",value:function(e,t,n,r){var i,a="reset"===r,o=this.chart,s=o.chartArea,u=o.options.animation,c=(s.left+s.right)/2,l=(s.top+s.bottom)/2,f=a&&u.animateScale,h=f?0:this.innerRadius,d=f?0:this.outerRadius,m=this._getSharedOptions(t,r),p=m.sharedOptions,v=m.includeOptions,g=this._getRotation();for(i=0;i<t;++i)g+=this._circumference(i,a);for(i=t;i<t+n;++i){var y=this._circumference(i,a),_=e[i],b={x:c+this.offsetX,y:l+this.offsetY,startAngle:g,endAngle:g+y,circumference:y,outerRadius:d,innerRadius:h};v&&(b.options=p||this.resolveDataElementOptions(i,_.active?"active":r)),g+=y,this.updateElement(_,i,b,r)}}},{key:"calculateTotal",value:function(){var e,t=this._cachedMeta,n=t.data,r=0;for(e=0;e<n.length;e++){var i=t._parsed[e];null===i||isNaN(i)||!this.chart.getDataVisibility(e)||n[e].hidden||(r+=Math.abs(i))}return r}},{key:"calculateCircumference",value:function(e){var t=this._cachedMeta.total;return t>0&&!isNaN(e)?ou*(Math.abs(e)/t):0}},{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=ql(t._parsed[e],n.options.locale);return{label:r[e]||"",value:i}}},{key:"getMaxBorderWidth",value:function(e){var t,n,r,i,a,o=0,s=this.chart;if(!e)for(t=0,n=s.data.datasets.length;t<n;++t)if(s.isDatasetVisible(t)){e=(r=s.getDatasetMeta(t)).data,i=r.controller;break}if(!e)return 0;for(t=0,n=e.length;t<n;++t)"inner"!==(a=i.resolveDataElementOptions(t)).borderAlign&&(o=Math.max(o,a.borderWidth||0,a.hoverBorderWidth||0));return o}},{key:"getMaxOffset",value:function(e){for(var t=0,n=0,r=e.length;n<r;++n){var i=this.resolveDataElementOptions(n);t=Math.max(t,i.offset||0,i.hoverOffset||0)}return t}},{key:"_getRingWeightOffset",value:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}},{key:"_getRingWeight",value:function(e){return Math.max(Bs(this.chart.data.datasets[e].weight,1),0)}},{key:"_getVisibleDatasetWeightTotal",value:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}]),n}(kf);Nf.id="doughnut",Nf.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},Nf.descriptors={_scriptable:function(e){return"spacing"!==e},_indexable:function(e){return"spacing"!==e}},Nf.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels:function(e){var t=e.data;if(t.labels.length&&t.datasets.length){var n=e.legend.options.labels.pointStyle;return t.labels.map((function(t,r){var i=e.getDatasetMeta(0).controller.getStyle(r);return{text:t,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,lineWidth:i.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(r),index:r}}))}return[]}},onClick:function(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}},tooltip:{callbacks:{title:function(){return""},label:function(e){var t=e.label,n=": "+e.formattedValue;return Fs(t)?(t=t.slice())[0]+=n:t+=n,t}}}}};var Df=function(e){Ss(n,e);var t=Ps(n);function n(){return Ns(this,n),t.apply(this,arguments)}return Rs(n,[{key:"initialize",value:function(){this.enableOptionSharing=!0,this.supportsDecimation=!0,xs(Cs(n.prototype),"initialize",this).call(this)}},{key:"update",value:function(e){var t=this._cachedMeta,n=t.dataset,r=t.data,i=void 0===r?[]:r,a=t._dataset,o=this.chart._animationsDisabled,s=Vu(t,i,o),u=s.start,c=s.count;this._drawStart=u,this._drawCount=c,Uu(t)&&(u=0,c=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!a._decimated,n.points=i;var l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:l},e),this.updateElements(i,u,c,e)}},{key:"updateElements",value:function(e,t,n,r){for(var i="reset"===r,a=this._cachedMeta,o=a.iScale,s=a.vScale,u=a._stacked,c=a._dataset,l=this._getSharedOptions(t,r),f=l.sharedOptions,h=l.includeOptions,d=o.axis,m=s.axis,p=this.options,v=p.spanGaps,g=p.segment,y=vu(v)?v:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||i||"none"===r,b=t>0&&this.getParsed(t-1),k=t;k<t+n;++k){var C=e[k],w=this.getParsed(k),x=_?C:{},S=js(w[m]),E=x[d]=o.getPixelForValue(w[d],k),T=x[m]=i||S?s.getBasePixel():s.getPixelForValue(u?this.applyStack(s,w,u):w[m],k);x.skip=isNaN(E)||isNaN(T)||S,x.stop=k>0&&Math.abs(w[d]-b[d])>y,g&&(x.parsed=w,x.raw=c.data[k]),h&&(x.options=f||this.resolveDataElementOptions(k,C.active?"active":r)),_||this.updateElement(C,k,x,r),b=w}}},{key:"getMaxOverflow",value:function(){var e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return n;var i=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,i,a)/2}},{key:"draw",value:function(){var e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),xs(Cs(n.prototype),"draw",this).call(this)}}]),n}(kf);Df.id="line",Df.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},Df.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};var Rf=function(e){Ss(n,e);var t=Ps(n);function n(e,r){var i;return Ns(this,n),(i=t.call(this,e,r)).innerRadius=void 0,i.outerRadius=void 0,i}return Rs(n,[{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=ql(t._parsed[e].r,n.options.locale);return{label:r[e]||"",value:i}}},{key:"parseObjectData",value:function(e,t,n,r){return bl.bind(this)(e,t,n,r)}},{key:"update",value:function(e){var t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}},{key:"getMinMax",value:function(){var e=this,t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((function(t,r){var i=e.getParsed(r).r;!isNaN(i)&&e.chart.getDataVisibility(r)&&(i<n.min&&(n.min=i),i>n.max&&(n.max=i))})),n}},{key:"_updateRadius",value:function(){var e=this.chart,t=e.chartArea,n=e.options,r=Math.min(t.right-t.left,t.bottom-t.top),i=Math.max(r/2,0),a=(i-Math.max(n.cutoutPercentage?i/100*n.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=i-a*this.index,this.innerRadius=this.outerRadius-a}},{key:"updateElements",value:function(e,t,n,r){var i,a="reset"===r,o=this.chart,s=o.options.animation,u=this._cachedMeta.rScale,c=u.xCenter,l=u.yCenter,f=u.getIndexAngle(0)-.5*au,h=f,d=360/this.countVisibleElements();for(i=0;i<t;++i)h+=this._computeAngle(i,r,d);for(i=t;i<t+n;i++){var m=e[i],p=h,v=h+this._computeAngle(i,r,d),g=o.getDataVisibility(i)?u.getDistanceFromCenterForValue(this.getParsed(i).r):0;h=v,a&&(s.animateScale&&(g=0),s.animateRotate&&(p=v=f));var y={x:c,y:l,innerRadius:0,outerRadius:g,startAngle:p,endAngle:v,options:this.resolveDataElementOptions(i,m.active?"active":r)};this.updateElement(m,i,y,r)}}},{key:"countVisibleElements",value:function(){var e=this,t=this._cachedMeta,n=0;return t.data.forEach((function(t,r){!isNaN(e.getParsed(r).r)&&e.chart.getDataVisibility(r)&&n++})),n}},{key:"_computeAngle",value:function(e,t,n){return this.chart.getDataVisibility(e)?_u(this.resolveDataElementOptions(e,t).angle||n):0}}]),n}(kf);Rf.id="polarArea",Rf.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},Rf.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels:function(e){var t=e.data;if(t.labels.length&&t.datasets.length){var n=e.legend.options.labels.pointStyle;return t.labels.map((function(t,r){var i=e.getDatasetMeta(0).controller.getStyle(r);return{text:t,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,lineWidth:i.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(r),index:r}}))}return[]}},onClick:function(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}},tooltip:{callbacks:{title:function(){return""},label:function(e){return e.chart.data.labels[e.dataIndex]+": "+e.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};var Of=function(e){Ss(n,e);var t=Ps(n);function n(){return Ns(this,n),t.apply(this,arguments)}return Rs(n)}(Nf);Of.id="pie",Of.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};var Mf=function(e){Ss(n,e);var t=Ps(n);function n(){return Ns(this,n),t.apply(this,arguments)}return Rs(n,[{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}},{key:"parseObjectData",value:function(e,t,n,r){return bl.bind(this)(e,t,n,r)}},{key:"update",value:function(e){var t=this._cachedMeta,n=t.dataset,r=t.data||[],i=t.iScale.getLabels();if(n.points=r,"resize"!==e){var a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);var o={_loop:!0,_fullLoop:i.length===r.length,options:a};this.updateElement(n,void 0,o,e)}this.updateElements(r,0,r.length,e)}},{key:"updateElements",value:function(e,t,n,r){for(var i=this._cachedMeta.rScale,a="reset"===r,o=t;o<t+n;o++){var s=e[o],u=this.resolveDataElementOptions(o,s.active?"active":r),c=i.getPointPositionForValue(o,this.getParsed(o).r),l=a?i.xCenter:c.x,f=a?i.yCenter:c.y,h={x:l,y:f,angle:c.angle,skip:isNaN(l)||isNaN(f),options:u};this.updateElement(s,o,h,r)}}}]),n}(kf);Mf.id="radar",Mf.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},Mf.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};var jf=function(){function e(){Ns(this,e),this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}return Rs(e,[{key:"tooltipPosition",value:function(e){var t=this.getProps(["x","y"],e);return{x:t.x,y:t.y}}},{key:"hasValue",value:function(){return vu(this.x)&&vu(this.y)}},{key:"getProps",value:function(e,t){var n=this,r=this.$animations;if(!t||!r)return this;var i={};return e.forEach((function(e){i[e]=r[e]&&r[e].active()?r[e]._to:n[e]})),i}}]),e}();jf.defaults={},jf.defaultRoutes=void 0;var Ff={values:function(e){return Fs(e)?e:""+e},numeric:function(e,t,n){if(0===e)return"0";var r,i=this.chart.options.locale,a=e;if(n.length>1){var o=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(o<1e-4||o>1e15)&&(r="scientific"),a=function(e,t){var n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}var s=du(Math.abs(a)),u=Math.max(Math.min(-1*Math.floor(s),20),0),c={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(c,this.options.ticks.format),ql(e,i,c)},logarithmic:function(e,t,n){if(0===e)return"0";var r=e/Math.pow(10,Math.floor(du(e)));return 1===r||2===r||5===r?Ff.numeric.call(this,e,t,n):""}};var Vf={formatters:Ff};function Uf(e,t){var n=e.options.ticks,r=n.maxTicksLimit||function(e){var t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}(e),i=n.major.enabled?function(e){var t,n,r=[];for(t=0,n=e.length;t<n;t++)e[t].major&&r.push(t);return r}(t):[],a=i.length,o=i[0],s=i[a-1],u=[];if(a>r)return function(e,t,n,r){var i,a=0,o=n[0];for(r=Math.ceil(r),i=0;i<e.length;i++)i===o&&(t.push(e[i]),o=n[++a*r])}(t,u,i,a/r),u;var c=function(e,t,n){var r=function(e){var t,n,r=e.length;if(r<2)return!1;for(n=e[0],t=1;t<r;++t)if(e[t]-e[t-1]!==n)return!1;return n}(e),i=t.length/n;if(!r)return Math.max(i,1);for(var a=function(e){var t,n=[],r=Math.sqrt(e);for(t=1;t<r;t++)e%t===0&&(n.push(t),n.push(e/t));return r===(0|r)&&n.push(r),n.sort((function(e,t){return e-t})).pop(),n}(r),o=0,s=a.length-1;o<s;o++){var u=a[o];if(u>i)return u}return Math.max(i,1)}(i,t,r);if(a>0){var l,f,h=a>1?Math.round((s-o)/(a-1)):null;for(zf(t,u,c,js(h)?0:o-h,o),l=0,f=a-1;l<f;l++)zf(t,u,c,i[l],i[l+1]);return zf(t,u,c,s,js(h)?t.length:s+h),u}return zf(t,u,c),u}function zf(e,t,n,r,i){var a,o,s,u=Bs(r,0),c=Math.min(Bs(i,e.length),e.length),l=0;for(n=Math.ceil(n),i&&(n=(a=i-r)/Math.floor(a/n)),s=u;s<0;)l++,s=Math.round(u+l*n);for(o=Math.max(u,0);o<c;o++)o===s&&(t.push(e[o]),l++,s=Math.round(u+l*n))}Dc.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:function(e,t){return t.lineWidth},tickColor:function(e,t){return t.color},offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Vf.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),Dc.route("scale.ticks","color","","color"),Dc.route("scale.grid","color","","borderColor"),Dc.route("scale.grid","borderColor","","borderColor"),Dc.route("scale.title","color","","color"),Dc.describe("scale",{_fallback:!1,_scriptable:function(e){return!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e},_indexable:function(e){return"borderDash"!==e&&"tickBorderDash"!==e}}),Dc.describe("scales",{_fallback:"scale"}),Dc.describe("scale.ticks",{_scriptable:function(e){return"backdropPadding"!==e&&"callback"!==e},_indexable:function(e){return"backdropPadding"!==e}});var Bf=function(e,t,n){return"top"===t||"left"===t?e[t]+n:e[t]-n};function Wf(e,t){for(var n=[],r=e.length/t,i=e.length,a=0;a<i;a+=r)n.push(e[Math.floor(a)]);return n}function Hf(e,t,n){var r,i=e.ticks.length,a=Math.min(t,i-1),o=e._startPixel,s=e._endPixel,u=1e-6,c=e.getPixelForTick(a);if(!(n&&(r=1===i?Math.max(c-o,s-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(a-1))/2,(c+=a<t?r:-r)<o-u||c>s+u)))return c}function qf(e){return e.drawTicks?e.tickLength:0}function Gf(e,t){if(!e.display)return 0;var n=rl(e.font,t),r=nl(e.padding);return(Fs(e.text)?e.text.length:1)*n.lineHeight+r.height}function Yf(e,t,n){var r=ju(e);return(n&&"right"!==t||!n&&"right"===t)&&(r=function(e){return"left"===e?"right":"right"===e?"left":e}(r)),r}var Kf=function(e){Ss(n,e);var t=Ps(n);function n(e){var r;return Ns(this,n),(r=t.call(this)).id=e.id,r.type=e.type,r.options=void 0,r.ctx=e.ctx,r.chart=e.chart,r.top=void 0,r.bottom=void 0,r.left=void 0,r.right=void 0,r.width=void 0,r.height=void 0,r._margins={left:0,right:0,top:0,bottom:0},r.maxWidth=void 0,r.maxHeight=void 0,r.paddingTop=void 0,r.paddingBottom=void 0,r.paddingLeft=void 0,r.paddingRight=void 0,r.axis=void 0,r.labelRotation=void 0,r.min=void 0,r.max=void 0,r._range=void 0,r.ticks=[],r._gridLineItems=null,r._labelItems=null,r._labelSizes=null,r._length=0,r._maxLength=0,r._longestTextCache={},r._startPixel=void 0,r._endPixel=void 0,r._reversePixels=!1,r._userMax=void 0,r._userMin=void 0,r._suggestedMax=void 0,r._suggestedMin=void 0,r._ticksLength=0,r._borderValue=0,r._cache={},r._dataLimitsCached=!1,r.$context=void 0,r}return Rs(n,[{key:"init",value:function(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}},{key:"parse",value:function(e,t){return e}},{key:"getUserBounds",value:function(){var e=this._userMin,t=this._userMax,n=this._suggestedMin,r=this._suggestedMax;return e=zs(e,Number.POSITIVE_INFINITY),t=zs(t,Number.NEGATIVE_INFINITY),n=zs(n,Number.POSITIVE_INFINITY),r=zs(r,Number.NEGATIVE_INFINITY),{min:zs(e,n),max:zs(t,r),minDefined:Us(e),maxDefined:Us(t)}}},{key:"getMinMax",value:function(e){var t,n=this.getUserBounds(),r=n.min,i=n.max,a=n.minDefined,o=n.maxDefined;if(a&&o)return{min:r,max:i};for(var s=this.getMatchingVisibleMetas(),u=0,c=s.length;u<c;++u)t=s[u].controller.getMinMax(this,e),a||(r=Math.min(r,t.min)),o||(i=Math.max(i,t.max));return{min:zs(r=o&&r>i?i:r,zs(i=a&&r>i?r:i,r)),max:zs(i,zs(r,i))}}},{key:"getPadding",value:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}},{key:"getTicks",value:function(){return this.ticks}},{key:"getLabels",value:function(){var e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}},{key:"beforeLayout",value:function(){this._cache={},this._dataLimitsCached=!1}},{key:"beforeUpdate",value:function(){Hs(this.options.beforeUpdate,[this])}},{key:"update",value:function(e,t,n){var r=this.options,i=r.beginAtZero,a=r.grace,o=r.ticks,s=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){var r=e.min,i=e.max,a=Ws(t,(i-r)/2),o=function(e,t){return n&&0===e?0:e+t};return{min:o(r,-Math.abs(a)),max:o(i,a)}}(this,a,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();var u=s<this.ticks.length;this._convertTicksToLabels(u?Wf(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=Uf(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}},{key:"configure",value:function(){var e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}},{key:"afterUpdate",value:function(){Hs(this.options.afterUpdate,[this])}},{key:"beforeSetDimensions",value:function(){Hs(this.options.beforeSetDimensions,[this])}},{key:"setDimensions",value:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}},{key:"afterSetDimensions",value:function(){Hs(this.options.afterSetDimensions,[this])}},{key:"_callHooks",value:function(e){this.chart.notifyPlugins(e,this.getContext()),Hs(this.options[e],[this])}},{key:"beforeDataLimits",value:function(){this._callHooks("beforeDataLimits")}},{key:"determineDataLimits",value:function(){}},{key:"afterDataLimits",value:function(){this._callHooks("afterDataLimits")}},{key:"beforeBuildTicks",value:function(){this._callHooks("beforeBuildTicks")}},{key:"buildTicks",value:function(){return[]}},{key:"afterBuildTicks",value:function(){this._callHooks("afterBuildTicks")}},{key:"beforeTickToLabelConversion",value:function(){Hs(this.options.beforeTickToLabelConversion,[this])}},{key:"generateTickLabels",value:function(e){var t,n,r,i=this.options.ticks;for(t=0,n=e.length;t<n;t++)(r=e[t]).label=Hs(i.callback,[r.value,t,e],this)}},{key:"afterTickToLabelConversion",value:function(){Hs(this.options.afterTickToLabelConversion,[this])}},{key:"beforeCalculateLabelRotation",value:function(){Hs(this.options.beforeCalculateLabelRotation,[this])}},{key:"calculateLabelRotation",value:function(){var e,t,n,r=this.options,i=r.ticks,a=this.ticks.length,o=i.minRotation||0,s=i.maxRotation,u=o;if(!this._isVisible()||!i.display||o>=s||a<=1||!this.isHorizontal())this.labelRotation=o;else{var c=this._getLabelSizes(),l=c.widest.width,f=c.highest.height,h=Tu(this.chart.width-l,0,this.maxWidth);l+6>(e=r.offset?this.maxWidth/a:h/(a-1))&&(e=h/(a-(r.offset?.5:1)),t=this.maxHeight-qf(r.grid)-i.padding-Gf(r.title,this.chart.options.font),n=Math.sqrt(l*l+f*f),u=bu(Math.min(Math.asin(Tu((c.highest.height+6)/e,-1,1)),Math.asin(Tu(t/n,-1,1))-Math.asin(Tu(f/n,-1,1)))),u=Math.max(o,Math.min(s,u))),this.labelRotation=u}}},{key:"afterCalculateLabelRotation",value:function(){Hs(this.options.afterCalculateLabelRotation,[this])}},{key:"afterAutoSkip",value:function(){}},{key:"beforeFit",value:function(){Hs(this.options.beforeFit,[this])}},{key:"fit",value:function(){var e={width:0,height:0},t=this.chart,n=this.options,r=n.ticks,i=n.title,a=n.grid,o=this._isVisible(),s=this.isHorizontal();if(o){var u=Gf(i,t.options.font);if(s?(e.width=this.maxWidth,e.height=qf(a)+u):(e.height=this.maxHeight,e.width=qf(a)+u),r.display&&this.ticks.length){var c=this._getLabelSizes(),l=c.first,f=c.last,h=c.widest,d=c.highest,m=2*r.padding,p=_u(this.labelRotation),v=Math.cos(p),g=Math.sin(p);if(s){var y=r.mirror?0:g*h.width+v*d.height;e.height=Math.min(this.maxHeight,e.height+y+m)}else{var _=r.mirror?0:v*h.width+g*d.height;e.width=Math.min(this.maxWidth,e.width+_+m)}this._calculatePadding(l,f,g,v)}}this._handleMargins(),s?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}},{key:"_calculatePadding",value:function(e,t,n,r){var i=this.options,a=i.ticks,o=a.align,s=a.padding,u=i.position,c=0!==this.labelRotation,l="top"!==u&&"x"===this.axis;if(this.isHorizontal()){var f=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1),d=0,m=0;c?l?(d=r*e.width,m=n*t.height):(d=n*e.height,m=r*t.width):"start"===o?m=t.width:"end"===o?d=e.width:"inner"!==o&&(d=e.width/2,m=t.width/2),this.paddingLeft=Math.max((d-f+s)*this.width/(this.width-f),0),this.paddingRight=Math.max((m-h+s)*this.width/(this.width-h),0)}else{var p=t.height/2,v=e.height/2;"start"===o?(p=0,v=e.height):"end"===o&&(p=t.height,v=0),this.paddingTop=p+s,this.paddingBottom=v+s}}},{key:"_handleMargins",value:function(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}},{key:"afterFit",value:function(){Hs(this.options.afterFit,[this])}},{key:"isHorizontal",value:function(){var e=this.options,t=e.axis,n=e.position;return"top"===n||"bottom"===n||"x"===t}},{key:"isFullSize",value:function(){return this.options.fullSize}},{key:"_convertTicksToLabels",value:function(e){var t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)js(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}},{key:"_getLabelSizes",value:function(){var e=this._labelSizes;if(!e){var t=this.options.ticks.sampleSize,n=this.ticks;t<n.length&&(n=Wf(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length)}return e}},{key:"_computeLabelSizes",value:function(e,t){var n,r,i,a,o,s,u,c,l,f,h,d=this.ctx,m=this._longestTextCache,p=[],v=[],g=0,y=0;for(n=0;n<t;++n){if(a=e[n].label,o=this._resolveTickFontOptions(n),d.font=s=o.string,u=m[s]=m[s]||{data:{},gc:[]},c=o.lineHeight,l=f=0,js(a)||Fs(a)){if(Fs(a))for(r=0,i=a.length;r<i;++r)js(h=a[r])||Fs(h)||(l=Rc(d,u.data,u.gc,l,h),f+=c)}else l=Rc(d,u.data,u.gc,l,a),f=c;p.push(l),v.push(f),g=Math.max(l,g),y=Math.max(f,y)}!function(e,t){qs(e,(function(e){var n,r=e.gc,i=r.length/2;if(i>t){for(n=0;n<i;++n)delete e.data[r[n]];r.splice(0,i)}}))}(m,t);var _=p.indexOf(g),b=v.indexOf(y),k=function(e){return{width:p[e]||0,height:v[e]||0}};return{first:k(0),last:k(t-1),widest:k(_),highest:k(b),widths:p,heights:v}}},{key:"getLabelForValue",value:function(e){return e}},{key:"getPixelForValue",value:function(e,t){return NaN}},{key:"getValueForPixel",value:function(e){}},{key:"getPixelForTick",value:function(e){var t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}},{key:"getPixelForDecimal",value:function(e){this._reversePixels&&(e=1-e);var t=this._startPixel+e*this._length;return Tu(this._alignToPixels?Mc(this.chart,t,0):t,-32768,32767)}},{key:"getDecimalForPixel",value:function(e){var t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}},{key:"getBasePixel",value:function(){return this.getPixelForValue(this.getBaseValue())}},{key:"getBaseValue",value:function(){var e=this.min,t=this.max;return e<0&&t<0?t:e>0&&t>0?e:0}},{key:"getContext",value:function(e){var t=this.ticks||[];if(e>=0&&e<t.length){var n=t[e];return n.$context||(n.$context=function(e,t,n){return al(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=al(this.chart.getContext(),{scale:this,type:"scale"}))}},{key:"_tickSize",value:function(){var e=this.options.ticks,t=_u(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,o=i?i.widest.width+a:0,s=i?i.highest.height+a:0;return this.isHorizontal()?s*n>o*r?o/n:s/r:s*r<o*n?s/n:o/r}},{key:"_isVisible",value:function(){var e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}},{key:"_computeGridLineItems",value:function(e){var t,n,r,i,a,o,s,u,c,l,f,h,d=this.axis,m=this.chart,p=this.options,v=p.grid,g=p.position,y=v.offset,_=this.isHorizontal(),b=this.ticks.length+(y?1:0),k=qf(v),C=[],w=v.setContext(this.getContext()),x=w.drawBorder?w.borderWidth:0,S=x/2,E=function(e){return Mc(m,e,x)};if("top"===g)t=E(this.bottom),o=this.bottom-k,u=t-S,l=E(e.top)+S,h=e.bottom;else if("bottom"===g)t=E(this.top),l=e.top,h=E(e.bottom)-S,o=t+S,u=this.top+k;else if("left"===g)t=E(this.right),a=this.right-k,s=t-S,c=E(e.left)+S,f=e.right;else if("right"===g)t=E(this.left),c=e.left,f=E(e.right)-S,a=t+S,s=this.left+k;else if("x"===d){if("center"===g)t=E((e.top+e.bottom)/2+.5);else if(Vs(g)){var T=Object.keys(g)[0],P=g[T];t=E(this.chart.scales[T].getPixelForValue(P))}l=e.top,h=e.bottom,u=(o=t+S)+k}else if("y"===d){if("center"===g)t=E((e.left+e.right)/2);else if(Vs(g)){var I=Object.keys(g)[0],L=g[I];t=E(this.chart.scales[I].getPixelForValue(L))}s=(a=t-S)-k,c=e.left,f=e.right}var A=Bs(p.ticks.maxTicksLimit,b),N=Math.max(1,Math.ceil(b/A));for(n=0;n<b;n+=N){var D=v.setContext(this.getContext(n)),R=D.lineWidth,O=D.color,M=D.borderDash||[],j=D.borderDashOffset,F=D.tickWidth,V=D.tickColor,U=D.tickBorderDash||[],z=D.tickBorderDashOffset;void 0!==(r=Hf(this,n,y))&&(i=Mc(m,r,R),_?a=s=c=f=i:o=u=l=h=i,C.push({tx1:a,ty1:o,tx2:s,ty2:u,x1:c,y1:l,x2:f,y2:h,width:R,color:O,borderDash:M,borderDashOffset:j,tickWidth:F,tickColor:V,tickBorderDash:U,tickBorderDashOffset:z}))}return this._ticksLength=b,this._borderValue=t,C}},{key:"_computeLabelItems",value:function(e){var t,n,r,i,a,o,s,u,c,l,f,h=this.axis,d=this.options,m=d.position,p=d.ticks,v=this.isHorizontal(),g=this.ticks,y=p.align,_=p.crossAlign,b=p.padding,k=p.mirror,C=qf(d.grid),w=C+b,x=k?-b:w,S=-_u(this.labelRotation),E=[],T="middle";if("top"===m)a=this.bottom-x,o=this._getXAxisLabelAlignment();else if("bottom"===m)a=this.top+x,o=this._getXAxisLabelAlignment();else if("left"===m){var P=this._getYAxisLabelAlignment(C);o=P.textAlign,i=P.x}else if("right"===m){var I=this._getYAxisLabelAlignment(C);o=I.textAlign,i=I.x}else if("x"===h){if("center"===m)a=(e.top+e.bottom)/2+w;else if(Vs(m)){var L=Object.keys(m)[0],A=m[L];a=this.chart.scales[L].getPixelForValue(A)+w}o=this._getXAxisLabelAlignment()}else if("y"===h){if("center"===m)i=(e.left+e.right)/2-w;else if(Vs(m)){var N=Object.keys(m)[0],D=m[N];i=this.chart.scales[N].getPixelForValue(D)}o=this._getYAxisLabelAlignment(C).textAlign}"y"===h&&("start"===y?T="top":"end"===y&&(T="bottom"));var R=this._getLabelSizes();for(t=0,n=g.length;t<n;++t){r=g[t].label;var O=p.setContext(this.getContext(t));s=this.getPixelForTick(t)+p.labelOffset,c=(u=this._resolveTickFontOptions(t)).lineHeight;var M=(l=Fs(r)?r.length:1)/2,j=O.color,F=O.textStrokeColor,V=O.textStrokeWidth,U=o;v?(i=s,"inner"===o&&(U=t===n-1?this.options.reverse?"left":"right":0===t?this.options.reverse?"right":"left":"center"),f="top"===m?"near"===_||0!==S?-l*c+c/2:"center"===_?-R.highest.height/2-M*c+c:-R.highest.height+c/2:"near"===_||0!==S?c/2:"center"===_?R.highest.height/2-M*c:R.highest.height-l*c,k&&(f*=-1)):(a=s,f=(1-l)*c/2);var z=void 0;if(O.showLabelBackdrop){var B=nl(O.backdropPadding),W=R.heights[t],H=R.widths[t],q=a+f-B.top,G=i-B.left;switch(T){case"middle":q-=W/2;break;case"bottom":q-=W}switch(o){case"center":G-=H/2;break;case"right":G-=H}z={left:G,top:q,width:H+B.width,height:W+B.height,color:O.backdropColor}}E.push({rotation:S,label:r,font:u,color:j,strokeColor:F,strokeWidth:V,textOffset:f,textAlign:U,textBaseline:T,translation:[i,a],backdrop:z})}return E}},{key:"_getXAxisLabelAlignment",value:function(){var e=this.options,t=e.position,n=e.ticks;if(-_u(this.labelRotation))return"top"===t?"left":"right";var r="center";return"start"===n.align?r="left":"end"===n.align?r="right":"inner"===n.align&&(r="inner"),r}},{key:"_getYAxisLabelAlignment",value:function(e){var t,n,r=this.options,i=r.position,a=r.ticks,o=a.crossAlign,s=a.mirror,u=a.padding,c=e+u,l=this._getLabelSizes().widest.width;return"left"===i?s?(n=this.right+u,"near"===o?t="left":"center"===o?(t="center",n+=l/2):(t="right",n+=l)):(n=this.right-c,"near"===o?t="right":"center"===o?(t="center",n-=l/2):(t="left",n=this.left)):"right"===i?s?(n=this.left+u,"near"===o?t="right":"center"===o?(t="center",n-=l/2):(t="left",n-=l)):(n=this.left+c,"near"===o?t="left":"center"===o?(t="center",n+=l/2):(t="right",n=this.right)):t="right",{textAlign:t,x:n}}},{key:"_computeLabelArea",value:function(){if(!this.options.ticks.mirror){var e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}}},{key:"drawBackground",value:function(){var e=this.ctx,t=this.options.backgroundColor,n=this.left,r=this.top,i=this.width,a=this.height;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,i,a),e.restore())}},{key:"getLineWidthForValue",value:function(e){var t=this.options.grid;if(!this._isVisible()||!t.display)return 0;var n=this.ticks.findIndex((function(t){return t.value===e}));return n>=0?t.setContext(this.getContext(n)).lineWidth:0}},{key:"drawGrid",value:function(e){var t,n,r=this.options.grid,i=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),o=function(e,t,n){n.width&&n.color&&(i.save(),i.lineWidth=n.width,i.strokeStyle=n.color,i.setLineDash(n.borderDash||[]),i.lineDashOffset=n.borderDashOffset,i.beginPath(),i.moveTo(e.x,e.y),i.lineTo(t.x,t.y),i.stroke(),i.restore())};if(r.display)for(t=0,n=a.length;t<n;++t){var s=a[t];r.drawOnChartArea&&o({x:s.x1,y:s.y1},{x:s.x2,y:s.y2},s),r.drawTicks&&o({x:s.tx1,y:s.ty1},{x:s.tx2,y:s.ty2},{color:s.tickColor,width:s.tickWidth,borderDash:s.tickBorderDash,borderDashOffset:s.tickBorderDashOffset})}}},{key:"drawBorder",value:function(){var e=this.chart,t=this.ctx,n=this.options.grid,r=n.setContext(this.getContext()),i=n.drawBorder?r.borderWidth:0;if(i){var a,o,s,u,c=n.setContext(this.getContext(0)).lineWidth,l=this._borderValue;this.isHorizontal()?(a=Mc(e,this.left,i)-i/2,o=Mc(e,this.right,c)+c/2,s=u=l):(s=Mc(e,this.top,i)-i/2,u=Mc(e,this.bottom,c)+c/2,a=o=l),t.save(),t.lineWidth=r.borderWidth,t.strokeStyle=r.borderColor,t.beginPath(),t.moveTo(a,s),t.lineTo(o,u),t.stroke(),t.restore()}}},{key:"drawLabels",value:function(e){if(this.options.ticks.display){var t=this.ctx,n=this._computeLabelArea();n&&zc(t,n);var r,i,a=this._labelItems||(this._labelItems=this._computeLabelItems(e));for(r=0,i=a.length;r<i;++r){var o=a[r],s=o.font,u=o.label;o.backdrop&&(t.fillStyle=o.backdrop.color,t.fillRect(o.backdrop.left,o.backdrop.top,o.backdrop.width,o.backdrop.height)),qc(t,u,0,o.textOffset,s,o)}n&&Bc(t)}}},{key:"drawTitle",value:function(){var e=this.ctx,t=this.options,n=t.position,r=t.title,i=t.reverse;if(r.display){var a=rl(r.font),o=nl(r.padding),s=r.align,u=a.lineHeight/2;"bottom"===n||"center"===n||Vs(n)?(u+=o.bottom,Fs(r.text)&&(u+=a.lineHeight*(r.text.length-1))):u+=o.top;var c=function(e,t,n,r){var i,a,o,s=e.top,u=e.left,c=e.bottom,l=e.right,f=e.chart,h=f.chartArea,d=f.scales,m=0,p=c-s,v=l-u;if(e.isHorizontal()){if(a=Fu(r,u,l),Vs(n)){var g=Object.keys(n)[0],y=n[g];o=d[g].getPixelForValue(y)+p-t}else o="center"===n?(h.bottom+h.top)/2+p-t:Bf(e,n,t);i=l-u}else{if(Vs(n)){var _=Object.keys(n)[0],b=n[_];a=d[_].getPixelForValue(b)-v+t}else a="center"===n?(h.left+h.right)/2-v+t:Bf(e,n,t);o=Fu(r,c,s),m="left"===n?-lu:lu}return{titleX:a,titleY:o,maxWidth:i,rotation:m}}(this,u,n,s),l=c.titleX,f=c.titleY,h=c.maxWidth,d=c.rotation;qc(e,r.text,0,0,a,{color:r.color,maxWidth:h,rotation:d,textAlign:Yf(s,n,i),textBaseline:"middle",translation:[l,f]})}}},{key:"draw",value:function(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}},{key:"_layers",value:function(){var e=this,t=this.options,r=t.ticks&&t.ticks.z||0,i=Bs(t.grid&&t.grid.z,-1);return this._isVisible()&&this.draw===n.prototype.draw?[{z:i,draw:function(t){e.drawBackground(),e.drawGrid(t),e.drawTitle()}},{z:i+1,draw:function(){e.drawBorder()}},{z:r,draw:function(t){e.drawLabels(t)}}]:[{z:r,draw:function(t){e.draw(t)}}]}},{key:"getMatchingVisibleMetas",value:function(e){var t,n,r=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",a=[];for(t=0,n=r.length;t<n;++t){var o=r[t];o[i]!==this.id||e&&o.type!==e||a.push(o)}return a}},{key:"_resolveTickFontOptions",value:function(e){return rl(this.options.ticks.setContext(this.getContext(e)).font)}},{key:"_maxDigits",value:function(){var e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}]),n}(jf),Qf=function(){function e(t,n,r){Ns(this,e),this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}return Rs(e,[{key:"isForType",value:function(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}},{key:"register",value:function(e){var t,n=Object.getPrototypeOf(e);(function(e){return"id"in e&&"defaults"in e})(n)&&(t=this.register(n));var r=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,function(e,t,n){var r=Xs(Object.create(null),[n?Dc.get(n):{},Dc.get(t),e.defaults]);Dc.set(t,r),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((function(n){var r=n.split("."),i=r.pop(),a=[e].concat(r).join("."),o=t[n].split("."),s=o.pop(),u=o.join(".");Dc.route(a,i,u,s)}))}(t,e.defaultRoutes);e.descriptors&&Dc.describe(t,e.descriptors)}(e,a,t),this.override&&Dc.override(e.id,e.overrides)),a}},{key:"get",value:function(e){return this.items[e]}},{key:"unregister",value:function(e){var t=this.items,n=e.id,r=this.scope;n in t&&delete t[n],r&&n in Dc[r]&&(delete Dc[r][n],this.override&&delete Pc[n])}}]),e}();var Xf=function(){function e(){Ns(this,e),this.controllers=new Qf(kf,"datasets",!0),this.elements=new Qf(jf,"elements"),this.plugins=new Qf(Object,"plugins"),this.scales=new Qf(Kf,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}return Rs(e,[{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}},{key:"remove",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}},{key:"addControllers",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}},{key:"addElements",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}},{key:"addPlugins",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}},{key:"addScales",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}},{key:"getController",value:function(e){return this._get(e,this.controllers,"controller")}},{key:"getElement",value:function(e){return this._get(e,this.elements,"element")}},{key:"getPlugin",value:function(e){return this._get(e,this.plugins,"plugin")}},{key:"getScale",value:function(e){return this._get(e,this.scales,"scale")}},{key:"removeControllers",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}},{key:"removeElements",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}},{key:"removePlugins",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}},{key:"removeScales",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}},{key:"_each",value:function(e,t,n){var r=this;As(t).forEach((function(t){var i=n||r._getRegistryForType(t);n||i.isForType(t)||i===r.plugins&&t.id?r._exec(e,i,t):qs(t,(function(t){var i=n||r._getRegistryForType(t);r._exec(e,i,t)}))}))}},{key:"_exec",value:function(e,t,n){var r=tu(e);Hs(n["before"+r],[],n),t[e](n),Hs(n["after"+r],[],n)}},{key:"_getRegistryForType",value:function(e){for(var t=0;t<this._typedRegistries.length;t++){var n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}},{key:"_get",value:function(e,t,n){var r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+n+".");return r}}]),e}(),Jf=new Xf,Zf=function(e){Ss(n,e);var t=Ps(n);function n(){return Ns(this,n),t.apply(this,arguments)}return Rs(n,[{key:"update",value:function(e){var t=this._cachedMeta,n=t.data,r=void 0===n?[]:n,i=this.chart._animationsDisabled,a=Vu(t,r,i),o=a.start,s=a.count;if(this._drawStart=o,this._drawCount=s,Uu(t)&&(o=0,s=r.length),this.options.showLine){var u=t.dataset,c=t._dataset;u._chart=this.chart,u._datasetIndex=this.index,u._decimated=!!c._decimated,u.points=r;var l=this.resolveDatasetElementOptions(e);l.segment=this.options.segment,this.updateElement(u,void 0,{animated:!i,options:l},e)}this.updateElements(r,o,s,e)}},{key:"addElements",value:function(){var e=this.options.showLine;!this.datasetElementType&&e&&(this.datasetElementType=Jf.getElement("line")),xs(Cs(n.prototype),"addElements",this).call(this)}},{key:"updateElements",value:function(e,t,n,r){for(var i="reset"===r,a=this._cachedMeta,o=a.iScale,s=a.vScale,u=a._stacked,c=a._dataset,l=this.resolveDataElementOptions(t,r),f=this.getSharedOptions(l),h=this.includeOptions(r,f),d=o.axis,m=s.axis,p=this.options,v=p.spanGaps,g=p.segment,y=vu(v)?v:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||i||"none"===r,b=t>0&&this.getParsed(t-1),k=t;k<t+n;++k){var C=e[k],w=this.getParsed(k),x=_?C:{},S=js(w[m]),E=x[d]=o.getPixelForValue(w[d],k),T=x[m]=i||S?s.getBasePixel():s.getPixelForValue(u?this.applyStack(s,w,u):w[m],k);x.skip=isNaN(E)||isNaN(T)||S,x.stop=k>0&&Math.abs(w[d]-b[d])>y,g&&(x.parsed=w,x.raw=c.data[k]),h&&(x.options=f||this.resolveDataElementOptions(k,C.active?"active":r)),_||this.updateElement(C,k,x,r),b=w}this.updateSharedOptions(f,r,l)}},{key:"getMaxOverflow",value:function(){var e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){for(var n=0,r=t.length-1;r>=0;--r)n=Math.max(n,t[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}var i=e.dataset,a=i.options&&i.options.borderWidth||0;if(!t.length)return a;var o=t[0].size(this.resolveDataElementOptions(0)),s=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(a,o,s)/2}}]),n}(kf);Zf.id="scatter",Zf.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1},Zf.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:function(){return""},label:function(e){return"("+e.label+", "+e.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var $f=Object.freeze({__proto__:null,BarController:Lf,BubbleController:Af,DoughnutController:Nf,LineController:Df,PolarAreaController:Rf,PieController:Of,RadarController:Mf,ScatterController:Zf});function eh(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var th=function(){function e(t){Ns(this,e),this.options=t||{}}return Rs(e,[{key:"init",value:function(e){}},{key:"formats",value:function(){return eh()}},{key:"parse",value:function(e,t){return eh()}},{key:"format",value:function(e,t){return eh()}},{key:"add",value:function(e,t,n){return eh()}},{key:"diff",value:function(e,t,n){return eh()}},{key:"startOf",value:function(e,t,n){return eh()}},{key:"endOf",value:function(e,t){return eh()}}]),e}();th.override=function(e){Object.assign(th.prototype,e)};var nh={_date:th};function rh(e,t,n,r){var i=e.controller,a=e.data,o=e._sorted,s=i._cachedMeta.iScale;if(s&&t===s.axis&&"r"!==t&&o&&a.length){var u=s._reversePixels?Au:Lu;if(!r)return u(a,t,n);if(i._sharedOptions){var c=a[0],l="function"===typeof c.getRange&&c.getRange(t);if(l){var f=u(a,t,n-l),h=u(a,t,n+l);return{lo:f.lo,hi:h.hi}}}}return{lo:0,hi:a.length-1}}function ih(e,t,n,r,i){for(var a=e.getSortedVisibleDatasetMetas(),o=n[t],s=0,u=a.length;s<u;++s)for(var c=a[s],l=c.index,f=c.data,h=rh(a[s],t,o,i),d=h.lo,m=h.hi,p=d;p<=m;++p){var v=f[p];v.skip||r(v,l,p)}}function ah(e,t,n,r,i){var a=[];if(!i&&!e.isPointInArea(t))return a;return ih(e,n,t,(function(n,o,s){(i||Uc(n,e.chartArea,0))&&n.inRange(t.x,t.y,r)&&a.push({element:n,datasetIndex:o,index:s})}),!0),a}function oh(e,t,n,r,i,a){var o=[],s=function(e){var t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){var i=t?Math.abs(e.x-r.x):0,a=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}(n),u=Number.POSITIVE_INFINITY;return ih(e,n,t,(function(n,c,l){var f=n.inRange(t.x,t.y,i);if(!r||f){var h=n.getCenterPoint(i);if(!!a||e.isPointInArea(h)||f){var d=s(t,h);d<u?(o=[{element:n,datasetIndex:c,index:l}],u=d):d===u&&o.push({element:n,datasetIndex:c,index:l})}}})),o}function sh(e,t,n,r,i,a){return a||e.isPointInArea(t)?"r"!==n||r?oh(e,t,n,r,i,a):function(e,t,n,r){var i=[];return ih(e,n,t,(function(e,n,a){var o=e.getProps(["startAngle","endAngle"],r),s=o.startAngle,u=o.endAngle;Eu(Cu(e,{x:t.x,y:t.y}).angle,s,u)&&i.push({element:e,datasetIndex:n,index:a})})),i}(e,t,n,i):[]}function uh(e,t,n,r,i){var a=[],o="x"===n?"inXRange":"inYRange",s=!1;return ih(e,n,t,(function(e,r,u){e[o](t[n],i)&&(a.push({element:e,datasetIndex:r,index:u}),s=s||e.inRange(t.x,t.y,i))})),r&&!s?[]:a}var ch={evaluateInteractionItems:ih,modes:{index:function(e,t,n,r){var i=Ol(t,e),a=n.axis||"x",o=n.includeInvisible||!1,s=n.intersect?ah(e,i,a,r,o):sh(e,i,a,!1,r,o),u=[];return s.length?(e.getSortedVisibleDatasetMetas().forEach((function(e){var t=s[0].index,n=e.data[t];n&&!n.skip&&u.push({element:n,datasetIndex:e.index,index:t})})),u):[]},dataset:function(e,t,n,r){var i=Ol(t,e),a=n.axis||"xy",o=n.includeInvisible||!1,s=n.intersect?ah(e,i,a,r,o):sh(e,i,a,!1,r,o);if(s.length>0){var u=s[0].datasetIndex,c=e.getDatasetMeta(u).data;s=[];for(var l=0;l<c.length;++l)s.push({element:c[l],datasetIndex:u,index:l})}return s},point:function(e,t,n,r){return ah(e,Ol(t,e),n.axis||"xy",r,n.includeInvisible||!1)},nearest:function(e,t,n,r){var i=Ol(t,e),a=n.axis||"xy",o=n.includeInvisible||!1;return sh(e,i,a,n.intersect,r,o)},x:function(e,t,n,r){return uh(e,Ol(t,e),"x",n.intersect,r)},y:function(e,t,n,r){return uh(e,Ol(t,e),"y",n.intersect,r)}}},lh=["left","top","right","bottom"];function fh(e,t){return e.filter((function(e){return e.pos===t}))}function hh(e,t){return e.filter((function(e){return-1===lh.indexOf(e.pos)&&e.box.axis===t}))}function dh(e,t){return e.sort((function(e,n){var r=t?n:e,i=t?e:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight}))}function mh(e,t){var n,r,i,a=function(e){var t,n={},r=Is(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=i.stack,o=i.pos,s=i.stackWeight;if(a&&lh.includes(o)){var u=n[a]||(n[a]={count:0,placed:0,weight:0,size:0});u.count++,u.weight+=s}}}catch(c){r.e(c)}finally{r.f()}return n}(e),o=t.vBoxMaxWidth,s=t.hBoxMaxHeight;for(n=0,r=e.length;n<r;++n){var u=(i=e[n]).box.fullSize,c=a[i.stack],l=c&&i.stackWeight/c.weight;i.horizontal?(i.width=l?l*o:u&&t.availableWidth,i.height=s):(i.width=o,i.height=l?l*s:u&&t.availableHeight)}return a}function ph(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function vh(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function gh(e,t,n,r){var i=n.pos,a=n.box,o=e.maxPadding;if(!Vs(i)){n.size&&(e[i]-=n.size);var s=r[n.stack]||{size:0,count:1};s.size=Math.max(s.size,n.horizontal?a.height:a.width),n.size=s.size/s.count,e[i]+=n.size}a.getPadding&&vh(o,a.getPadding());var u=Math.max(0,t.outerWidth-ph(o,e,"left","right")),c=Math.max(0,t.outerHeight-ph(o,e,"top","bottom")),l=u!==e.w,f=c!==e.h;return e.w=u,e.h=c,n.horizontal?{same:l,other:f}:{same:f,other:l}}function yh(e,t){var n=t.maxPadding;function r(e){var r={left:0,top:0,right:0,bottom:0};return e.forEach((function(e){r[e]=Math.max(t[e],n[e])})),r}return r(e?["left","right"]:["top","bottom"])}function _h(e,t,n,r){var i,a,o,s,u,c,l=[];for(i=0,a=e.length,u=0;i<a;++i){(s=(o=e[i]).box).update(o.width||t.w,o.height||t.h,yh(o.horizontal,t));var f=gh(t,n,o,r),h=f.same,d=f.other;u|=h&&l.length,c=c||d,s.fullSize||l.push(o)}return u&&_h(l,t,n,r)||c}function bh(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function kh(e,t,n,r){var i,a=n.padding,o=t.x,s=t.y,u=Is(e);try{for(u.s();!(i=u.n()).done;){var c=i.value,l=c.box,f=r[c.stack]||{count:1,placed:0,weight:1},h=c.stackWeight/f.weight||1;if(c.horizontal){var d=t.w*h,m=f.size||l.height;nu(f.start)&&(s=f.start),l.fullSize?bh(l,a.left,s,n.outerWidth-a.right-a.left,m):bh(l,t.left+f.placed,s,d,m),f.start=s,f.placed+=d,s=l.bottom}else{var p=t.h*h,v=f.size||l.width;nu(f.start)&&(o=f.start),l.fullSize?bh(l,o,a.top,v,n.outerHeight-a.bottom-a.top):bh(l,o,t.top+f.placed,v,p),f.start=o,f.placed+=p,o=l.right}}}catch(g){u.e(g)}finally{u.f()}t.x=o,t.y=s}Dc.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var Ch=function(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw:function(e){t.draw(e)}}]},e.boxes.push(t)},wh=function(e,t){var n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},xh=function(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},Sh=function(e,t,n,r){if(e){var i=nl(e.options.layout.padding),a=Math.max(t-i.width,0),o=Math.max(n-i.height,0),s=function(e){var t=function(e){var t,n,r,i,a,o,s=[];for(t=0,n=(e||[]).length;t<n;++t){var u=r=e[t];i=u.position;var c=u.options;a=c.stack;var l=c.stackWeight;o=void 0===l?1:l,s.push({index:t,box:r,pos:i,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&i+a,stackWeight:o})}return s}(e),n=dh(t.filter((function(e){return e.box.fullSize})),!0),r=dh(fh(t,"left"),!0),i=dh(fh(t,"right")),a=dh(fh(t,"top"),!0),o=dh(fh(t,"bottom")),s=hh(t,"x"),u=hh(t,"y");return{fullSize:n,leftAndTop:r.concat(a),rightAndBottom:i.concat(u).concat(o).concat(s),chartArea:fh(t,"chartArea"),vertical:r.concat(i).concat(u),horizontal:a.concat(o).concat(s)}}(e.boxes),u=s.vertical,c=s.horizontal;qs(e.boxes,(function(e){"function"===typeof e.beforeLayout&&e.beforeLayout()}));var l=u.reduce((function(e,t){return t.box.options&&!1===t.box.options.display?e:e+1}),0)||1,f=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:a,availableHeight:o,vBoxMaxWidth:a/2/l,hBoxMaxHeight:o/2}),h=Object.assign({},i);vh(h,nl(r));var d=Object.assign({maxPadding:h,w:a,h:o,x:i.left,y:i.top},i),m=mh(u.concat(c),f);_h(s.fullSize,d,f,m),_h(u,d,f,m),_h(c,d,f,m)&&_h(u,d,f,m),function(e){var t=e.maxPadding;function n(n){var r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(d),kh(s.leftAndTop,d,f,m),d.x+=d.w,d.y+=d.h,kh(s.rightAndBottom,d,f,m),e.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},qs(s.chartArea,(function(t){var n=t.box;Object.assign(n,e.chartArea),n.update(d.w,d.h,{left:0,top:0,right:0,bottom:0})}))}},Eh=function(){function e(){Ns(this,e)}return Rs(e,[{key:"acquireContext",value:function(e,t){}},{key:"releaseContext",value:function(e){return!1}},{key:"addEventListener",value:function(e,t,n){}},{key:"removeEventListener",value:function(e,t,n){}},{key:"getDevicePixelRatio",value:function(){return 1}},{key:"getMaximumSize",value:function(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}},{key:"isAttached",value:function(e){return!0}},{key:"updateConfig",value:function(e){}}]),e}(),Th=function(e){Ss(n,e);var t=Ps(n);function n(){return Ns(this,n),t.apply(this,arguments)}return Rs(n,[{key:"acquireContext",value:function(e){return e&&e.getContext&&e.getContext("2d")||null}},{key:"updateConfig",value:function(e){e.options.animation=!1}}]),n}(Eh),Ph={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ih=function(e){return null===e||""===e};var Lh=!!Vl&&{passive:!0};function Ah(e,t,n){e.canvas.removeEventListener(t,n,Lh)}function Nh(e,t){var n,r=Is(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i===t||i.contains(t))return!0}}catch(a){r.e(a)}finally{r.f()}}function Dh(e,t,n){var r=e.canvas,i=new MutationObserver((function(e){var t,i=!1,a=Is(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;i=(i=i||Nh(o.addedNodes,r))&&!Nh(o.removedNodes,r)}}catch(s){a.e(s)}finally{a.f()}i&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}function Rh(e,t,n){var r=e.canvas,i=new MutationObserver((function(e){var t,i=!1,a=Is(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;i=(i=i||Nh(o.removedNodes,r))&&!Nh(o.addedNodes,r)}}catch(s){a.e(s)}finally{a.f()}i&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}var Oh=new Map,Mh=0;function jh(){var e=window.devicePixelRatio;e!==Mh&&(Mh=e,Oh.forEach((function(t,n){n.currentDevicePixelRatio!==e&&t()})))}function Fh(e,t,n){var r=e.canvas,i=r&&Ll(r);if(i){var a=Mu((function(e,t){var r=i.clientWidth;n(e,t),r<i.clientWidth&&n()}),window),o=new ResizeObserver((function(e){var t=e[0],n=t.contentRect.width,r=t.contentRect.height;0===n&&0===r||a(n,r)}));return o.observe(i),function(e,t){Oh.size||window.addEventListener("resize",jh),Oh.set(e,t)}(e,a),o}}function Vh(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){Oh.delete(e),Oh.size||window.removeEventListener("resize",jh)}(e)}function Uh(e,t,n){var r=e.canvas,i=Mu((function(t){null!==e.ctx&&n(function(e,t){var n=Ph[e.type]||e.type,r=Ol(e,t),i=r.x,a=r.y;return{type:n,chart:t,native:e,x:void 0!==i?i:null,y:void 0!==a?a:null}}(t,e))}),e,(function(e){var t=e[0];return[t,t.offsetX,t.offsetY]}));return function(e,t,n){e.addEventListener(t,n,Lh)}(r,t,i),i}var zh=function(e){Ss(n,e);var t=Ps(n);function n(){return Ns(this,n),t.apply(this,arguments)}return Rs(n,[{key:"acquireContext",value:function(e,t){var n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){var n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e.$chartjs={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Ih(i)){var a=Ul(e,"width");void 0!==a&&(e.width=a)}if(Ih(r))if(""===e.style.height)e.height=e.width/(t||2);else{var o=Ul(e,"height");void 0!==o&&(e.height=o)}}(e,t),n):null}},{key:"releaseContext",value:function(e){var t=e.canvas;if(!t.$chartjs)return!1;var n=t.$chartjs.initial;["height","width"].forEach((function(e){var r=n[e];js(r)?t.removeAttribute(e):t.setAttribute(e,r)}));var r=n.style||{};return Object.keys(r).forEach((function(e){t.style[e]=r[e]})),t.width=t.width,delete t.$chartjs,!0}},{key:"addEventListener",value:function(e,t,n){this.removeEventListener(e,t);var r=e.$proxies||(e.$proxies={}),i={attach:Dh,detach:Rh,resize:Fh}[t]||Uh;r[t]=i(e,t,n)}},{key:"removeEventListener",value:function(e,t){var n=e.$proxies||(e.$proxies={}),r=n[t];r&&(({attach:Vh,detach:Vh,resize:Vh}[t]||Ah)(e,t,r),n[t]=void 0)}},{key:"getDevicePixelRatio",value:function(){return window.devicePixelRatio}},{key:"getMaximumSize",value:function(e,t,n,r){return jl(e,t,n,r)}},{key:"isAttached",value:function(e){var t=Ll(e);return!(!t||!t.isConnected)}}]),n}(Eh);var Bh=function(){function e(){Ns(this,e),this._init=[]}return Rs(e,[{key:"notify",value:function(e,t,n,r){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));var i=r?this._descriptors(e).filter(r):this._descriptors(e),a=this._notify(i,e,t,n);return"afterDestroy"===t&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),a}},{key:"_notify",value:function(e,t,n,r){r=r||{};var i,a=Is(e);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=o.plugin;if(!1===Hs(s[n],[t,r,o.options],s)&&r.cancelable)return!1}}catch(u){a.e(u)}finally{a.f()}return!0}},{key:"invalidate",value:function(){js(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}},{key:"_descriptors",value:function(e){if(this._cache)return this._cache;var t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}},{key:"_createDescriptors",value:function(e,t){var n=e&&e.config,r=Bs(n.options&&n.options.plugins,{}),i=function(e){for(var t={},n=[],r=Object.keys(Jf.plugins.items),i=0;i<r.length;i++)n.push(Jf.getPlugin(r[i]));for(var a=e.plugins||[],o=0;o<a.length;o++){var s=a[o];-1===n.indexOf(s)&&(n.push(s),t[s.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==r||t?function(e,t,n,r){var i,a=t.plugins,o=t.localIds,s=[],u=e.getContext(),c=Is(a);try{for(c.s();!(i=c.n()).done;){var l=i.value,f=l.id,h=Wh(n[f],r);null!==h&&s.push({plugin:l,options:Hh(e.config,{plugin:l,local:o[f]},h,u)})}}catch(d){c.e(d)}finally{c.f()}return s}(e,i,r,t):[]}},{key:"_notifyStateChanges",value:function(e){var t=this._oldCache||[],n=this._cache,r=function(e,t){return e.filter((function(e){return!t.some((function(t){return e.plugin.id===t.plugin.id}))}))};this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")}}]),e}();function Wh(e,t){return t||!1!==e?!0===e?{}:e:null}function Hh(e,t,n,r){var i=t.plugin,a=t.local,o=e.pluginScopeKeys(i),s=e.getOptionScopes(n,o);return a&&i.defaults&&s.push(i.defaults),e.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function qh(e,t){var n=Dc.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function Gh(e,t){return"x"===e||"y"===e?e:t.axis||("top"===(n=t.position)||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0)||e.charAt(0).toLowerCase();var n}function Yh(e){var t=e.options||(e.options={});t.plugins=Bs(t.plugins,{}),t.scales=function(e,t){var n=Pc[e.type]||{scales:{}},r=t.scales||{},i=qh(e.type,t),a=Object.create(null),o=Object.create(null);return Object.keys(r).forEach((function(e){var t=r[e];if(!Vs(t))return console.error("Invalid scale configuration for scale: ".concat(e));if(t._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(e));var s=Gh(e,t),u=function(e,t){return e===t?"_index_":"_value_"}(s,i),c=n.scales||{};a[s]=a[s]||e,o[e]=Js(Object.create(null),[{axis:s},t,c[s],c[u]])})),e.data.datasets.forEach((function(n){var i=n.type||e.type,s=n.indexAxis||qh(i,t),u=(Pc[i]||{}).scales||{};Object.keys(u).forEach((function(e){var t=function(e,t){var n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,s),i=n[t+"AxisID"]||a[t]||t;o[i]=o[i]||Object.create(null),Js(o[i],[{axis:t},r[i],u[e]])}))})),Object.keys(o).forEach((function(e){var t=o[e];Js(t,[Dc.scales[t.type],Dc.scale])})),o}(e,t)}function Kh(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}var Qh=new Map,Xh=new Set;function Jh(e,t){var n=Qh.get(e);return n||(n=t(),Qh.set(e,n),Xh.add(n)),n}var Zh=function(e,t,n){var r=eu(t,n);void 0!==r&&e.add(r)},$h=function(){function e(t){Ns(this,e),this._config=function(e){return(e=e||{}).data=Kh(e.data),Yh(e),e}(t),this._scopeCache=new Map,this._resolverCache=new Map}return Rs(e,[{key:"platform",get:function(){return this._config.platform}},{key:"type",get:function(){return this._config.type},set:function(e){this._config.type=e}},{key:"data",get:function(){return this._config.data},set:function(e){this._config.data=Kh(e)}},{key:"options",get:function(){return this._config.options},set:function(e){this._config.options=e}},{key:"plugins",get:function(){return this._config.plugins}},{key:"update",value:function(){var e=this._config;this.clearCache(),Yh(e)}},{key:"clearCache",value:function(){this._scopeCache.clear(),this._resolverCache.clear()}},{key:"datasetScopeKeys",value:function(e){return Jh(e,(function(){return[["datasets.".concat(e),""]]}))}},{key:"datasetAnimationScopeKeys",value:function(e,t){return Jh("".concat(e,".transition.").concat(t),(function(){return[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]]}))}},{key:"datasetElementScopeKeys",value:function(e,t){return Jh("".concat(e,"-").concat(t),(function(){return[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]]}))}},{key:"pluginScopeKeys",value:function(e){var t=e.id,n=this.type;return Jh("".concat(n,"-plugin-").concat(t),(function(){return[["plugins.".concat(t)].concat(As(e.additionalOptionScopes||[]))]}))}},{key:"_cachedScopes",value:function(e,t){var n=this._scopeCache,r=n.get(e);return r&&!t||(r=new Map,n.set(e,r)),r}},{key:"getOptionScopes",value:function(e,t,n){var r=this.options,i=this.type,a=this._cachedScopes(e,n),o=a.get(t);if(o)return o;var s=new Set;t.forEach((function(t){e&&(s.add(e),t.forEach((function(t){return Zh(s,e,t)}))),t.forEach((function(e){return Zh(s,r,e)})),t.forEach((function(e){return Zh(s,Pc[i]||{},e)})),t.forEach((function(e){return Zh(s,Dc,e)})),t.forEach((function(e){return Zh(s,Ic,e)}))}));var u=Array.from(s);return 0===u.length&&u.push(Object.create(null)),Xh.has(t)&&a.set(t,u),u}},{key:"chartOptionScopes",value:function(){var e=this.options,t=this.type;return[e,Pc[t]||{},Dc.datasets[t]||{},{type:t},Dc,Ic]}},{key:"resolveNamedOptions",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""],i={$shared:!0},a=ed(this._resolverCache,e,r),o=a.resolver,s=a.subPrefixes,u=o;if(nd(o,t)){i.$shared=!1,n=ru(n)?n():n;var c=this.createResolver(e,n,s);u=sl(o,n,c)}var l,f=Is(t);try{for(f.s();!(l=f.n()).done;){var h=l.value;i[h]=u[h]}}catch(d){f.e(d)}finally{f.f()}return i}},{key:"createResolver",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],r=arguments.length>3?arguments[3]:void 0,i=ed(this._resolverCache,e,n),a=i.resolver;return Vs(t)?sl(a,t,void 0,r):a}}]),e}();function ed(e,t,n){var r=e.get(t);r||(r=new Map,e.set(t,r));var i=n.join(),a=r.get(i);a||(a={resolver:ol(t,n),subPrefixes:n.filter((function(e){return!e.toLowerCase().includes("hover")}))},r.set(i,a));return a}var td=function(e){return Vs(e)&&Object.getOwnPropertyNames(e).reduce((function(t,n){return t||ru(e[n])}),!1)};function nd(e,t){var n,r=ul(e),i=r.isScriptable,a=r.isIndexable,o=Is(t);try{for(o.s();!(n=o.n()).done;){var s=n.value,u=i(s),c=a(s),l=(c||u)&&e[s];if(u&&(ru(l)||td(l))||c&&Fs(l))return!0}}catch(f){o.e(f)}finally{o.f()}return!1}var rd=["top","bottom","left","right","chartArea"];function id(e,t){return"top"===e||"bottom"===e||-1===rd.indexOf(e)&&"x"===t}function ad(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function od(e){var t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Hs(n&&n.onComplete,[e],t)}function sd(e){var t=e.chart,n=t.options.animation;Hs(n&&n.onProgress,[e],t)}function ud(e){return Il()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}var cd={},ld=function(e){var t=ud(e);return Object.values(cd).filter((function(e){return e.canvas===t})).pop()};function fd(e,t,n){for(var r=0,i=Object.keys(e);r<i.length;r++){var a=i[r],o=+a;if(o>=t){var s=e[a];delete e[a],(n>0||o>t)&&(e[o+n]=s)}}}var hd=function(){function e(t,n){var r=this;Ns(this,e);var i=this.config=new $h(n),a=ud(t),o=ld(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");var s=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||function(e){return!Il()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?Th:zh}(a)),this.platform.updateConfig(i);var u=this.platform.acquireContext(a,s.aspectRatio),c=u&&u.canvas,l=c&&c.height,f=c&&c.width;this.id=Ms(),this.ctx=u,this.canvas=c,this.width=f,this.height=l,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Bh,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){var n;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}((function(e){return r.update(e)}),s.resizeDelay||0),this._dataChanges=[],cd[this.id]=this,u&&c?(rf.listen(this,"complete",od),rf.listen(this,"progress",sd),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}return Rs(e,[{key:"aspectRatio",get:function(){var e=this.options,t=e.aspectRatio,n=e.maintainAspectRatio,r=this.width,i=this.height,a=this._aspectRatio;return js(t)?n&&a?a:i?r/i:null:t}},{key:"data",get:function(){return this.config.data},set:function(e){this.config.data=e}},{key:"options",get:function(){return this._options},set:function(e){this.config.options=e}},{key:"_initialize",value:function(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Fl(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}},{key:"clear",value:function(){return jc(this.canvas,this.ctx),this}},{key:"stop",value:function(){return rf.stop(this),this}},{key:"resize",value:function(e,t){rf.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}},{key:"_resize",value:function(e,t){var n=this.options,r=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,e,t,i),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),s=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Fl(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),Hs(n.onResize,[this,a],this),this.attached&&this._doResize(s)&&this.render())}},{key:"ensureScalesHaveIDs",value:function(){qs(this.options.scales||{},(function(e,t){e.id=t}))}},{key:"buildOrUpdateScales",value:function(){var e=this,t=this.options,n=t.scales,r=this.scales,i=Object.keys(r).reduce((function(e,t){return e[t]=!1,e}),{}),a=[];n&&(a=a.concat(Object.keys(n).map((function(e){var t=n[e],r=Gh(e,t),i="r"===r,a="x"===r;return{options:t,dposition:i?"chartArea":a?"bottom":"left",dtype:i?"radialLinear":a?"category":"linear"}})))),qs(a,(function(n){var a=n.options,o=a.id,s=Gh(o,a),u=Bs(a.type,n.dtype);void 0!==a.position&&id(a.position,s)===id(n.dposition)||(a.position=n.dposition),i[o]=!0;var c=null;o in r&&r[o].type===u?c=r[o]:(c=new(Jf.getScale(u))({id:o,type:u,ctx:e.ctx,chart:e}),r[c.id]=c);c.init(a,t)})),qs(i,(function(e,t){e||delete r[t]})),qs(r,(function(t){xh(e,t,t.options),Ch(e,t)}))}},{key:"_updateMetasets",value:function(){var e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((function(e,t){return e.index-t.index})),n>t){for(var r=t;r<n;++r)this._destroyDatasetMeta(r);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(ad("order","index"))}},{key:"_removeUnreferencedMetasets",value:function(){var e=this,t=this._metasets,n=this.data.datasets;t.length>n.length&&delete this._stacks,t.forEach((function(t,r){0===n.filter((function(e){return e===t._dataset})).length&&e._destroyDatasetMeta(r)}))}},{key:"buildOrUpdateControllers",value:function(){var e,t,n=[],r=this.data.datasets;for(this._removeUnreferencedMetasets(),e=0,t=r.length;e<t;e++){var i=r[e],a=this.getDatasetMeta(e),o=i.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(e),a=this.getDatasetMeta(e)),a.type=o,a.indexAxis=i.indexAxis||qh(o,this.options),a.order=i.order||0,a.index=e,a.label=""+i.label,a.visible=this.isDatasetVisible(e),a.controller)a.controller.updateIndex(e),a.controller.linkScales();else{var s=Jf.getController(o),u=Dc.datasets[o],c=u.datasetElementType,l=u.dataElementType;Object.assign(s.prototype,{dataElementType:Jf.getElement(l),datasetElementType:c&&Jf.getElement(c)}),a.controller=new s(this,e),n.push(a.controller)}}return this._updateMetasets(),n}},{key:"_resetElements",value:function(){var e=this;qs(this.data.datasets,(function(t,n){e.getDatasetMeta(n).controller.reset()}),this)}},{key:"reset",value:function(){this._resetElements(),this.notifyPlugins("reset")}},{key:"update",value:function(e){var t=this.config;t.update();var n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1!==this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})){var i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");for(var a=0,o=0,s=this.data.datasets.length;o<s;o++){var u=this.getDatasetMeta(o).controller,c=!r&&-1===i.indexOf(u);u.buildOrUpdateElements(c),a=Math.max(+u.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),r||qs(i,(function(e){e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(ad("z","_idx"));var l=this._active,f=this._lastEvent;f?this._eventHandler(f,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}}},{key:"_updateScales",value:function(){var e=this;qs(this.scales,(function(t){wh(e,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}},{key:"_checkEventBindings",value:function(){var e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);iu(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}},{key:"_updateHiddenIndices",value:function(){var e,t=this._hiddenIndices,n=Is(this._getUniformDataChanges()||[]);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=r.method,a=r.start,o=r.count;fd(t,a,"_removeElements"===i?-o:o)}}catch(s){n.e(s)}finally{n.f()}}},{key:"_getUniformDataChanges",value:function(){var e=this._dataChanges;if(e&&e.length){this._dataChanges=[];for(var t=this.data.datasets.length,n=function(t){return new Set(e.filter((function(e){return e[0]===t})).map((function(e,t){return t+","+e.splice(1).join(",")})))},r=n(0),i=1;i<t;i++)if(!iu(r,n(i)))return;return Array.from(r).map((function(e){return e.split(",")})).map((function(e){return{method:e[1],start:+e[2],count:+e[3]}}))}}},{key:"_updateLayout",value:function(e){var t=this;if(!1!==this.notifyPlugins("beforeLayout",{cancelable:!0})){Sh(this,this.width,this.height,e);var n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],qs(this.boxes,(function(e){var n;r&&"chartArea"===e.position||(e.configure&&e.configure(),(n=t._layers).push.apply(n,As(e._layers())))}),this),this._layers.forEach((function(e,t){e._idx=t})),this.notifyPlugins("afterLayout")}}},{key:"_updateDatasets",value:function(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(var t=0,n=this.data.datasets.length;t<n;++t)this.getDatasetMeta(t).controller.configure();for(var r=0,i=this.data.datasets.length;r<i;++r)this._updateDataset(r,ru(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}},{key:"_updateDataset",value:function(e,t){var n=this.getDatasetMeta(e),r={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}},{key:"render",value:function(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(rf.has(this)?this.attached&&!rf.running(this)&&rf.start(this):(this.draw(),od({chart:this})))}},{key:"draw",value:function(){var e;if(this._resizeBeforeDraw){var t=this._resizeBeforeDraw,n=t.width,r=t.height;this._resize(n,r),this._resizeBeforeDraw=null}if(this.clear(),!(this.width<=0||this.height<=0)&&!1!==this.notifyPlugins("beforeDraw",{cancelable:!0})){var i=this._layers;for(e=0;e<i.length&&i[e].z<=0;++e)i[e].draw(this.chartArea);for(this._drawDatasets();e<i.length;++e)i[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}}},{key:"_getSortedDatasetMetas",value:function(e){var t,n,r=this._sortedMetasets,i=[];for(t=0,n=r.length;t<n;++t){var a=r[t];e&&!a.visible||i.push(a)}return i}},{key:"getSortedVisibleDatasetMetas",value:function(){return this._getSortedDatasetMetas(!0)}},{key:"_drawDatasets",value:function(){if(!1!==this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})){for(var e=this.getSortedVisibleDatasetMetas(),t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}}},{key:"_drawDataset",value:function(e){var t=this.ctx,n=e._clip,r=!n.disabled,i=this.chartArea,a={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(r&&zc(t,{left:!1===n.left?0:i.left-n.left,right:!1===n.right?this.width:i.right+n.right,top:!1===n.top?0:i.top-n.top,bottom:!1===n.bottom?this.height:i.bottom+n.bottom}),e.controller.draw(),r&&Bc(t),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}},{key:"isPointInArea",value:function(e){return Uc(e,this.chartArea,this._minPadding)}},{key:"getElementsAtEventForMode",value:function(e,t,n,r){var i=ch.modes[t];return"function"===typeof i?i(this,e,n,r):[]}},{key:"getDatasetMeta",value:function(e){var t=this.data.datasets[e],n=this._metasets,r=n.filter((function(e){return e&&e._dataset===t})).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(r)),r}},{key:"getContext",value:function(){return this.$context||(this.$context=al(null,{chart:this,type:"chart"}))}},{key:"getVisibleDatasetCount",value:function(){return this.getSortedVisibleDatasetMetas().length}},{key:"isDatasetVisible",value:function(e){var t=this.data.datasets[e];if(!t)return!1;var n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}},{key:"setDatasetVisibility",value:function(e,t){this.getDatasetMeta(e).hidden=!t}},{key:"toggleDataVisibility",value:function(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}},{key:"getDataVisibility",value:function(e){return!this._hiddenIndices[e]}},{key:"_updateVisibility",value:function(e,t,n){var r=n?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,r);nu(t)?(i.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),a.update(i,{visible:n}),this.update((function(t){return t.datasetIndex===e?r:void 0})))}},{key:"hide",value:function(e,t){this._updateVisibility(e,t,!1)}},{key:"show",value:function(e,t){this._updateVisibility(e,t,!0)}},{key:"_destroyDatasetMeta",value:function(e){var t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}},{key:"_stop",value:function(){var e,t;for(this.stop(),rf.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}},{key:"destroy",value:function(){this.notifyPlugins("beforeDestroy");var e=this.canvas,t=this.ctx;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),jc(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete cd[this.id],this.notifyPlugins("afterDestroy")}},{key:"toBase64Image",value:function(){var e;return(e=this.canvas).toDataURL.apply(e,arguments)}},{key:"bindEvents",value:function(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}},{key:"bindUserEvents",value:function(){var e=this,t=this._listeners,n=this.platform,r=function(t,n,r){t.offsetX=n,t.offsetY=r,e._eventHandler(t)};qs(this.options.events,(function(i){return function(r,i){n.addEventListener(e,r,i),t[r]=i}(i,r)}))}},{key:"bindResponsiveEvents",value:function(){var e=this;this._responsiveListeners||(this._responsiveListeners={});var t,n=this._responsiveListeners,r=this.platform,i=function(t,i){r.addEventListener(e,t,i),n[t]=i},a=function(t,i){n[t]&&(r.removeEventListener(e,t,i),delete n[t])},o=function(t,n){e.canvas&&e.resize(t,n)},s=function n(){a("attach",n),e.attached=!0,e.resize(),i("resize",o),i("detach",t)};t=function(){e.attached=!1,a("resize",o),e._stop(),e._resize(0,0),i("attach",s)},r.isAttached(this.canvas)?s():t()}},{key:"unbindEvents",value:function(){var e=this;qs(this._listeners,(function(t,n){e.platform.removeEventListener(e,n,t)})),this._listeners={},qs(this._responsiveListeners,(function(t,n){e.platform.removeEventListener(e,n,t)})),this._responsiveListeners=void 0}},{key:"updateHoverStyle",value:function(e,t,n){var r,i,a,o=n?"set":"remove";for("dataset"===t&&this.getDatasetMeta(e[0].datasetIndex).controller["_"+o+"DatasetHoverStyle"](),i=0,a=e.length;i<a;++i){var s=(r=e[i])&&this.getDatasetMeta(r.datasetIndex).controller;s&&s[o+"HoverStyle"](r.element,r.datasetIndex,r.index)}}},{key:"getActiveElements",value:function(){return this._active||[]}},{key:"setActiveElements",value:function(e){var t=this,n=this._active||[],r=e.map((function(e){var n=e.datasetIndex,r=e.index,i=t.getDatasetMeta(n);if(!i)throw new Error("No dataset found at index "+n);return{datasetIndex:n,element:i.data[r],index:r}}));!Gs(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}},{key:"notifyPlugins",value:function(e,t,n){return this._plugins.notify(this,e,t,n)}},{key:"_updateHoverStyles",value:function(e,t,n){var r=this.options.hover,i=function(e,t){return e.filter((function(e){return!t.some((function(t){return e.datasetIndex===t.datasetIndex&&e.index===t.index}))}))},a=i(t,e),o=n?e:i(e,t);a.length&&this.updateHoverStyle(a,r.mode,!1),o.length&&r.mode&&this.updateHoverStyle(o,r.mode,!0)}},{key:"_eventHandler",value:function(e,t){var n=this,r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=function(t){return(t.options.events||n.options.events).includes(e.native.type)};if(!1!==this.notifyPlugins("beforeEvent",r,i)){var a=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(a||r.changed)&&this.render(),this}}},{key:"_handleEvent",value:function(e,t,n){var r=this._active,i=void 0===r?[]:r,a=this.options,o=t,s=this._getActiveElements(e,i,n,o),u=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),c=function(e,t,n,r){return n&&"mouseout"!==e.type?r?t:e:null}(e,this._lastEvent,n,u);n&&(this._lastEvent=null,Hs(a.onHover,[e,s,this],this),u&&Hs(a.onClick,[e,s,this],this));var l=!Gs(s,i);return(l||t)&&(this._active=s,this._updateHoverStyles(s,i,t)),this._lastEvent=c,l}},{key:"_getActiveElements",value:function(e,t,n,r){if("mouseout"===e.type)return[];if(!n)return t;var i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}}]),e}(),dd=function(){return qs(hd.instances,(function(e){return e._plugins.invalidate()}))},md=!0;function pd(e,t,n){var r=t.startAngle,i=t.pixelMargin,a=t.x,o=t.y,s=t.outerRadius,u=t.innerRadius,c=i/s;e.beginPath(),e.arc(a,o,s,r-c,n+c),u>i?(c=i/u,e.arc(a,o,u,n+c,r-c,!0)):e.arc(a,o,i,n+lu,r-lu),e.closePath(),e.clip()}function vd(e,t,n,r){var i=$c(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),a=(n-t)/2,o=Math.min(a,r*t/2),s=function(e){var t=(n-Math.min(a,e))*r/2;return Tu(e,0,Math.min(a,t))};return{outerStart:s(i.outerStart),outerEnd:s(i.outerEnd),innerStart:Tu(i.innerStart,0,o),innerEnd:Tu(i.innerEnd,0,o)}}function gd(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function yd(e,t,n,r,i,a){var o=t.x,s=t.y,u=t.startAngle,c=t.pixelMargin,l=t.innerRadius,f=Math.max(t.outerRadius+r+n-c,0),h=l>0?l+r+n+c:0,d=0,m=i-u;if(r){var p=((l>0?l-r:0)+(f>0?f-r:0))/2;d=(m-(0!==p?m*p/(p+r):m))/2}var v=(m-Math.max(.001,m*f-n/au)/f)/2,g=u+v+d,y=i-v-d,_=vd(t,h,f,y-g),b=_.outerStart,k=_.outerEnd,C=_.innerStart,w=_.innerEnd,x=f-b,S=f-k,E=g+b/x,T=y-k/S,P=h+C,I=h+w,L=g+C/P,A=y-w/I;if(e.beginPath(),a){if(e.arc(o,s,f,E,T),k>0){var N=gd(S,T,o,s);e.arc(N.x,N.y,k,T,y+lu)}var D=gd(I,y,o,s);if(e.lineTo(D.x,D.y),w>0){var R=gd(I,A,o,s);e.arc(R.x,R.y,w,y+lu,A+Math.PI)}if(e.arc(o,s,h,y-w/h,g+C/h,!0),C>0){var O=gd(P,L,o,s);e.arc(O.x,O.y,C,L+Math.PI,g-lu)}var M=gd(x,g,o,s);if(e.lineTo(M.x,M.y),b>0){var j=gd(x,E,o,s);e.arc(j.x,j.y,b,g-lu,E)}}else{e.moveTo(o,s);var F=Math.cos(E)*f+o,V=Math.sin(E)*f+s;e.lineTo(F,V);var U=Math.cos(T)*f+o,z=Math.sin(T)*f+s;e.lineTo(U,z)}e.closePath()}function _d(e,t,n,r,i,a){var o=t.options,s=o.borderWidth,u=o.borderJoinStyle,c="inner"===o.borderAlign;s&&(c?(e.lineWidth=2*s,e.lineJoin=u||"round"):(e.lineWidth=s,e.lineJoin=u||"bevel"),t.fullCircles&&function(e,t,n){var r,i=t.x,a=t.y,o=t.startAngle,s=t.pixelMargin,u=t.fullCircles,c=Math.max(t.outerRadius-s,0),l=t.innerRadius+s;for(n&&pd(e,t,o+ou),e.beginPath(),e.arc(i,a,l,o+ou,o,!0),r=0;r<u;++r)e.stroke();for(e.beginPath(),e.arc(i,a,c,o,o+ou),r=0;r<u;++r)e.stroke()}(e,t,c),c&&pd(e,t,i),yd(e,t,n,r,i,a),e.stroke())}Object.defineProperties(hd,{defaults:{enumerable:md,value:Dc},instances:{enumerable:md,value:cd},overrides:{enumerable:md,value:Pc},registry:{enumerable:md,value:Jf},version:{enumerable:md,value:"3.9.1"},getChart:{enumerable:md,value:ld},register:{enumerable:md,value:function(){Jf.add.apply(Jf,arguments),dd()}},unregister:{enumerable:md,value:function(){Jf.remove.apply(Jf,arguments),dd()}}});var bd=function(e){Ss(n,e);var t=Ps(n);function n(e){var r;return Ns(this,n),(r=t.call(this)).options=void 0,r.circumference=void 0,r.startAngle=void 0,r.endAngle=void 0,r.innerRadius=void 0,r.outerRadius=void 0,r.pixelMargin=0,r.fullCircles=0,e&&Object.assign(ks(r),e),r}return Rs(n,[{key:"inRange",value:function(e,t,n){var r=Cu(this.getProps(["x","y"],n),{x:e,y:t}),i=r.angle,a=r.distance,o=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),s=o.startAngle,u=o.endAngle,c=o.innerRadius,l=o.outerRadius,f=o.circumference,h=this.options.spacing/2,d=Bs(f,u-s)>=ou||Eu(i,s,u),m=Pu(a,c+h,l+h);return d&&m}},{key:"getCenterPoint",value:function(e){var t=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),n=t.x,r=t.y,i=t.startAngle,a=t.endAngle,o=t.innerRadius,s=t.outerRadius,u=this.options,c=u.offset,l=(i+a)/2,f=(o+s+u.spacing+c)/2;return{x:n+Math.cos(l)*f,y:r+Math.sin(l)*f}}},{key:"tooltipPosition",value:function(e){return this.getCenterPoint(e)}},{key:"draw",value:function(e){var t=this.options,n=this.circumference,r=(t.offset||0)/2,i=(t.spacing||0)/2,a=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>ou?Math.floor(n/ou):0,!(0===n||this.innerRadius<0||this.outerRadius<0)){e.save();var o=0;if(r){o=r/2;var s=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(s)*o,Math.sin(s)*o),this.circumference>=au&&(o=r)}e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor;var u=function(e,t,n,r,i){var a=t.fullCircles,o=t.startAngle,s=t.circumference,u=t.endAngle;if(a){yd(e,t,n,r,o+ou,i);for(var c=0;c<a;++c)e.fill();isNaN(s)||(u=o+s%ou,s%ou===0&&(u+=ou))}return yd(e,t,n,r,u,i),e.fill(),u}(e,this,o,i,a);_d(e,this,o,i,u,a),e.restore()}}}]),n}(jf);function kd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=Bs(n.borderCapStyle,t.borderCapStyle),e.setLineDash(Bs(n.borderDash,t.borderDash)),e.lineDashOffset=Bs(n.borderDashOffset,t.borderDashOffset),e.lineJoin=Bs(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Bs(n.borderWidth,t.borderWidth),e.strokeStyle=Bs(n.borderColor,t.borderColor)}function Cd(e,t,n){e.lineTo(n.x,n.y)}function wd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.length,i=n.start,a=void 0===i?0:i,o=n.end,s=void 0===o?r-1:o,u=t.start,c=t.end,l=Math.max(a,u),f=Math.min(s,c),h=a<u&&s<u||a>c&&s>c;return{count:r,start:l,loop:t.loop,ilen:f<l&&!h?r+f-l:f-l}}function xd(e,t,n,r){var i,a,o,s=t.points,u=t.options,c=wd(s,n,r),l=c.count,f=c.start,h=c.loop,d=c.ilen,m=function(e){return e.stepped?Wc:e.tension||"monotone"===e.cubicInterpolationMode?Hc:Cd}(u),p=r||{},v=p.move,g=void 0===v||v,y=p.reverse;for(i=0;i<=d;++i)(a=s[(f+(y?d-i:i))%l]).skip||(g?(e.moveTo(a.x,a.y),g=!1):m(e,o,a,y,u.stepped),o=a);return h&&m(e,o,a=s[(f+(y?d:0))%l],y,u.stepped),!!h}function Sd(e,t,n,r){var i,a,o,s,u,c,l=t.points,f=wd(l,n,r),h=f.count,d=f.start,m=f.ilen,p=r||{},v=p.move,g=void 0===v||v,y=p.reverse,_=0,b=0,k=function(e){return(d+(y?m-e:e))%h},C=function(){s!==u&&(e.lineTo(_,u),e.lineTo(_,s),e.lineTo(_,c))};for(g&&(a=l[k(0)],e.moveTo(a.x,a.y)),i=0;i<=m;++i)if(!(a=l[k(i)]).skip){var w=a.x,x=a.y,S=0|w;S===o?(x<s?s=x:x>u&&(u=x),_=(b*_+w)/++b):(C(),e.lineTo(w,x),o=S,b=0,s=u=x),c=x}C()}function Ed(e){var t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n?Sd:xd}bd.id="arc",bd.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0},bd.defaultRoutes={backgroundColor:"backgroundColor"};var Td="function"===typeof Path2D;function Pd(e,t,n,r){Td&&!t.options.segment?function(e,t,n,r){var i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),kd(e,t.options),e.stroke(i)}(e,t,n,r):function(e,t,n,r){var i,a=t.segments,o=t.options,s=Ed(t),u=Is(a);try{for(u.s();!(i=u.n()).done;){var c=i.value;kd(e,o,c.style),e.beginPath(),s(e,t,c,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}}catch(l){u.e(l)}finally{u.f()}}(e,t,n,r)}var Id=function(e){Ss(n,e);var t=Ps(n);function n(e){var r;return Ns(this,n),(r=t.call(this)).animated=!0,r.options=void 0,r._chart=void 0,r._loop=void 0,r._fullLoop=void 0,r._path=void 0,r._points=void 0,r._segments=void 0,r._decimated=!1,r._pointsUpdated=!1,r._datasetIndex=void 0,e&&Object.assign(ks(r),e),r}return Rs(n,[{key:"updateControlPoints",value:function(e,t){var n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){var r=n.spanGaps?this._loop:this._fullLoop;Pl(this._points,n,e,r,t),this._pointsUpdated=!0}}},{key:"points",get:function(){return this._points},set:function(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}},{key:"segments",get:function(){return this._segments||(this._segments=function(e,t){var n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];var a=!!e._loop,o=function(e,t,n,r){var i=0,a=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(a+=i);a>i&&e[a%t].skip;)a--;return{start:i,end:a%=t}}(n,i,a,r),s=o.start,u=o.end;return $l(e,!0===r?[{start:s,end:u,loop:a}]:function(e,t,n,r){var i,a=e.length,o=[],s=t,u=e[t];for(i=t+1;i<=n;++i){var c=e[i%a];c.skip||c.stop?u.skip||(r=!1,o.push({start:t%a,end:(i-1)%a,loop:r}),t=s=c.stop?i:null):(s=i,u.skip&&(t=i)),u=c}return null!==s&&o.push({start:t%a,end:s%a,loop:r}),o}(n,s,u<s?u+i:u,!!e._fullLoop&&0===s&&u===i-1),n,t)}(this,this.options.segment))}},{key:"first",value:function(){var e=this.segments,t=this.points;return e.length&&t[e[0].start]}},{key:"last",value:function(){var e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}},{key:"interpolate",value:function(e,t){var n=this.options,r=e[t],i=this.points,a=Zl(this,{property:t,start:r,end:r});if(a.length){var o,s,u=[],c=function(e){return e.stepped?Bl:e.tension||"monotone"===e.cubicInterpolationMode?Wl:zl}(n);for(o=0,s=a.length;o<s;++o){var l=a[o],f=l.start,h=l.end,d=i[f],m=i[h];if(d!==m){var p=c(d,m,Math.abs((r-d[t])/(m[t]-d[t])),n.stepped);p[t]=e[t],u.push(p)}else u.push(d)}return 1===u.length?u[0]:u}}},{key:"pathSegment",value:function(e,t,n){return Ed(this)(e,this,t,n)}},{key:"path",value:function(e,t,n){var r=this.segments,i=Ed(this),a=this._loop;t=t||0,n=n||this.points.length-t;var o,s=Is(r);try{for(s.s();!(o=s.n()).done;){a&=i(e,this,o.value,{start:t,end:t+n-1})}}catch(u){s.e(u)}finally{s.f()}return!!a}},{key:"draw",value:function(e,t,n,r){var i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),Pd(e,this,n,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}]),n}(jf);function Ld(e,t,n,r){var i=e.options,a=e.getProps([n],r)[n];return Math.abs(t-a)<i.radius+i.hitRadius}Id.id="line",Id.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},Id.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},Id.descriptors={_scriptable:!0,_indexable:function(e){return"borderDash"!==e&&"fill"!==e}};var Ad=function(e){Ss(n,e);var t=Ps(n);function n(e){var r;return Ns(this,n),(r=t.call(this)).options=void 0,r.parsed=void 0,r.skip=void 0,r.stop=void 0,e&&Object.assign(ks(r),e),r}return Rs(n,[{key:"inRange",value:function(e,t,n){var r=this.options,i=this.getProps(["x","y"],n),a=i.x,o=i.y;return Math.pow(e-a,2)+Math.pow(t-o,2)<Math.pow(r.hitRadius+r.radius,2)}},{key:"inXRange",value:function(e,t){return Ld(this,e,"x",t)}},{key:"inYRange",value:function(e,t){return Ld(this,e,"y",t)}},{key:"getCenterPoint",value:function(e){var t=this.getProps(["x","y"],e);return{x:t.x,y:t.y}}},{key:"size",value:function(e){var t=(e=e||this.options||{}).radius||0;return 2*((t=Math.max(t,t&&e.hoverRadius||0))+(t&&e.borderWidth||0))}},{key:"draw",value:function(e,t){var n=this.options;this.skip||n.radius<.1||!Uc(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,Fc(e,n,this.x,this.y))}},{key:"getRange",value:function(){var e=this.options||{};return e.radius+e.hitRadius}}]),n}(jf);function Nd(e,t){var n,r,i,a,o,s=e.getProps(["x","y","base","width","height"],t),u=s.x,c=s.y,l=s.base,f=s.width,h=s.height;return e.horizontal?(o=h/2,n=Math.min(u,l),r=Math.max(u,l),i=c-o,a=c+o):(n=u-(o=f/2),r=u+o,i=Math.min(c,l),a=Math.max(c,l)),{left:n,top:i,right:r,bottom:a}}function Dd(e,t,n,r){return e?0:Tu(t,n,r)}function Rd(e){var t=Nd(e),n=t.right-t.left,r=t.bottom-t.top,i=function(e,t,n){var r=e.options.borderWidth,i=e.borderSkipped,a=el(r);return{t:Dd(i.top,a.top,0,n),r:Dd(i.right,a.right,0,t),b:Dd(i.bottom,a.bottom,0,n),l:Dd(i.left,a.left,0,t)}}(e,n/2,r/2),a=function(e,t,n){var r=e.getProps(["enableBorderRadius"]).enableBorderRadius,i=e.options.borderRadius,a=tl(i),o=Math.min(t,n),s=e.borderSkipped,u=r||Vs(i);return{topLeft:Dd(!u||s.top||s.left,a.topLeft,0,o),topRight:Dd(!u||s.top||s.right,a.topRight,0,o),bottomLeft:Dd(!u||s.bottom||s.left,a.bottomLeft,0,o),bottomRight:Dd(!u||s.bottom||s.right,a.bottomRight,0,o)}}(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:a},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,a.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(i.b,i.r))}}}}function Od(e,t,n,r){var i=null===t,a=null===n,o=e&&!(i&&a)&&Nd(e,r);return o&&(i||Pu(t,o.left,o.right))&&(a||Pu(n,o.top,o.bottom))}function Md(e,t){e.rect(t.x,t.y,t.w,t.h)}function jd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,a=(e.x+e.w!==n.x+n.w?t:0)-r,o=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+a,h:e.h+o,radius:e.radius}}Ad.id="point",Ad.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},Ad.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var Fd=function(e){Ss(n,e);var t=Ps(n);function n(e){var r;return Ns(this,n),(r=t.call(this)).options=void 0,r.horizontal=void 0,r.base=void 0,r.width=void 0,r.height=void 0,r.inflateAmount=void 0,e&&Object.assign(ks(r),e),r}return Rs(n,[{key:"draw",value:function(e){var t,n=this.inflateAmount,r=this.options,i=r.borderColor,a=r.backgroundColor,o=Rd(this),s=o.inner,u=o.outer,c=(t=u.radius).topLeft||t.topRight||t.bottomLeft||t.bottomRight?Kc:Md;e.save(),u.w===s.w&&u.h===s.h||(e.beginPath(),c(e,jd(u,n,s)),e.clip(),c(e,jd(s,-n,u)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),c(e,jd(s,n)),e.fillStyle=a,e.fill(),e.restore()}},{key:"inRange",value:function(e,t,n){return Od(this,e,t,n)}},{key:"inXRange",value:function(e,t){return Od(this,e,null,t)}},{key:"inYRange",value:function(e,t){return Od(this,null,e,t)}},{key:"getCenterPoint",value:function(e){var t=this.getProps(["x","y","base","horizontal"],e),n=t.x,r=t.y,i=t.base,a=t.horizontal;return{x:a?(n+i)/2:n,y:a?r:(r+i)/2}}},{key:"getRange",value:function(e){return"x"===e?this.width/2:this.height/2}}]),n}(jf);Fd.id="bar",Fd.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},Fd.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var Vd=Object.freeze({__proto__:null,ArcElement:bd,LineElement:Id,PointElement:Ad,BarElement:Fd});function Ud(e){if(e._decimated){var t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{value:t})}}function zd(e){e.data.datasets.forEach((function(e){Ud(e)}))}var Bd={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:function(e,t,n){if(n.enabled){var r=e.width;e.data.datasets.forEach((function(t,i){var a=t._data,o=t.indexAxis,s=e.getDatasetMeta(i),u=a||t.data;if("y"!==il([o,e.options.indexAxis])&&s.controller.supportsDecimation){var c=e.scales[s.xAxisID];if(("linear"===c.type||"time"===c.type)&&!e.options.parsing){var l=function(e,t){var n=t.length,r=0,i=e.iScale,a=i.getUserBounds(),o=a.min,s=a.max,u=a.minDefined,c=a.maxDefined;return u&&(r=Tu(Lu(t,i.axis,o).lo,0,n-1)),{start:r,count:c?Tu(Lu(t,i.axis,s).hi+1,r,n)-r:n-r}}(s,u),f=l.start,h=l.count;if(h<=(n.threshold||4*r))Ud(t);else{var d;switch(js(a)&&(t._data=u,delete t.data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(e){this._data=e}})),n.algorithm){case"lttb":d=function(e,t,n,r,i){var a=i.samples||r;if(a>=n)return e.slice(t,t+n);var o,s,u,c,l,f=[],h=(n-2)/(a-2),d=0,m=t+n-1,p=t;for(f[d++]=e[p],o=0;o<a-2;o++){var v=0,g=0,y=void 0,_=Math.floor((o+1)*h)+1+t,b=Math.min(Math.floor((o+2)*h)+1,n)+t,k=b-_;for(y=_;y<b;y++)v+=e[y].x,g+=e[y].y;v/=k,g/=k;var C=Math.floor(o*h)+1+t,w=Math.min(Math.floor((o+1)*h)+1,n)+t,x=e[p],S=x.x,E=x.y;for(u=c=-1,y=C;y<w;y++)(c=.5*Math.abs((S-v)*(e[y].y-E)-(S-e[y].x)*(g-E)))>u&&(u=c,s=e[y],l=y);f[d++]=s,p=l}return f[d++]=e[m],f}(u,f,h,r,n);break;case"min-max":d=function(e,t,n,r){var i,a,o,s,u,c,l,f,h,d,m=0,p=0,v=[],g=t+n-1,y=e[t].x,_=e[g].x-y;for(i=t;i<t+n;++i){o=((a=e[i]).x-y)/_*r,s=a.y;var b=0|o;if(b===u)s<h?(h=s,c=i):s>d&&(d=s,l=i),m=(p*m+a.x)/++p;else{var k=i-1;if(!js(c)&&!js(l)){var C=Math.min(c,l),w=Math.max(c,l);C!==f&&C!==k&&v.push(bs(bs({},e[C]),{},{x:m})),w!==f&&w!==k&&v.push(bs(bs({},e[w]),{},{x:m}))}i>0&&k!==f&&v.push(e[k]),v.push(a),u=b,p=0,h=d=s,c=l=f=i}}return v}(u,f,h,r);break;default:throw new Error("Unsupported decimation algorithm '".concat(n.algorithm,"'"))}t._decimated=d}}}}))}else zd(e)},destroy:function(e){zd(e)}};function Wd(e,t,n,r){if(!r){var i=t[e],a=n[e];return"angle"===e&&(i=Su(i),a=Su(a)),{property:e,start:i,end:a}}}function Hd(e,t,n){for(;t>e;t--){var r=n[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function qd(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function Gd(e,t){var n=[],r=!1;return Fs(e)?(r=!0,n=e):n=function(e,t){var n=e||{},r=n.x,i=void 0===r?null:r,a=n.y,o=void 0===a?null:a,s=t.points,u=[];return t.segments.forEach((function(e){var t=e.start,n=e.end;n=Hd(t,n,s);var r=s[t],a=s[n];null!==o?(u.push({x:r.x,y:o}),u.push({x:a.x,y:o})):null!==i&&(u.push({x:i,y:r.y}),u.push({x:i,y:a.y}))})),u}(e,t),n.length?new Id({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function Yd(e){return e&&!1!==e.fill}function Kd(e,t,n){var r,i=e[t].fill,a=[t];if(!n)return i;for(;!1!==i&&-1===a.indexOf(i);){if(!Us(i))return i;if(!(r=e[i]))return!1;if(r.visible)return i;a.push(i),i=r.fill}return!1}function Qd(e,t,n){var r=function(e){var t=e.options,n=t.fill,r=Bs(n&&n.target,n);void 0===r&&(r=!!t.backgroundColor);if(!1===r||null===r)return!1;if(!0===r)return"origin";return r}(e);if(Vs(r))return!isNaN(r.value)&&r;var i=parseFloat(r);return Us(i)&&Math.floor(i)===i?function(e,t,n,r){"-"!==e&&"+"!==e||(n=t+n);if(n===t||n<0||n>=r)return!1;return n}(r[0],t,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function Xd(e,t,n){for(var r=[],i=0;i<n.length;i++){var a=Jd(n[i],t,"x"),o=a.first,s=a.last,u=a.point;if(!(!u||o&&s))if(o)r.unshift(u);else if(e.push(u),!s)break}e.push.apply(e,r)}function Jd(e,t,n){var r=e.interpolate(t,n);if(!r)return{};for(var i=r[n],a=e.segments,o=e.points,s=!1,u=!1,c=0;c<a.length;c++){var l=a[c],f=o[l.start][n],h=o[l.end][n];if(Pu(i,f,h)){s=i===f,u=i===h;break}}return{first:s,last:u,point:r}}var Zd=function(){function e(t){Ns(this,e),this.x=t.x,this.y=t.y,this.radius=t.radius}return Rs(e,[{key:"pathSegment",value:function(e,t,n){var r=this.x,i=this.y,a=this.radius;return t=t||{start:0,end:ou},e.arc(r,i,a,t.end,t.start,!0),!n.bounds}},{key:"interpolate",value:function(e){var t=this.x,n=this.y,r=this.radius,i=e.angle;return{x:t+Math.cos(i)*r,y:n+Math.sin(i)*r,angle:i}}}]),e}();function $d(e){var t=e.chart,n=e.fill,r=e.line;if(Us(n))return function(e,t){var n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}(t,n);if("stack"===n)return function(e){var t=e.scale,n=e.index,r=e.line,i=[],a=r.segments,o=r.points,s=function(e,t){for(var n=[],r=e.getMatchingVisibleMetas("line"),i=0;i<r.length;i++){var a=r[i];if(a.index===t)break;a.hidden||n.unshift(a.dataset)}return n}(t,n);s.push(Gd({x:null,y:t.bottom},r));for(var u=0;u<a.length;u++)for(var c=a[u],l=c.start;l<=c.end;l++)Xd(i,o[l],s);return new Id({points:i,options:{}})}(e);if("shape"===n)return!0;var i=function(e){if((e.scale||{}).getPointPositionForValue)return function(e){var t=e.scale,n=e.fill,r=t.options,i=t.getLabels().length,a=r.reverse?t.max:t.min,o=function(e,t,n){return"start"===e?n:"end"===e?t.options.reverse?t.min:t.max:Vs(e)?e.value:t.getBaseValue()}(n,t,a),s=[];if(r.grid.circular){var u=t.getPointPositionForValue(0,a);return new Zd({x:u.x,y:u.y,radius:t.getDistanceFromCenterForValue(o)})}for(var c=0;c<i;++c)s.push(t.getPointPositionForValue(c,o));return s}(e);return function(e){var t=e.scale,n=void 0===t?{}:t,r=function(e,t){var n=null;return"start"===e?n=t.bottom:"end"===e?n=t.top:Vs(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}(e.fill,n);if(Us(r)){var i=n.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}(e)}(e);return i instanceof Zd?i:Gd(i,r)}function em(e,t,n){var r=$d(t),i=t.line,a=t.scale,o=t.axis,s=i.options,u=s.fill,c=s.backgroundColor,l=u||{},f=l.above,h=void 0===f?c:f,d=l.below,m=void 0===d?c:d;r&&i.points.length&&(zc(e,n),function(e,t){var n=t.line,r=t.target,i=t.above,a=t.below,o=t.area,s=t.scale,u=n._loop?"angle":t.axis;e.save(),"x"===u&&a!==i&&(tm(e,r,o.top),nm(e,{line:n,target:r,color:i,scale:s,property:u}),e.restore(),e.save(),tm(e,r,o.bottom));nm(e,{line:n,target:r,color:a,scale:s,property:u}),e.restore()}(e,{line:i,target:r,above:h,below:m,area:n,scale:a,axis:o}),Bc(e))}function tm(e,t,n){var r=t.segments,i=t.points,a=!0,o=!1;e.beginPath();var s,u=Is(r);try{for(u.s();!(s=u.n()).done;){var c=s.value,l=c.start,f=c.end,h=i[l],d=i[Hd(l,f,i)];a?(e.moveTo(h.x,h.y),a=!1):(e.lineTo(h.x,n),e.lineTo(h.x,h.y)),(o=!!t.pathSegment(e,c,{move:o}))?e.closePath():e.lineTo(d.x,n)}}catch(m){u.e(m)}finally{u.f()}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function nm(e,t){var n,r=t.line,i=t.target,a=t.property,o=t.color,s=t.scale,u=function(e,t,n){var r,i=e.segments,a=e.points,o=t.points,s=[],u=Is(i);try{for(u.s();!(r=u.n()).done;){var c=r.value,l=c.start,f=c.end;f=Hd(l,f,a);var h=Wd(n,a[l],a[f],c.loop);if(t.segments){var d,m=Is(Zl(t,h));try{for(m.s();!(d=m.n()).done;){var p,v=d.value,g=Wd(n,o[v.start],o[v.end],v.loop),y=Is(Jl(c,a,g));try{for(y.s();!(p=y.n()).done;){var _=p.value;s.push({source:_,target:v,start:ys({},n,qd(h,g,"start",Math.max)),end:ys({},n,qd(h,g,"end",Math.min))})}}catch(b){y.e(b)}finally{y.f()}}}catch(b){m.e(b)}finally{m.f()}}else s.push({source:c,target:h,start:a[l],end:a[f]})}}catch(b){u.e(b)}finally{u.f()}return s}(r,i,a),c=Is(u);try{for(c.s();!(n=c.n()).done;){var l=n.value,f=l.source,h=l.target,d=l.start,m=l.end,p=f.style,v=(p=void 0===p?{}:p).backgroundColor,g=void 0===v?o:v,y=!0!==i;e.save(),e.fillStyle=g,rm(e,s,y&&Wd(a,d,m)),e.beginPath();var _=!!r.pathSegment(e,f),b=void 0;if(y){_?e.closePath():im(e,i,m,a);var k=!!i.pathSegment(e,h,{move:_,reverse:!0});(b=_&&k)||im(e,i,d,a)}e.closePath(),e.fill(b?"evenodd":"nonzero"),e.restore()}}catch(C){c.e(C)}finally{c.f()}}function rm(e,t,n){var r=t.chart.chartArea,i=r.top,a=r.bottom,o=n||{},s=o.property,u=o.start,c=o.end;"x"===s&&(e.beginPath(),e.rect(u,i,c-u,a-i),e.clip())}function im(e,t,n,r){var i=t.interpolate(n,r);i&&e.lineTo(i.x,i.y)}var am={id:"filler",afterDatasetsUpdate:function(e,t,n){var r,i,a,o,s=(e.data.datasets||[]).length,u=[];for(i=0;i<s;++i)o=null,(a=(r=e.getDatasetMeta(i)).dataset)&&a.options&&a instanceof Id&&(o={visible:e.isDatasetVisible(i),index:i,fill:Qd(a,i,s),chart:e,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=o,u.push(o);for(i=0;i<s;++i)(o=u[i])&&!1!==o.fill&&(o.fill=Kd(u,i,n.propagate))},beforeDraw:function(e,t,n){for(var r="beforeDraw"===n.drawTime,i=e.getSortedVisibleDatasetMetas(),a=e.chartArea,o=i.length-1;o>=0;--o){var s=i[o].$filler;s&&(s.line.updateControlPoints(a,s.axis),r&&s.fill&&em(e.ctx,s,a))}},beforeDatasetsDraw:function(e,t,n){if("beforeDatasetsDraw"===n.drawTime)for(var r=e.getSortedVisibleDatasetMetas(),i=r.length-1;i>=0;--i){var a=r[i].$filler;Yd(a)&&em(e.ctx,a,e.chartArea)}},beforeDatasetDraw:function(e,t,n){var r=t.meta.$filler;Yd(r)&&"beforeDatasetDraw"===n.drawTime&&em(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},om=function(e,t){var n=e.boxHeight,r=void 0===n?t:n,i=e.boxWidth,a=void 0===i?t:i;return e.usePointStyle&&(r=Math.min(r,t),a=e.pointStyleWidth||Math.min(a,t)),{boxWidth:a,boxHeight:r,itemHeight:Math.max(t,r)}},sm=function(e){Ss(n,e);var t=Ps(n);function n(e){var r;return Ns(this,n),(r=t.call(this))._added=!1,r.legendHitBoxes=[],r._hoveredItem=null,r.doughnutMode=!1,r.chart=e.chart,r.options=e.options,r.ctx=e.ctx,r.legendItems=void 0,r.columnSizes=void 0,r.lineWidths=void 0,r.maxHeight=void 0,r.maxWidth=void 0,r.top=void 0,r.bottom=void 0,r.left=void 0,r.right=void 0,r.height=void 0,r.width=void 0,r._margins=void 0,r.position=void 0,r.weight=void 0,r.fullSize=void 0,r}return Rs(n,[{key:"update",value:function(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}},{key:"setDimensions",value:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}},{key:"buildLabels",value:function(){var e=this,t=this.options.labels||{},n=Hs(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter((function(n){return t.filter(n,e.chart.data)}))),t.sort&&(n=n.sort((function(n,r){return t.sort(n,r,e.chart.data)}))),this.options.reverse&&n.reverse(),this.legendItems=n}},{key:"fit",value:function(){var e=this.options,t=this.ctx;if(e.display){var n,r,i=e.labels,a=rl(i.font),o=a.size,s=this._computeTitleHeight(),u=om(i,o),c=u.boxWidth,l=u.itemHeight;t.font=a.string,this.isHorizontal()?(n=this.maxWidth,r=this._fitRows(s,o,c,l)+10):(r=this.maxHeight,n=this._fitCols(s,o,c,l)+10),this.width=Math.min(n,e.maxWidth||this.maxWidth),this.height=Math.min(r,e.maxHeight||this.maxHeight)}else this.width=this.height=0}},{key:"_fitRows",value:function(e,t,n,r){var i=this.ctx,a=this.maxWidth,o=this.options.labels.padding,s=this.legendHitBoxes=[],u=this.lineWidths=[0],c=r+o,l=e;i.textAlign="left",i.textBaseline="middle";var f=-1,h=-c;return this.legendItems.forEach((function(e,d){var m=n+t/2+i.measureText(e.text).width;(0===d||u[u.length-1]+m+2*o>a)&&(l+=c,u[u.length-(d>0?0:1)]=0,h+=c,f++),s[d]={left:0,top:h,row:f,width:m,height:r},u[u.length-1]+=m+o})),l}},{key:"_fitCols",value:function(e,t,n,r){var i=this.ctx,a=this.maxHeight,o=this.options.labels.padding,s=this.legendHitBoxes=[],u=this.columnSizes=[],c=a-e,l=o,f=0,h=0,d=0,m=0;return this.legendItems.forEach((function(e,a){var p=n+t/2+i.measureText(e.text).width;a>0&&h+r+2*o>c&&(l+=f+o,u.push({width:f,height:h}),d+=f+o,m++,f=h=0),s[a]={left:d,top:h,col:m,width:p,height:r},f=Math.max(f,p),h+=r+o})),l+=f,u.push({width:f,height:h}),l}},{key:"adjustHitBoxes",value:function(){if(this.options.display){var e=this._computeTitleHeight(),t=this.legendHitBoxes,n=this.options,r=n.align,i=n.labels.padding,a=Gl(n.rtl,this.left,this.width);if(this.isHorizontal()){var o,s=0,u=Fu(r,this.left+i,this.right-this.lineWidths[s]),c=Is(t);try{for(c.s();!(o=c.n()).done;){var l=o.value;s!==l.row&&(s=l.row,u=Fu(r,this.left+i,this.right-this.lineWidths[s])),l.top+=this.top+e+i,l.left=a.leftForLtr(a.x(u),l.width),u+=l.width+i}}catch(v){c.e(v)}finally{c.f()}}else{var f,h=0,d=Fu(r,this.top+e+i,this.bottom-this.columnSizes[h].height),m=Is(t);try{for(m.s();!(f=m.n()).done;){var p=f.value;p.col!==h&&(h=p.col,d=Fu(r,this.top+e+i,this.bottom-this.columnSizes[h].height)),p.top=d,p.left+=this.left+i,p.left=a.leftForLtr(a.x(p.left),p.width),d+=p.height+i}}catch(v){m.e(v)}finally{m.f()}}}}},{key:"isHorizontal",value:function(){return"top"===this.options.position||"bottom"===this.options.position}},{key:"draw",value:function(){if(this.options.display){var e=this.ctx;zc(e,this),this._draw(),Bc(e)}}},{key:"_draw",value:function(){var e,t=this,n=this.options,r=this.columnSizes,i=this.lineWidths,a=this.ctx,o=n.align,s=n.labels,u=Dc.color,c=Gl(n.rtl,this.left,this.width),l=rl(s.font),f=s.color,h=s.padding,d=l.size,m=d/2;this.drawTitle(),a.textAlign=c.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=l.string;var p=om(s,d),v=p.boxWidth,g=p.boxHeight,y=p.itemHeight,_=this.isHorizontal(),b=this._computeTitleHeight();e=_?{x:Fu(o,this.left+h,this.right-i[0]),y:this.top+h+b,line:0}:{x:this.left+h,y:Fu(o,this.top+b+h,this.bottom-r[0].height),line:0},Yl(this.ctx,n.textDirection);var k=y+h;this.legendItems.forEach((function(p,C){a.strokeStyle=p.fontColor||f,a.fillStyle=p.fontColor||f;var w=a.measureText(p.text).width,x=c.textAlign(p.textAlign||(p.textAlign=s.textAlign)),S=v+m+w,E=e.x,T=e.y;c.setWidth(t.width),_?C>0&&E+S+h>t.right&&(T=e.y+=k,e.line++,E=e.x=Fu(o,t.left+h,t.right-i[e.line])):C>0&&T+k>t.bottom&&(E=e.x=E+r[e.line].width+h,e.line++,T=e.y=Fu(o,t.top+b+h,t.bottom-r[e.line].height)),function(e,t,n){if(!(isNaN(v)||v<=0||isNaN(g)||g<0)){a.save();var r=Bs(n.lineWidth,1);if(a.fillStyle=Bs(n.fillStyle,u),a.lineCap=Bs(n.lineCap,"butt"),a.lineDashOffset=Bs(n.lineDashOffset,0),a.lineJoin=Bs(n.lineJoin,"miter"),a.lineWidth=r,a.strokeStyle=Bs(n.strokeStyle,u),a.setLineDash(Bs(n.lineDash,[])),s.usePointStyle){var i={radius:g*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:r},o=c.xPlus(e,v/2);Vc(a,i,o,t+m,s.pointStyleWidth&&v)}else{var l=t+Math.max((d-g)/2,0),f=c.leftForLtr(e,v),h=tl(n.borderRadius);a.beginPath(),Object.values(h).some((function(e){return 0!==e}))?Kc(a,{x:f,y:l,w:v,h:g,radius:h}):a.rect(f,l,v,g),a.fill(),0!==r&&a.stroke()}a.restore()}}(c.x(E),T,p),E=function(e,t,n,r){return e===(r?"left":"right")?n:"center"===e?(t+n)/2:t}(x,E+v+m,_?E+S:t.right,n.rtl),function(e,t,n){qc(a,n.text,e,t+y/2,l,{strikethrough:n.hidden,textAlign:c.textAlign(n.textAlign)})}(c.x(E),T,p),_?e.x+=S+h:e.y+=k})),Kl(this.ctx,n.textDirection)}},{key:"drawTitle",value:function(){var e=this.options,t=e.title,n=rl(t.font),r=nl(t.padding);if(t.display){var i,a=Gl(e.rtl,this.left,this.width),o=this.ctx,s=t.position,u=n.size/2,c=r.top+u,l=this.left,f=this.width;if(this.isHorizontal())f=Math.max.apply(Math,As(this.lineWidths)),i=this.top+c,l=Fu(e.align,l,this.right-f);else{var h=this.columnSizes.reduce((function(e,t){return Math.max(e,t.height)}),0);i=c+Fu(e.align,this.top,this.bottom-h-e.labels.padding-this._computeTitleHeight())}var d=Fu(s,l,l+f);o.textAlign=a.textAlign(ju(s)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=n.string,qc(o,t.text,d,i,n)}}},{key:"_computeTitleHeight",value:function(){var e=this.options.title,t=rl(e.font),n=nl(e.padding);return e.display?t.lineHeight+n.height:0}},{key:"_getLegendItemAt",value:function(e,t){var n,r,i;if(Pu(e,this.left,this.right)&&Pu(t,this.top,this.bottom))for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(Pu(e,(r=i[n]).left,r.left+r.width)&&Pu(t,r.top,r.top+r.height))return this.legendItems[n];return null}},{key:"handleEvent",value:function(e){var t=this.options;if(function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t)){var n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){var r=this._hoveredItem,i=function(e,t){return null!==e&&null!==t&&e.datasetIndex===t.datasetIndex&&e.index===t.index}(r,n);r&&!i&&Hs(t.onLeave,[e,r,this],this),this._hoveredItem=n,n&&!i&&Hs(t.onHover,[e,n,this],this)}else n&&Hs(t.onClick,[e,n,this],this)}}}]),n}(jf);var um={id:"legend",_element:sm,start:function(e,t,n){var r=e.legend=new sm({ctx:e.ctx,options:n,chart:e});xh(e,r,n),Ch(e,r)},stop:function(e){wh(e,e.legend),delete e.legend},beforeUpdate:function(e,t,n){var r=e.legend;xh(e,r,n),r.options=n},afterUpdate:function(e){var t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent:function(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick:function(e,t,n){var r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:function(e){return e.chart.options.color},boxWidth:40,padding:10,generateLabels:function(e){var t=e.data.datasets,n=e.legend.options.labels,r=n.usePointStyle,i=n.pointStyle,a=n.textAlign,o=n.color;return e._getSortedDatasetMetas().map((function(e){var n=e.controller.getStyle(r?0:void 0),s=nl(n.borderWidth);return{text:t[e.index].label,fillStyle:n.backgroundColor,fontColor:o,hidden:!e.visible,lineCap:n.borderCapStyle,lineDash:n.borderDash,lineDashOffset:n.borderDashOffset,lineJoin:n.borderJoinStyle,lineWidth:(s.width+s.height)/4,strokeStyle:n.borderColor,pointStyle:i||n.pointStyle,rotation:n.rotation,textAlign:a||n.textAlign,borderRadius:0,datasetIndex:e.index}}),this)}},title:{color:function(e){return e.chart.options.color},display:!1,position:"center",text:""}},descriptors:{_scriptable:function(e){return!e.startsWith("on")},labels:{_scriptable:function(e){return!["generateLabels","filter","sort"].includes(e)}}}},cm=function(e){Ss(n,e);var t=Ps(n);function n(e){var r;return Ns(this,n),(r=t.call(this)).chart=e.chart,r.options=e.options,r.ctx=e.ctx,r._padding=void 0,r.top=void 0,r.bottom=void 0,r.left=void 0,r.right=void 0,r.width=void 0,r.height=void 0,r.position=void 0,r.weight=void 0,r.fullSize=void 0,r}return Rs(n,[{key:"update",value:function(e,t){var n=this.options;if(this.left=0,this.top=0,n.display){this.width=this.right=e,this.height=this.bottom=t;var r=Fs(n.text)?n.text.length:1;this._padding=nl(n.padding);var i=r*rl(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}else this.width=this.height=this.right=this.bottom=0}},{key:"isHorizontal",value:function(){var e=this.options.position;return"top"===e||"bottom"===e}},{key:"_drawArgs",value:function(e){var t,n,r,i=this.top,a=this.left,o=this.bottom,s=this.right,u=this.options,c=u.align,l=0;return this.isHorizontal()?(n=Fu(c,a,s),r=i+e,t=s-a):("left"===u.position?(n=a+e,r=Fu(c,o,i),l=-.5*au):(n=s-e,r=Fu(c,i,o),l=.5*au),t=o-i),{titleX:n,titleY:r,maxWidth:t,rotation:l}}},{key:"draw",value:function(){var e=this.ctx,t=this.options;if(t.display){var n=rl(t.font),r=n.lineHeight/2+this._padding.top,i=this._drawArgs(r),a=i.titleX,o=i.titleY,s=i.maxWidth,u=i.rotation;qc(e,t.text,0,0,n,{color:t.color,maxWidth:s,rotation:u,textAlign:ju(t.align),textBaseline:"middle",translation:[a,o]})}}}]),n}(jf);var lm={id:"title",_element:cm,start:function(e,t,n){!function(e,t){var n=new cm({ctx:e.ctx,options:t,chart:e});xh(e,n,t),Ch(e,n),e.titleBlock=n}(e,n)},stop:function(e){var t=e.titleBlock;wh(e,t),delete e.titleBlock},beforeUpdate:function(e,t,n){var r=e.titleBlock;xh(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},fm=new WeakMap,hm={id:"subtitle",start:function(e,t,n){var r=new cm({ctx:e.ctx,options:n,chart:e});xh(e,r,n),Ch(e,r),fm.set(e,r)},stop:function(e){wh(e,fm.get(e)),fm.delete(e)},beforeUpdate:function(e,t,n){var r=fm.get(e);xh(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},dm={average:function(e){if(!e.length)return!1;var t,n,r=0,i=0,a=0;for(t=0,n=e.length;t<n;++t){var o=e[t].element;if(o&&o.hasValue()){var s=o.tooltipPosition();r+=s.x,i+=s.y,++a}}return{x:r/a,y:i/a}},nearest:function(e,t){if(!e.length)return!1;var n,r,i,a=t.x,o=t.y,s=Number.POSITIVE_INFINITY;for(n=0,r=e.length;n<r;++n){var u=e[n].element;if(u&&u.hasValue()){var c=wu(t,u.getCenterPoint());c<s&&(s=c,i=u)}}if(i){var l=i.tooltipPosition();a=l.x,o=l.y}return{x:a,y:o}}};function mm(e,t){return t&&(Fs(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function pm(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function vm(e,t){var n=t.element,r=t.datasetIndex,i=t.index,a=e.getDatasetMeta(r).controller,o=a.getLabelAndValue(i),s=o.label,u=o.value;return{chart:e,label:s,parsed:a.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:u,dataset:a.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function gm(e,t){var n=e.chart.ctx,r=e.body,i=e.footer,a=e.title,o=t.boxWidth,s=t.boxHeight,u=rl(t.bodyFont),c=rl(t.titleFont),l=rl(t.footerFont),f=a.length,h=i.length,d=r.length,m=nl(t.padding),p=m.height,v=0,g=r.reduce((function(e,t){return e+t.before.length+t.lines.length+t.after.length}),0);(g+=e.beforeBody.length+e.afterBody.length,f&&(p+=f*c.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),g)&&(p+=d*(t.displayColors?Math.max(s,u.lineHeight):u.lineHeight)+(g-d)*u.lineHeight+(g-1)*t.bodySpacing);h&&(p+=t.footerMarginTop+h*l.lineHeight+(h-1)*t.footerSpacing);var y=0,_=function(e){v=Math.max(v,n.measureText(e).width+y)};return n.save(),n.font=c.string,qs(e.title,_),n.font=u.string,qs(e.beforeBody.concat(e.afterBody),_),y=t.displayColors?o+2+t.boxPadding:0,qs(r,(function(e){qs(e.before,_),qs(e.lines,_),qs(e.after,_)})),y=0,n.font=l.string,qs(e.footer,_),n.restore(),{width:v+=m.width,height:p}}function ym(e,t,n,r){var i=n.x,a=n.width,o=e.width,s=e.chartArea,u=s.left,c=s.right,l="center";return"center"===r?l=i<=(u+c)/2?"left":"right":i<=a/2?l="left":i>=o-a/2&&(l="right"),function(e,t,n,r){var i=r.x,a=r.width,o=n.caretSize+n.caretPadding;return"left"===e&&i+a+o>t.width||"right"===e&&i-a-o<0||void 0}(l,e,t,n)&&(l="center"),l}function _m(e,t,n){var r=n.yAlign||t.yAlign||function(e,t){var n=t.y,r=t.height;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||ym(e,t,n,r),yAlign:r}}function bm(e,t,n,r){var i=e.caretSize,a=e.caretPadding,o=e.cornerRadius,s=n.xAlign,u=n.yAlign,c=i+a,l=tl(o),f=l.topLeft,h=l.topRight,d=l.bottomLeft,m=l.bottomRight,p=function(e,t){var n=e.x,r=e.width;return"right"===t?n-=r:"center"===t&&(n-=r/2),n}(t,s),v=function(e,t,n){var r=e.y,i=e.height;return"top"===t?r+=n:r-="bottom"===t?i+n:i/2,r}(t,u,c);return"center"===u?"left"===s?p+=c:"right"===s&&(p-=c):"left"===s?p-=Math.max(f,d)+i:"right"===s&&(p+=Math.max(h,m)+i),{x:Tu(p,0,r.width-t.width),y:Tu(v,0,r.height-t.height)}}function km(e,t,n){var r=nl(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-r.right:e.x+r.left}function Cm(e){return mm([],pm(e))}function wm(e,t){var n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}var xm=function(e){Ss(n,e);var t=Ps(n);function n(e){var r;return Ns(this,n),(r=t.call(this)).opacity=0,r._active=[],r._eventPosition=void 0,r._size=void 0,r._cachedAnimations=void 0,r._tooltipItems=[],r.$animations=void 0,r.$context=void 0,r.chart=e.chart||e._chart,r._chart=r.chart,r.options=e.options,r.dataPoints=void 0,r.title=void 0,r.beforeBody=void 0,r.body=void 0,r.afterBody=void 0,r.footer=void 0,r.xAlign=void 0,r.yAlign=void 0,r.x=void 0,r.y=void 0,r.height=void 0,r.width=void 0,r.caretX=void 0,r.caretY=void 0,r.labelColors=void 0,r.labelPointStyles=void 0,r.labelTextColors=void 0,r}return Rs(n,[{key:"initialize",value:function(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}},{key:"_resolveAnimations",value:function(){var e=this._cachedAnimations;if(e)return e;var t=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&t.options.animation&&n.animations,i=new cf(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}},{key:"getContext",value:function(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,al(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}},{key:"getTitle",value:function(e,t){var n=t.callbacks,r=n.beforeTitle.apply(this,[e]),i=n.title.apply(this,[e]),a=n.afterTitle.apply(this,[e]),o=[];return o=mm(o,pm(r)),o=mm(o,pm(i)),o=mm(o,pm(a))}},{key:"getBeforeBody",value:function(e,t){return Cm(t.callbacks.beforeBody.apply(this,[e]))}},{key:"getBody",value:function(e,t){var n=this,r=t.callbacks,i=[];return qs(e,(function(e){var t={before:[],lines:[],after:[]},a=wm(r,e);mm(t.before,pm(a.beforeLabel.call(n,e))),mm(t.lines,a.label.call(n,e)),mm(t.after,pm(a.afterLabel.call(n,e))),i.push(t)})),i}},{key:"getAfterBody",value:function(e,t){return Cm(t.callbacks.afterBody.apply(this,[e]))}},{key:"getFooter",value:function(e,t){var n=t.callbacks,r=n.beforeFooter.apply(this,[e]),i=n.footer.apply(this,[e]),a=n.afterFooter.apply(this,[e]),o=[];return o=mm(o,pm(r)),o=mm(o,pm(i)),o=mm(o,pm(a))}},{key:"_createItems",value:function(e){var t,n,r=this,i=this._active,a=this.chart.data,o=[],s=[],u=[],c=[];for(t=0,n=i.length;t<n;++t)c.push(vm(this.chart,i[t]));return e.filter&&(c=c.filter((function(t,n,r){return e.filter(t,n,r,a)}))),e.itemSort&&(c=c.sort((function(t,n){return e.itemSort(t,n,a)}))),qs(c,(function(t){var n=wm(e.callbacks,t);o.push(n.labelColor.call(r,t)),s.push(n.labelPointStyle.call(r,t)),u.push(n.labelTextColor.call(r,t))})),this.labelColors=o,this.labelPointStyles=s,this.labelTextColors=u,this.dataPoints=c,c}},{key:"update",value:function(e,t){var n,r=this.options.setContext(this.getContext()),i=this._active,a=[];if(i.length){var o=dm[r.position].call(this,i,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);var s=this._size=gm(this,r),u=Object.assign({},o,s),c=_m(this.chart,r,u),l=bm(r,u,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,n={opacity:1,x:l.x,y:l.y,width:s.width,height:s.height,caretX:o.x,caretY:o.y}}else 0!==this.opacity&&(n={opacity:0});this._tooltipItems=a,this.$context=void 0,n&&this._resolveAnimations().update(this,n),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}},{key:"drawCaret",value:function(e,t,n,r){var i=this.getCaretPosition(e,n,r);t.lineTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineTo(i.x3,i.y3)}},{key:"getCaretPosition",value:function(e,t,n){var r,i,a,o,s,u,c=this.xAlign,l=this.yAlign,f=n.caretSize,h=tl(n.cornerRadius),d=h.topLeft,m=h.topRight,p=h.bottomLeft,v=h.bottomRight,g=e.x,y=e.y,_=t.width,b=t.height;return"center"===l?(s=y+b/2,"left"===c?(i=(r=g)-f,o=s+f,u=s-f):(i=(r=g+_)+f,o=s-f,u=s+f),a=r):(i="left"===c?g+Math.max(d,p)+f:"right"===c?g+_-Math.max(m,v)-f:this.caretX,"top"===l?(s=(o=y)-f,r=i-f,a=i+f):(s=(o=y+b)+f,r=i+f,a=i-f),u=o),{x1:r,x2:i,x3:a,y1:o,y2:s,y3:u}}},{key:"drawTitle",value:function(e,t,n){var r,i,a,o=this.title,s=o.length;if(s){var u=Gl(n.rtl,this.x,this.width);for(e.x=km(this,n.titleAlign,n),t.textAlign=u.textAlign(n.titleAlign),t.textBaseline="middle",r=rl(n.titleFont),i=n.titleSpacing,t.fillStyle=n.titleColor,t.font=r.string,a=0;a<s;++a)t.fillText(o[a],u.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+i,a+1===s&&(e.y+=n.titleMarginBottom-i)}}},{key:"_drawColorBox",value:function(e,t,n,r,i){var a=this.labelColors[n],o=this.labelPointStyles[n],s=i.boxHeight,u=i.boxWidth,c=i.boxPadding,l=rl(i.bodyFont),f=km(this,"left",i),h=r.x(f),d=s<l.lineHeight?(l.lineHeight-s)/2:0,m=t.y+d;if(i.usePointStyle){var p={radius:Math.min(u,s)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},v=r.leftForLtr(h,u)+u/2,g=m+s/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,Fc(e,p,v,g),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,Fc(e,p,v,g)}else{e.lineWidth=Vs(a.borderWidth)?Math.max.apply(Math,As(Object.values(a.borderWidth))):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;var y=r.leftForLtr(h,u-c),_=r.leftForLtr(r.xPlus(h,1),u-c-2),b=tl(a.borderRadius);Object.values(b).some((function(e){return 0!==e}))?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Kc(e,{x:y,y:m,w:u,h:s,radius:b}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Kc(e,{x:_,y:m+1,w:u-2,h:s-2,radius:b}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(y,m,u,s),e.strokeRect(y,m,u,s),e.fillStyle=a.backgroundColor,e.fillRect(_,m+1,u-2,s-2))}e.fillStyle=this.labelTextColors[n]}},{key:"drawBody",value:function(e,t,n){var r,i,a,o,s,u,c,l=this.body,f=n.bodySpacing,h=n.bodyAlign,d=n.displayColors,m=n.boxHeight,p=n.boxWidth,v=n.boxPadding,g=rl(n.bodyFont),y=g.lineHeight,_=0,b=Gl(n.rtl,this.x,this.width),k=function(n){t.fillText(n,b.x(e.x+_),e.y+y/2),e.y+=y+f},C=b.textAlign(h);for(t.textAlign=h,t.textBaseline="middle",t.font=g.string,e.x=km(this,C,n),t.fillStyle=n.bodyColor,qs(this.beforeBody,k),_=d&&"right"!==C?"center"===h?p/2+v:p+2+v:0,o=0,u=l.length;o<u;++o){for(r=l[o],i=this.labelTextColors[o],t.fillStyle=i,qs(r.before,k),a=r.lines,d&&a.length&&(this._drawColorBox(t,e,o,b,n),y=Math.max(g.lineHeight,m)),s=0,c=a.length;s<c;++s)k(a[s]),y=g.lineHeight;qs(r.after,k)}_=0,y=g.lineHeight,qs(this.afterBody,k),e.y-=f}},{key:"drawFooter",value:function(e,t,n){var r,i,a=this.footer,o=a.length;if(o){var s=Gl(n.rtl,this.x,this.width);for(e.x=km(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=s.textAlign(n.footerAlign),t.textBaseline="middle",r=rl(n.footerFont),t.fillStyle=n.footerColor,t.font=r.string,i=0;i<o;++i)t.fillText(a[i],s.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+n.footerSpacing}}},{key:"drawBackground",value:function(e,t,n,r){var i=this.xAlign,a=this.yAlign,o=e.x,s=e.y,u=n.width,c=n.height,l=tl(r.cornerRadius),f=l.topLeft,h=l.topRight,d=l.bottomLeft,m=l.bottomRight;t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(o+f,s),"top"===a&&this.drawCaret(e,t,n,r),t.lineTo(o+u-h,s),t.quadraticCurveTo(o+u,s,o+u,s+h),"center"===a&&"right"===i&&this.drawCaret(e,t,n,r),t.lineTo(o+u,s+c-m),t.quadraticCurveTo(o+u,s+c,o+u-m,s+c),"bottom"===a&&this.drawCaret(e,t,n,r),t.lineTo(o+d,s+c),t.quadraticCurveTo(o,s+c,o,s+c-d),"center"===a&&"left"===i&&this.drawCaret(e,t,n,r),t.lineTo(o,s+f),t.quadraticCurveTo(o,s,o+f,s),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}},{key:"_updateAnimationTarget",value:function(e){var t=this.chart,n=this.$animations,r=n&&n.x,i=n&&n.y;if(r||i){var a=dm[e.position].call(this,this._active,this._eventPosition);if(!a)return;var o=this._size=gm(this,e),s=Object.assign({},a,this._size),u=_m(t,e,s),c=bm(e,s,u,t);r._to===c.x&&i._to===c.y||(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,c))}}},{key:"_willRender",value:function(){return!!this.opacity}},{key:"draw",value:function(e){var t=this.options.setContext(this.getContext()),n=this.opacity;if(n){this._updateAnimationTarget(t);var r={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;var a=nl(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,r,t),Yl(e,t.textDirection),i.y+=a.top,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),Kl(e,t.textDirection),e.restore())}}},{key:"getActiveElements",value:function(){return this._active||[]}},{key:"setActiveElements",value:function(e,t){var n=this,r=this._active,i=e.map((function(e){var t=e.datasetIndex,r=e.index,i=n.chart.getDatasetMeta(t);if(!i)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:i.data[r],index:r}})),a=!Gs(r,i),o=this._positionChanged(i,t);(a||o)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}},{key:"handleEvent",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;var r=this.options,i=this._active||[],a=this._getActiveElements(e,i,t,n),o=this._positionChanged(a,e),s=t||!Gs(a,i)||o;return s&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),s}},{key:"_getActiveElements",value:function(e,t,n,r){var i=this.options;if("mouseout"===e.type)return[];if(!r)return t;var a=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&a.reverse(),a}},{key:"_positionChanged",value:function(e,t){var n=this.caretX,r=this.caretY,i=this.options,a=dm[i.position].call(this,e,t);return!1!==a&&(n!==a.x||r!==a.y)}}]),n}(jf);xm.positioners=dm;var Sm={id:"tooltip",_element:xm,positioners:dm,afterInit:function(e,t,n){n&&(e.tooltip=new xm({chart:e,options:n}))},beforeUpdate:function(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset:function(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw:function(e){var t=e.tooltip;if(t&&t._willRender()){var n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",n))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent:function(e,t){if(e.tooltip){var n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:function(e,t){return t.bodyFont.size},boxWidth:function(e,t){return t.bodyFont.size},multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:Os,title:function(e){if(e.length>0){var t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:Os,beforeBody:Os,beforeLabel:Os,label:function(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;var t=e.dataset.label||"";t&&(t+=": ");var n=e.formattedValue;return js(n)||(t+=n),t},labelColor:function(e){var t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor:function(){return this.options.bodyColor},labelPointStyle:function(e){var t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Os,afterBody:Os,beforeFooter:Os,footer:Os,afterFooter:Os}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:function(e){return"filter"!==e&&"itemSort"!==e&&"external"!==e},_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Em=Object.freeze({__proto__:null,Decimation:Bd,Filler:am,Legend:um,SubTitle:hm,Title:lm,Tooltip:Sm});function Tm(e,t,n,r){var i=e.indexOf(t);return-1===i?function(e,t,n,r){return"string"===typeof t?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n}(e,t,n,r):i!==e.lastIndexOf(t)?n:i}var Pm=function(e){Ss(n,e);var t=Ps(n);function n(e){var r;return Ns(this,n),(r=t.call(this,e))._startValue=void 0,r._valueRange=0,r._addedLabels=[],r}return Rs(n,[{key:"init",value:function(e){var t=this._addedLabels;if(t.length){var r,i=this.getLabels(),a=Is(t);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.index,u=o.label;i[s]===u&&i.splice(s,1)}}catch(c){a.e(c)}finally{a.f()}this._addedLabels=[]}xs(Cs(n.prototype),"init",this).call(this,e)}},{key:"parse",value:function(e,t){if(js(e))return null;var n=this.getLabels();return function(e,t){return null===e?null:Tu(Math.round(e),0,t)}(t=isFinite(t)&&n[t]===e?t:Tm(n,e,Bs(t,e),this._addedLabels),n.length-1)}},{key:"determineDataLimits",value:function(){var e=this.getUserBounds(),t=e.minDefined,n=e.maxDefined,r=this.getMinMax(!0),i=r.min,a=r.max;"ticks"===this.options.bounds&&(t||(i=0),n||(a=this.getLabels().length-1)),this.min=i,this.max=a}},{key:"buildTicks",value:function(){var e=this.min,t=this.max,n=this.options.offset,r=[],i=this.getLabels();i=0===e&&t===i.length-1?i:i.slice(e,t+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(var a=e;a<=t;a++)r.push({value:a});return r}},{key:"getLabelForValue",value:function(e){var t=this.getLabels();return e>=0&&e<t.length?t[e]:e}},{key:"configure",value:function(){xs(Cs(n.prototype),"configure",this).call(this),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}},{key:"getPixelForValue",value:function(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}},{key:"getPixelForTick",value:function(e){var t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}},{key:"getValueForPixel",value:function(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}},{key:"getBasePixel",value:function(){return this.bottom}}]),n}(Kf);function Im(e,t){var n,r,i,a,o=[],s=e.bounds,u=e.step,c=e.min,l=e.max,f=e.precision,h=e.count,d=e.maxTicks,m=e.maxDigits,p=e.includeBounds,v=u||1,g=d-1,y=t.min,_=t.max,b=!js(c),k=!js(l),C=!js(h),w=(_-y)/(m+1),x=pu((_-y)/g/v)*v;if(x<1e-14&&!b&&!k)return[{value:y},{value:_}];(a=Math.ceil(_/x)-Math.floor(y/x))>g&&(x=pu(a*x/g/v)*v),js(f)||(n=Math.pow(10,f),x=Math.ceil(x*n)/n),"ticks"===s?(r=Math.floor(y/x)*x,i=Math.ceil(_/x)*x):(r=y,i=_),b&&k&&u&&function(e,t){var n=Math.round(e);return n-t<=e&&n+t>=e}((l-c)/u,x/1e3)?(x=(l-c)/(a=Math.round(Math.min((l-c)/x,d))),r=c,i=l):C?x=((i=k?l:i)-(r=b?c:r))/(a=h-1):a=gu(a=(i-r)/x,Math.round(a),x/1e3)?Math.round(a):Math.ceil(a);var S=Math.max(ku(x),ku(r));n=Math.pow(10,js(f)?S:f),r=Math.round(r*n)/n,i=Math.round(i*n)/n;var E=0;for(b&&(p&&r!==c?(o.push({value:c}),r<c&&E++,gu(Math.round((r+E*x)*n)/n,c,Lm(c,w,e))&&E++):r<c&&E++);E<a;++E)o.push({value:Math.round((r+E*x)*n)/n});return k&&p&&i!==l?o.length&&gu(o[o.length-1].value,l,Lm(l,w,e))?o[o.length-1].value=l:o.push({value:l}):k&&i!==l||o.push({value:i}),o}function Lm(e,t,n){var r=n.horizontal,i=_u(n.minRotation),a=(r?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+e).length;return Math.min(t/a,o)}Pm.id="category",Pm.defaults={ticks:{callback:Pm.prototype.getLabelForValue}};var Am=function(e){Ss(n,e);var t=Ps(n);function n(e){var r;return Ns(this,n),(r=t.call(this,e)).start=void 0,r.end=void 0,r._startValue=void 0,r._endValue=void 0,r._valueRange=0,r}return Rs(n,[{key:"parse",value:function(e,t){return js(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}},{key:"handleTickRangeOptions",value:function(){var e=this.options.beginAtZero,t=this.getUserBounds(),n=t.minDefined,r=t.maxDefined,i=this.min,a=this.max,o=function(e){return i=n?i:e},s=function(e){return a=r?a:e};if(e){var u=mu(i),c=mu(a);u<0&&c<0?s(0):u>0&&c>0&&o(0)}if(i===a){var l=1;(a>=Number.MAX_SAFE_INTEGER||i<=Number.MIN_SAFE_INTEGER)&&(l=Math.abs(.05*a)),s(a+l),e||o(i-l)}this.min=i,this.max=a}},{key:"getTickLimit",value:function(){var e,t=this.options.ticks,n=t.maxTicksLimit,r=t.stepSize;return r?(e=Math.ceil(this.max/r)-Math.floor(this.min/r)+1)>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(r," would result generating up to ").concat(e," ticks. Limiting to 1000.")),e=1e3):(e=this.computeTickLimit(),n=n||11),n&&(e=Math.min(n,e)),e}},{key:"computeTickLimit",value:function(){return Number.POSITIVE_INFINITY}},{key:"buildTicks",value:function(){var e=this.options,t=e.ticks,n=this.getTickLimit(),r=Im({maxTicks:n=Math.max(2,n),bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&yu(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}},{key:"configure",value:function(){var e=this.ticks,t=this.min,r=this.max;if(xs(Cs(n.prototype),"configure",this).call(this),this.options.offset&&e.length){var i=(r-t)/Math.max(e.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}},{key:"getLabelForValue",value:function(e){return ql(e,this.chart.options.locale,this.options.ticks.format)}}]),n}(Kf),Nm=function(e){Ss(n,e);var t=Ps(n);function n(){return Ns(this,n),t.apply(this,arguments)}return Rs(n,[{key:"determineDataLimits",value:function(){var e=this.getMinMax(!0),t=e.min,n=e.max;this.min=Us(t)?t:0,this.max=Us(n)?n:1,this.handleTickRangeOptions()}},{key:"computeTickLimit",value:function(){var e=this.isHorizontal(),t=e?this.width:this.height,n=_u(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/r))}},{key:"getPixelForValue",value:function(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}},{key:"getValueForPixel",value:function(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}]),n}(Am);function Dm(e){return 1===e/Math.pow(10,Math.floor(du(e)))}Nm.id="linear",Nm.defaults={ticks:{callback:Vf.formatters.numeric}};var Rm=function(e){Ss(n,e);var t=Ps(n);function n(e){var r;return Ns(this,n),(r=t.call(this,e)).start=void 0,r.end=void 0,r._startValue=void 0,r._valueRange=0,r}return Rs(n,[{key:"parse",value:function(e,t){var n=Am.prototype.parse.apply(this,[e,t]);if(0!==n)return Us(n)&&n>0?n:null;this._zero=!0}},{key:"determineDataLimits",value:function(){var e=this.getMinMax(!0),t=e.min,n=e.max;this.min=Us(t)?Math.max(0,t):null,this.max=Us(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}},{key:"handleTickRangeOptions",value:function(){var e=this.getUserBounds(),t=e.minDefined,n=e.maxDefined,r=this.min,i=this.max,a=function(e){return r=t?r:e},o=function(e){return i=n?i:e},s=function(e,t){return Math.pow(10,Math.floor(du(e))+t)};r===i&&(r<=0?(a(1),o(10)):(a(s(r,-1)),o(s(i,1)))),r<=0&&a(s(i,-1)),i<=0&&o(s(r,1)),this._zero&&this.min!==this._suggestedMin&&r===s(this.min,0)&&a(s(r,-1)),this.min=r,this.max=i}},{key:"buildTicks",value:function(){var e=this.options,t=function(e,t){var n=Math.floor(du(t.max)),r=Math.ceil(t.max/Math.pow(10,n)),i=[],a=zs(e.min,Math.pow(10,Math.floor(du(t.min)))),o=Math.floor(du(a)),s=Math.floor(a/Math.pow(10,o)),u=o<0?Math.pow(10,Math.abs(o)):1;do{i.push({value:a,major:Dm(a)}),10===++s&&(s=1,u=++o>=0?1:u),a=Math.round(s*Math.pow(10,o)*u)/u}while(o<n||o===n&&s<r);var c=zs(e.max,a);return i.push({value:c,major:Dm(a)}),i}({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&yu(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}},{key:"getLabelForValue",value:function(e){return void 0===e?"0":ql(e,this.chart.options.locale,this.options.ticks.format)}},{key:"configure",value:function(){var e=this.min;xs(Cs(n.prototype),"configure",this).call(this),this._startValue=du(e),this._valueRange=du(this.max)-du(e)}},{key:"getPixelForValue",value:function(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(du(e)-this._startValue)/this._valueRange)}},{key:"getValueForPixel",value:function(e){var t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}]),n}(Kf);function Om(e){var t=e.ticks;if(t.display&&e.display){var n=nl(t.backdropPadding);return Bs(t.font&&t.font.size,Dc.font.size)+n.height}return 0}function Mm(e,t,n,r,i){return e===r||e===i?{start:t-n/2,end:t+n/2}:e<r||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function jm(e){for(var t,n,r,i={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},a=Object.assign({},i),o=[],s=[],u=e._pointLabels.length,c=e.options.pointLabels,l=c.centerPointLabels?au/u:0,f=0;f<u;f++){var h=c.setContext(e.getPointLabelContext(f));s[f]=h.padding;var d=e.getPointPosition(f,e.drawingArea+s[f],l),m=rl(h.font),p=(t=e.ctx,n=m,r=Fs(r=e._pointLabels[f])?r:[r],{w:Oc(t,n.string,r),h:r.length*n.lineHeight});o[f]=p;var v=Su(e.getIndexAngle(f)+l),g=Math.round(bu(v));Fm(a,i,v,Mm(g,d.x,p.w,0,180),Mm(g,d.y,p.h,90,270))}e.setCenterPoint(i.l-a.l,a.r-i.r,i.t-a.t,a.b-i.b),e._pointLabelItems=function(e,t,n){for(var r=[],i=e._pointLabels.length,a=e.options,o=Om(a)/2,s=e.drawingArea,u=a.pointLabels.centerPointLabels?au/i:0,c=0;c<i;c++){var l=e.getPointPosition(c,s+o+n[c],u),f=Math.round(bu(Su(l.angle+lu))),h=t[c],d=zm(l.y,h.h,f),m=Vm(f),p=Um(l.x,h.w,m);r.push({x:l.x,y:d,textAlign:m,left:p,top:d,right:p+h.w,bottom:d+h.h})}return r}(e,o,s)}function Fm(e,t,n,r,i){var a=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n)),s=0,u=0;r.start<t.l?(s=(t.l-r.start)/a,e.l=Math.min(e.l,t.l-s)):r.end>t.r&&(s=(r.end-t.r)/a,e.r=Math.max(e.r,t.r+s)),i.start<t.t?(u=(t.t-i.start)/o,e.t=Math.min(e.t,t.t-u)):i.end>t.b&&(u=(i.end-t.b)/o,e.b=Math.max(e.b,t.b+u))}function Vm(e){return 0===e||180===e?"center":e<180?"left":"right"}function Um(e,t,n){return"right"===n?e-=t:"center"===n&&(e-=t/2),e}function zm(e,t,n){return 90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t),e}function Bm(e,t,n,r){var i=e.ctx;if(n)i.arc(e.xCenter,e.yCenter,t,0,ou);else{var a=e.getPointPosition(0,t);i.moveTo(a.x,a.y);for(var o=1;o<r;o++)a=e.getPointPosition(o,t),i.lineTo(a.x,a.y)}}Rm.id="logarithmic",Rm.defaults={ticks:{callback:Vf.formatters.logarithmic,major:{enabled:!0}}};var Wm=function(e){Ss(n,e);var t=Ps(n);function n(e){var r;return Ns(this,n),(r=t.call(this,e)).xCenter=void 0,r.yCenter=void 0,r.drawingArea=void 0,r._pointLabels=[],r._pointLabelItems=[],r}return Rs(n,[{key:"setDimensions",value:function(){var e=this._padding=nl(Om(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}},{key:"determineDataLimits",value:function(){var e=this.getMinMax(!1),t=e.min,n=e.max;this.min=Us(t)&&!isNaN(t)?t:0,this.max=Us(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}},{key:"computeTickLimit",value:function(){return Math.ceil(this.drawingArea/Om(this.options))}},{key:"generateTickLabels",value:function(e){var t=this;Am.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((function(e,n){var r=Hs(t.options.pointLabels.callback,[e,n],t);return r||0===r?r:""})).filter((function(e,n){return t.chart.getDataVisibility(n)}))}},{key:"fit",value:function(){var e=this.options;e.display&&e.pointLabels.display?jm(this):this.setCenterPoint(0,0,0,0)}},{key:"setCenterPoint",value:function(e,t,n,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,r))}},{key:"getIndexAngle",value:function(e){return Su(e*(ou/(this._pointLabels.length||1))+_u(this.options.startAngle||0))}},{key:"getDistanceFromCenterForValue",value:function(e){if(js(e))return NaN;var t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}},{key:"getValueForDistanceFromCenter",value:function(e){if(js(e))return NaN;var t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}},{key:"getPointLabelContext",value:function(e){var t=this._pointLabels||[];if(e>=0&&e<t.length){var n=t[e];return function(e,t,n){return al(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}},{key:"getPointPosition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.getIndexAngle(e)-lu+n;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}},{key:"getPointPositionForValue",value:function(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}},{key:"getBasePosition",value:function(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}},{key:"getPointLabelPosition",value:function(e){var t=this._pointLabelItems[e];return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}},{key:"drawBackground",value:function(){var e=this.options,t=e.backgroundColor,n=e.grid.circular;if(t){var r=this.ctx;r.save(),r.beginPath(),Bm(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=t,r.fill(),r.restore()}}},{key:"drawGrid",value:function(){var e,t,n,r=this,i=this.ctx,a=this.options,o=a.angleLines,s=a.grid,u=this._pointLabels.length;if(a.pointLabels.display&&function(e,t){for(var n=e.ctx,r=e.options.pointLabels,i=t-1;i>=0;i--){var a=r.setContext(e.getPointLabelContext(i)),o=rl(a.font),s=e._pointLabelItems[i],u=s.x,c=s.y,l=s.textAlign,f=s.left,h=s.top,d=s.right,m=s.bottom,p=a.backdropColor;if(!js(p)){var v=tl(a.borderRadius),g=nl(a.backdropPadding);n.fillStyle=p;var y=f-g.left,_=h-g.top,b=d-f+g.width,k=m-h+g.height;Object.values(v).some((function(e){return 0!==e}))?(n.beginPath(),Kc(n,{x:y,y:_,w:b,h:k,radius:v}),n.fill()):n.fillRect(y,_,b,k)}qc(n,e._pointLabels[i],u,c+o.lineHeight/2,o,{color:a.color,textAlign:l,textBaseline:"middle"})}}(this,u),s.display&&this.ticks.forEach((function(e,n){if(0!==n){t=r.getDistanceFromCenterForValue(e.value);var i=s.setContext(r.getContext(n-1));!function(e,t,n,r){var i=e.ctx,a=t.circular,o=t.color,s=t.lineWidth;!a&&!r||!o||!s||n<0||(i.save(),i.strokeStyle=o,i.lineWidth=s,i.setLineDash(t.borderDash),i.lineDashOffset=t.borderDashOffset,i.beginPath(),Bm(e,n,a,r),i.closePath(),i.stroke(),i.restore())}(r,i,t,u)}})),o.display){for(i.save(),e=u-1;e>=0;e--){var c=o.setContext(this.getPointLabelContext(e)),l=c.color,f=c.lineWidth;f&&l&&(i.lineWidth=f,i.strokeStyle=l,i.setLineDash(c.borderDash),i.lineDashOffset=c.borderDashOffset,t=this.getDistanceFromCenterForValue(a.ticks.reverse?this.min:this.max),n=this.getPointPosition(e,t),i.beginPath(),i.moveTo(this.xCenter,this.yCenter),i.lineTo(n.x,n.y),i.stroke())}i.restore()}}},{key:"drawBorder",value:function(){}},{key:"drawLabels",value:function(){var e=this,t=this.ctx,n=this.options,r=n.ticks;if(r.display){var i,a,o=this.getIndexAngle(0);t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(o),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((function(o,s){if(0!==s||n.reverse){var u=r.setContext(e.getContext(s)),c=rl(u.font);if(i=e.getDistanceFromCenterForValue(e.ticks[s].value),u.showLabelBackdrop){t.font=c.string,a=t.measureText(o.label).width,t.fillStyle=u.backdropColor;var l=nl(u.backdropPadding);t.fillRect(-a/2-l.left,-i-c.size/2-l.top,a+l.width,c.size+l.height)}qc(t,o.label,0,-i,c,{color:u.color})}})),t.restore()}}},{key:"drawTitle",value:function(){}}]),n}(Am);Wm.id="radialLinear",Wm.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Vf.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:function(e){return e},padding:5,centerPointLabels:!1}},Wm.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},Wm.descriptors={angleLines:{_fallback:"grid"}};var Hm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},qm=Object.keys(Hm);function Gm(e,t){return e-t}function Ym(e,t){if(js(t))return null;var n=e._adapter,r=e._parseOpts,i=r.parser,a=r.round,o=r.isoWeekday,s=t;return"function"===typeof i&&(s=i(s)),Us(s)||(s="string"===typeof i?n.parse(s,i):n.parse(s)),null===s?null:(a&&(s="week"!==a||!vu(o)&&!0!==o?n.startOf(s,a):n.startOf(s,"isoWeek",o)),+s)}function Km(e,t,n,r){for(var i=qm.length,a=qm.indexOf(e);a<i-1;++a){var o=Hm[qm[a]],s=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(s*o.size))<=r)return qm[a]}return qm[i-1]}function Qm(e,t,n){if(n){if(n.length){var r=Iu(n,t),i=r.lo,a=r.hi;e[n[i]>=t?n[i]:n[a]]=!0}}else e[t]=!0}function Xm(e,t,n){var r,i,a=[],o={},s=t.length;for(r=0;r<s;++r)o[i=t[r]]=r,a.push({value:i,major:!1});return 0!==s&&n?function(e,t,n,r){var i,a,o=e._adapter,s=+o.startOf(t[0].value,r),u=t[t.length-1].value;for(i=s;i<=u;i=+o.add(i,1,r))(a=n[i])>=0&&(t[a].major=!0);return t}(e,a,o,n):a}var Jm=function(e){Ss(n,e);var t=Ps(n);function n(e){var r;return Ns(this,n),(r=t.call(this,e))._cache={data:[],labels:[],all:[]},r._unit="day",r._majorUnit=void 0,r._offsets={},r._normalized=!1,r._parseOpts=void 0,r}return Rs(n,[{key:"init",value:function(e,t){var r=e.time||(e.time={}),i=this._adapter=new nh._date(e.adapters.date);i.init(t),Js(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},xs(Cs(n.prototype),"init",this).call(this,e),this._normalized=t.normalized}},{key:"parse",value:function(e,t){return void 0===e?null:Ym(this,e)}},{key:"beforeLayout",value:function(){xs(Cs(n.prototype),"beforeLayout",this).call(this),this._cache={data:[],labels:[],all:[]}}},{key:"determineDataLimits",value:function(){var e=this.options,t=this._adapter,n=e.time.unit||"day",r=this.getUserBounds(),i=r.min,a=r.max,o=r.minDefined,s=r.maxDefined;function u(e){o||isNaN(e.min)||(i=Math.min(i,e.min)),s||isNaN(e.max)||(a=Math.max(a,e.max))}o&&s||(u(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||u(this.getMinMax(!1))),i=Us(i)&&!isNaN(i)?i:+t.startOf(Date.now(),n),a=Us(a)&&!isNaN(a)?a:+t.endOf(Date.now(),n)+1,this.min=Math.min(i,a-1),this.max=Math.max(i+1,a)}},{key:"_getLabelBounds",value:function(){var e=this.getLabelTimestamps(),t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}},{key:"buildTicks",value:function(){var e=this.options,t=e.time,n=e.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);var i=this.min,a=function(e,t,n){for(var r=0,i=e.length;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e}(r,i,this.max);return this._unit=t.unit||(n.autoSkip?Km(t.minUnit,this.min,this.max,this._getLabelCapacity(i)):function(e,t,n,r,i){for(var a=qm.length-1;a>=qm.indexOf(n);a--){var o=qm[a];if(Hm[o].common&&e._adapter.diff(i,r,o)>=t-1)return o}return qm[n?qm.indexOf(n):0]}(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(var t=qm.indexOf(e)+1,n=qm.length;t<n;++t)if(Hm[qm[t]].common)return qm[t]}(this._unit):void 0,this.initOffsets(r),e.reverse&&a.reverse(),Xm(this,a,this._majorUnit)}},{key:"afterAutoSkip",value:function(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((function(e){return+e.value})))}},{key:"initOffsets",value:function(e){var t,n,r=0,i=0;this.options.offset&&e.length&&(t=this.getDecimalForValue(e[0]),r=1===e.length?1-t:(this.getDecimalForValue(e[1])-t)/2,n=this.getDecimalForValue(e[e.length-1]),i=1===e.length?n:(n-this.getDecimalForValue(e[e.length-2]))/2);var a=e.length<3?.5:.25;r=Tu(r,0,a),i=Tu(i,0,a),this._offsets={start:r,end:i,factor:1/(r+1+i)}}},{key:"_generate",value:function(){var e,t,n=this._adapter,r=this.min,i=this.max,a=this.options,o=a.time,s=o.unit||Km(o.minUnit,r,i,this._getLabelCapacity(r)),u=Bs(o.stepSize,1),c="week"===s&&o.isoWeekday,l=vu(c)||!0===c,f={},h=r;if(l&&(h=+n.startOf(h,"isoWeek",c)),h=+n.startOf(h,l?"day":s),n.diff(i,r,s)>1e5*u)throw new Error(r+" and "+i+" are too far apart with stepSize of "+u+" "+s);var d="data"===a.ticks.source&&this.getDataTimestamps();for(e=h,t=0;e<i;e=+n.add(e,u,s),t++)Qm(f,e,d);return e!==i&&"ticks"!==a.bounds&&1!==t||Qm(f,e,d),Object.keys(f).sort((function(e,t){return e-t})).map((function(e){return+e}))}},{key:"getLabelForValue",value:function(e){var t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}},{key:"_tickFormatFunction",value:function(e,t,n,r){var i=this.options,a=i.time.displayFormats,o=this._unit,s=this._majorUnit,u=o&&a[o],c=s&&a[s],l=n[t],f=s&&c&&l&&l.major,h=this._adapter.format(e,r||(f?c:u)),d=i.ticks.callback;return d?Hs(d,[h,t,n],this):h}},{key:"generateTickLabels",value:function(e){var t,n,r;for(t=0,n=e.length;t<n;++t)(r=e[t]).label=this._tickFormatFunction(r.value,t,e)}},{key:"getDecimalForValue",value:function(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}},{key:"getPixelForValue",value:function(e){var t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}},{key:"getValueForPixel",value:function(e){var t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}},{key:"_getLabelSize",value:function(e){var t=this.options.ticks,n=this.ctx.measureText(e).width,r=_u(this.isHorizontal()?t.maxRotation:t.minRotation),i=Math.cos(r),a=Math.sin(r),o=this._resolveTickFontOptions(0).size;return{w:n*i+o*a,h:n*a+o*i}}},{key:"_getLabelCapacity",value:function(e){var t=this.options.time,n=t.displayFormats,r=n[t.unit]||n.millisecond,i=this._tickFormatFunction(e,0,Xm(this,[e],this._majorUnit),r),a=this._getLabelSize(i),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}},{key:"getDataTimestamps",value:function(){var e,t,n=this._cache.data||[];if(n.length)return n;var r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,t=r.length;e<t;++e)n=n.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}},{key:"getLabelTimestamps",value:function(){var e,t,n=this._cache.labels||[];if(n.length)return n;var r=this.getLabels();for(e=0,t=r.length;e<t;++e)n.push(Ym(this,r[e]));return this._cache.labels=this._normalized?n:this.normalize(n)}},{key:"normalize",value:function(e){return Ru(e.sort(Gm))}}]),n}(Kf);function Zm(e,t,n){var r,i,a,o,s=0,u=e.length-1;if(n){if(t>=e[s].pos&&t<=e[u].pos){var c=Lu(e,"pos",t);s=c.lo,u=c.hi}var l=e[s];r=l.pos,a=l.time;var f=e[u];i=f.pos,o=f.time}else{if(t>=e[s].time&&t<=e[u].time){var h=Lu(e,"time",t);s=h.lo,u=h.hi}var d=e[s];r=d.time,a=d.pos;var m=e[u];i=m.time,o=m.pos}var p=i-r;return p?a+(o-a)*(t-r)/p:a}Jm.id="time",Jm.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};var $m=function(e){Ss(n,e);var t=Ps(n);function n(e){var r;return Ns(this,n),(r=t.call(this,e))._table=[],r._minPos=void 0,r._tableRange=void 0,r}return Rs(n,[{key:"initOffsets",value:function(){var e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Zm(t,this.min),this._tableRange=Zm(t,this.max)-this._minPos,xs(Cs(n.prototype),"initOffsets",this).call(this,e)}},{key:"buildLookupTable",value:function(e){var t,n,r,i,a,o=this.min,s=this.max,u=[],c=[];for(t=0,n=e.length;t<n;++t)(i=e[t])>=o&&i<=s&&u.push(i);if(u.length<2)return[{time:o,pos:0},{time:s,pos:1}];for(t=0,n=u.length;t<n;++t)a=u[t+1],r=u[t-1],i=u[t],Math.round((a+r)/2)!==i&&c.push({time:i,pos:t/(n-1)});return c}},{key:"_getTimestampsForTable",value:function(){var e=this._cache.all||[];if(e.length)return e;var t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e}},{key:"getDecimalForValue",value:function(e){return(Zm(this._table,e)-this._minPos)/this._tableRange}},{key:"getValueForPixel",value:function(e){var t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return Zm(this._table,n*this._tableRange+this._minPos,!0)}}]),n}(Jm);$m.id="timeseries",$m.defaults=Jm.defaults;var ep=[$f,Vd,Em,Object.freeze({__proto__:null,CategoryScale:Pm,LinearScale:Nm,LogarithmicScale:Rm,RadialLinearScale:Wm,TimeScale:Jm,TimeSeriesScale:$m})],tp=["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"],np="label";function rp(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function ip(e,t){e.labels=t}function ap(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:np,r=[];e.datasets=t.map((function(t){var i=e.datasets.find((function(e){return e[n]===t[n]}));return i&&t.data&&!r.includes(i)?(r.push(i),Object.assign(i,t),i):bs({},t)}))}function op(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:np,n={labels:[],datasets:[]};return ip(n,e.labels),ap(n,e.datasets,t),n}function sp(e,t){var n=e.height,i=void 0===n?150:n,a=e.width,o=void 0===a?300:a,s=e.redraw,u=void 0!==s&&s,c=e.datasetIdKey,l=e.type,f=e.data,h=e.options,d=e.plugins,m=void 0===d?[]:d,p=e.fallbackContent,v=e.updateMode,g=function(e,t){if(null==e)return{};var n,r,i=Rr(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,tp),y=(0,r.useRef)(null),_=(0,r.useRef)(),b=function(){y.current&&(_.current=new hd(y.current,{type:l,data:op(f,c),options:h&&bs({},h),plugins:m}),rp(t,_.current))},k=function(){rp(t,null),_.current&&(_.current.destroy(),_.current=null)};return(0,r.useEffect)((function(){var e,t;!u&&_.current&&h&&(e=_.current,t=h,Object.assign(e.options,t))}),[u,h]),(0,r.useEffect)((function(){!u&&_.current&&ip(_.current.config.data,f.labels)}),[u,f.labels]),(0,r.useEffect)((function(){!u&&_.current&&f.datasets&&ap(_.current.config.data,f.datasets,c)}),[u,f.datasets]),(0,r.useEffect)((function(){_.current&&(u?(k(),setTimeout(b)):_.current.update(v))}),[u,h,f.labels,f.datasets,v]),(0,r.useEffect)((function(){_.current&&(k(),setTimeout(b))}),[l]),(0,r.useEffect)((function(){return b(),function(){return k()}}),[]),r.createElement("canvas",Object.assign({ref:y,role:"img",height:i,width:o},g),p)}var up=(0,r.forwardRef)(sp);function cp(e,t){return hd.register(t),(0,r.forwardRef)((function(t,n){return r.createElement(up,Object.assign({},t,{ref:n,type:e}))}))}var lp=cp("bar",Lf);hd.register.apply(hd,As(ep));hd.defaults.datasets.bar.maxBarThickness=85;var fp={plugins:{title:{display:!0}},responsive:!0,scales:{x:{title:{display:!0},labels:["Apr","May","Jun","Jul","Aug","Sep"]},y:{title:{display:!0},ticks:{beginAtZero:!0,min:0,max:3e5,stepSize:15e4}}}},hp=function(e){var t=e.chartData;return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(lp,{options:fp,data:t})})},dp=[{Date:"01/04/2023",Loans_Purchased:2418.97969922648,Credit_Cards_Purchased:1758.87761279805,Total:4177.857312},{Date:"01/05/2023",Loans_Purchased:2336.237118521,Credit_Cards_Purchased:1990.47545902851,Total:4326.712578},{Date:"01/06/2023",Loans_Purchased:2239.36018489106,Credit_Cards_Purchased:1658.98330789267,Total:3898.343493},{Date:"01/07/2023",Loans_Purchased:2127.75771377752,Credit_Cards_Purchased:1578.73026066325,Total:3706.487974},{Date:"01/08/2023",Loans_Purchased:2000.83852062128,Credit_Cards_Purchased:1377.11683395079,Total:3377.955355},{Date:"01/09/2023",Loans_Purchased:1858.01142086321,Credit_Cards_Purchased:1224.62738697211,Total:3082.638808}],mp=function(){var e=(0,r.useState)({datasets:[{label:"Total",data:dp.map((function(e){return e.Total})),backgroundColor:["#BCEAD5"],order:2,type:"line",borderColor:["#B9E0FF","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:8}]}),t=c(e,1)[0];return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"head",children:(0,l.jsx)("h3",{children:"Senior Manager"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)(ps,{}),(0,l.jsx)("div",{className:"chart-flex",children:(0,l.jsx)("div",{className:"chart-wrapper-bg w-96",children:(0,l.jsxs)("div",{className:"chart-wrapper w-50",children:[(0,l.jsx)("h3",{children:"Sales Forecast Chart"}),(0,l.jsx)(hp,{chartData:t})]})})})]})]})},pp=[{Product:"Product 1",Campaigns:"Email Campaign 2",Success_rate:13,Churn_rate:2},{Product:"Product 1",Campaigns:"Phone Call",Success_rate:10,Churn_rate:10},{Product:"Product 1",Campaigns:"Email Campaign 1 and 2",Success_rate:12,Churn_rate:8},{Product:"Product 1",Campaigns:"Email Campaign 1 and Phone Call",Success_rate:8,Churn_rate:5},{Product:"Product 1",Campaigns:"Email Campaign 2 and Phone Call",Success_rate:7,Churn_rate:4},{Product:"Product 1",Campaigns:"All Channels",Success_rate:12,Churn_rate:7},{Product:"Product 1 Product 2",Campaigns:"Email Campaign 1",Success_rate:11,Churn_rate:4},{Product:"Product 1 Product 2",Campaigns:"Email Campaign 2",Success_rate:14,Churn_rate:8},{Product:"Product 1 Product 2",Campaigns:"Phone Call",Success_rate:7,Churn_rate:2},{Product:"Product 1 Product 2",Campaigns:"Email Campaign 1 and 2",Success_rate:6,Churn_rate:6},{Product:"Product 1 Product 2",Campaigns:"Email Campaign 1 and Phone Call",Success_rate:6,Churn_rate:6},{Product:"Product 1 Product 2",Campaigns:"Email Campaign 2 and Phone Call",Success_rate:9,Churn_rate:4},{Product:"Product 1 Product 2",Campaigns:"All Channels",Success_rate:6,Churn_rate:5},{Product:"Product 2",Campaigns:"Email Campaign 1",Success_rate:9,Churn_rate:3},{Product:"Product 2",Campaigns:"Email Campaign 2",Success_rate:15,Churn_rate:9},{Product:"Product 2",Campaigns:"Phone Call",Success_rate:5,Churn_rate:3},{Product:"Product 2",Campaigns:"Email Campaign 1 and 2",Success_rate:15,Churn_rate:3},{Product:"Product 2",Campaigns:"Email Campaign 1 and Phone Call",Success_rate:14,Churn_rate:3},{Product:"Product 2",Campaigns:"Email Campaign 2 and Phone Call",Success_rate:13,Churn_rate:9},{Product:"Product 2",Campaigns:"All Channels",Success_rate:11,Churn_rate:6},{Product:"Product 2 Product 1",Campaigns:"Email Campaign 1",Success_rate:5,Churn_rate:8},{Product:"Product 2 Product 1",Campaigns:"Email Campaign 2",Success_rate:14,Churn_rate:5},{Product:"Product 2 Product 1",Campaigns:"Phone Call",Success_rate:8,Churn_rate:3},{Product:"Product 2 Product 1",Campaigns:"Email Campaign 1 and 2",Success_rate:11,Churn_rate:8},{Product:"Product 2 Product 1",Campaigns:"Email Campaign 1 and Phone Call",Success_rate:8,Churn_rate:3},{Product:"Product 2 Product 1",Campaigns:"Email Campaign 2 and Phone Call",Success_rate:5,Churn_rate:3},{Product:"Product 2 Product 1",Campaigns:"All Channels",Success_rate:8,Churn_rate:2}],vp=function(){return(0,l.jsxs)("table",{className:"white-bg",children:[(0,l.jsxs)("thead",{children:[(0,l.jsx)("th",{children:"S.No"}),(0,l.jsx)("th",{children:"Campaign"}),(0,l.jsx)("th",{children:"Recommended Product"}),(0,l.jsx)("th",{children:"Recommended Customer Segment"}),(0,l.jsx)("th",{children:"Marketing Fatigue"}),(0,l.jsx)("th",{children:"Effect"}),(0,l.jsx)("th",{children:"Success Rate"}),(0,l.jsx)("th",{children:"Rank"})]}),(0,l.jsx)("tbody",{children:pp&&pp.map((function(e,t){return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{}),(0,l.jsx)("td",{children:"Email Camp 1"}),(0,l.jsx)("td",{children:"Product 1"}),(0,l.jsx)("td",{children:"50%"}),(0,l.jsx)("td",{children:"Segment 2"}),(0,l.jsx)("td",{children:"3"}),(0,l.jsx)("td",{children:"12%"}),(0,l.jsx)("td",{children:"1"})]},t)}))})]})},gp=function(){new Intl.NumberFormat("en",{style:"decimal",signDisplay:"never",useGrouping:!0,notation:"compact"});return(0,l.jsx)("ul",{className:"data-box",children:(0,l.jsxs)("li",{className:"purple",children:[(0,l.jsx)("h3",{children:"Total Active Campaign"}),(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"line light-p",children:(0,l.jsx)("h2",{className:"flipX",children:"7"})})})]})})},yp=[{id:1,Month:"MAY",product_list:"product1, product2, product 1 & 2, product 2 & 1",email_campaign1:488390,email_campaign2:135429,phone_call:213698,email_campaign1_and_2:474367,email_campaign1_and_phone_call:207024,email_campaign2_and_phone_call:35177,all_channels:222270},{id:2,Month:"JUN",product_list:"product1, product2, product 1 & 2, product 2 & 1",email_campaign1:182300,email_campaign2:153487,phone_call:433004,email_campaign1_and_2:258563,email_campaign1_and_phone_call:153612,email_campaign2_and_phone_call:171453,all_channels:88467},{id:3,Month:"JUL",product_list:"product1, product2, product 1 & 2, product 2 & 1",email_campaign1:343281,email_campaign2:321199,phone_call:134548,email_campaign1_and_2:497914,email_campaign1_and_phone_call:421222,email_campaign2_and_phone_call:267232,all_channels:147275},{id:4,Month:"AUG",product_list:"product1, product2, product 1 & 2, product 2 & 1",email_campaign1:83603,email_campaign2:424429,phone_call:112447,email_campaign1_and_2:222362,email_campaign1_and_phone_call:311752,email_campaign2_and_phone_call:425302,all_channels:309085},{id:5,Month:"SEP",product_list:"product1, product2, product 1 & 2, product 2 & 1",email_campaign1:78670,email_campaign2:73681,phone_call:421353,email_campaign1_and_2:342947,email_campaign1_and_phone_call:327714,email_campaign2_and_phone_call:308391,all_channels:385981},{id:6,Month:"OCT",product_list:"product1, product2, product 1 & 2, product 2 & 1",email_campaign1:239096,email_campaign2:293403,phone_call:87013,email_campaign1_and_2:94741,email_campaign1_and_phone_call:119053,email_campaign2_and_phone_call:380004,all_channels:56383}],_p=[{Month:"MONTH 1: p1",product_list:"product1",email_campaign1:125675,email_campaign2:24581,phone_call:57389,email_campaign1_and_2:121945,email_campaign1_and_phone_call:51057,email_campaign2_and_phone_call:13358,all_channels:59126},{Month:"MONTH 2: p1",product_list:"product1",email_campaign1:45787,email_campaign2:29157,phone_call:101002,email_campaign1_and_2:45420,email_campaign1_and_phone_call:11501,email_campaign2_and_phone_call:30909,all_channels:10610},{Month:"MONTH 3: p1",product_list:"product1",email_campaign1:89154,email_campaign2:114729,phone_call:48949,email_campaign1_and_2:121216,email_campaign1_and_phone_call:110771,email_campaign2_and_phone_call:66738,all_channels:38394},{Month:"MONTH 4: p1",product_list:"product1",email_campaign1:28758,email_campaign2:106986,phone_call:"26000",email_campaign1_and_2:57125,email_campaign1_and_phone_call:77337,email_campaign2_and_phone_call:93785,all_channels:72407},{Month:"MONTH 5: p1",product_list:"product1",email_campaign1:21387,email_campaign2:18788,phone_call:100653,email_campaign1_and_2:74550,email_campaign1_and_phone_call:78800,email_campaign2_and_phone_call:79175,all_channels:96962},{Month:"MONTH 6: p1",product_list:"product1",email_campaign1:63095,email_campaign2:81882,phone_call:13913,email_campaign1_and_2:25307,email_campaign1_and_phone_call:35539,email_campaign2_and_phone_call:98842,all_channels:11591}],bp=[{Month:"MONTH 1: p2",product_list:"product2",email_campaign1:120778,email_campaign2:36584,phone_call:50006,email_campaign1_and_2:126180,email_campaign1_and_phone_call:50853,email_campaign2_and_phone_call:1813,all_channels:57708},{Month:"MONTH 2: p2",product_list:"product2",email_campaign1:44749,email_campaign2:31251,phone_call:109889,email_campaign1_and_2:46898,email_campaign1_and_phone_call:21826,email_campaign2_and_phone_call:33862,all_channels:19094},{Month:"MONTH 3: p2",product_list:"product2",email_campaign1:82125,email_campaign2:61556,phone_call:47281,email_campaign1_and_2:126960,email_campaign1_and_phone_call:101668,email_campaign2_and_phone_call:67033,all_channels:37922},{Month:"MONTH 4: p2",product_list:"product2",email_campaign1:14375,email_campaign2:100014,phone_call:27941,email_campaign1_and_2:54740,email_campaign1_and_phone_call:77602,email_campaign2_and_phone_call:111085,all_channels:79157},{Month:"MONTH 5: p2",product_list:"product2",email_campaign1:15788,email_campaign2:17498,phone_call:101481,email_campaign1_and_2:78065,email_campaign1_and_phone_call:77971,email_campaign2_and_phone_call:77169,all_channels:90190},{Month:"MONTH 6 p2",product_list:"product2",email_campaign1:53636,email_campaign2:93528,phone_call:25251,email_campaign1_and_2:21453,email_campaign1_and_phone_call:28340,email_campaign2_and_phone_call:94373,all_channels:12203}],kp=[{Month:"MONTH 1: p1&p2",product_list:"product1|product2",email_campaign1:120817,email_campaign2:40840,phone_call:50832,email_campaign1_and_2:115610,email_campaign1_and_phone_call:51031,email_campaign2_and_phone_call:12464,all_channels:52821},{Month:"MONTH 2: p1&p2",product_list:"product1|product2",email_campaign1:42769,email_campaign2:39780,phone_call:118490,email_campaign1_and_2:48824,email_campaign1_and_phone_call:10023,email_campaign2_and_phone_call:36971,all_channels:19039},{Month:"MONTH 3: p1&p2",product_list:"product1|product2",email_campaign1:87480,email_campaign2:88778,phone_call:22592,email_campaign1_and_2:126811,email_campaign1_and_phone_call:104333,email_campaign2_and_phone_call:81722,all_channels:36081},{Month:"MONTH 4: p1&p2",product_list:"product1|product2",email_campaign1:24956,email_campaign2:114263,phone_call:38736,email_campaign1_and_2:54420,email_campaign1_and_phone_call:77050,email_campaign2_and_phone_call:118477,all_channels:78237},{Month:"MONTH 5: p1&p2",product_list:"product1|product2",email_campaign1:18996,email_campaign2:19558,phone_call:107427,email_campaign1_and_2:96473,email_campaign1_and_phone_call:92064,email_campaign2_and_phone_call:77853,all_channels:99940},{Month:"MONTH 6: p1&p2",product_list:"product1|product2",email_campaign1:65662,email_campaign2:58188,phone_call:18112,email_campaign1_and_2:24962,email_campaign1_and_phone_call:23292,email_campaign2_and_phone_call:94878,all_channels:13135}],Cp=[{Month:"MONTH 1: p2 & p1",product_list:"product2|product1",email_campaign1:121120,email_campaign2:33424,phone_call:55471,email_campaign1_and_2:110632,email_campaign1_and_phone_call:54083,email_campaign2_and_phone_call:7542,all_channels:52615},{Month:"MONTH 2: p2 & p1",product_list:"product2|product1",email_campaign1:48995,email_campaign2:53299,phone_call:103623,email_campaign1_and_2:41625,email_campaign1_and_phone_call:10992,email_campaign2_and_phone_call:33882,all_channels:11940},{Month:"MONTH 3: p2 & p1",product_list:"product2|product1",email_campaign1:84522,email_campaign2:56136,phone_call:15726,email_campaign1_and_2:122927,email_campaign1_and_phone_call:104450,email_campaign2_and_phone_call:51739,all_channels:34878},{Month:"MONTH 4: p2 & p1",product_list:"product2|product1",email_campaign1:15514,email_campaign2:103166,phone_call:19770,email_campaign1_and_2:56077,email_campaign1_and_phone_call:79763,email_campaign2_and_phone_call:101955,all_channels:79284},{Month:"MONTH 5: p2 & p1",product_list:"product2|product1",email_campaign1:22499,email_campaign2:17837,phone_call:111792,email_campaign1_and_2:93859,email_campaign1_and_phone_call:78879,email_campaign2_and_phone_call:74194,all_channels:98889},{Month:"MONTH 6: p2 & p1",product_list:"product2|product1",email_campaign1:56703,email_campaign2:59805,phone_call:29737,email_campaign1_and_2:22929,email_campaign1_and_phone_call:31882,email_campaign2_and_phone_call:91911,all_channels:19454}],wp=[{id:1,Month:1,product1:80035,product1_product2:64504,product2:116297,product2_product1:100773,total:361609},{id:2,Month:2,product1:64184,product1_product2:60330,product2:19842,product2_product1:42988,total:187344},{id:3,Month:3,product1:25705,product1_product2:77338,product2:11037,product2_product1:102173,total:216253},{id:4,Month:4,product1:100619,product1_product2:56100,product2:98995,product2_product1:102120,total:357834},{id:5,Month:5,product1:102533,product1_product2:71871,product2:7361,product2_product1:98590,total:280355},{id:6,Month:6,product1:46467,product1_product2:38772,product2:40140,product2_product1:61329,total:186708}],xp=[{total:80035},{total:64184},{total:25705},{total:100619},{total:102533},{total:46467}],Sp=[{total:116297},{total:19842},{total:11037},{total:98995},{total:7361},{total:40140}],Ep=[{total:64504},{total:60330},{total:77338},{total:56100},{total:71871},{total:38772}],Tp=[{total:100773},{total:42988},{total:102173},{total:102120},{total:98590},{total:61329}],Pp=[{id:1,Products:"Product 1",Location:"State X",Age:"below 20",CLV:"Low",Attrition_Rate:"0.2",Customer_Count:66224,Primary_Positive_Causal:"T4 Email Campaign 1 & 2",Primary_Negative_Causal:"T7 All Channels"},{id:2,Products:"Product 1",Location:"State Y",Age:"below 20",CLV:"Medium",Attrition_Rate:"2.0",Customer_Count:277,Primary_Positive_Causal:"T4 Email Campaign 1 & 2",Primary_Negative_Causal:"T7 All Channels"},{id:3,Products:"Product 1",Location:"State Z",Age:"below 20",CLV:"High",Attrition_Rate:"2.0",Customer_Count:2,Primary_Positive_Causal:"T4 Email Campaign 1 & 2",Primary_Negative_Causal:"T7 All Channels"},{id:4,Products:"Product 1",Location:"State X",Age:"20 to 30",CLV:"Low",Attrition_Rate:"2.0",Customer_Count:11996,Primary_Positive_Causal:"T4 Email Campaign 1 & 2",Primary_Negative_Causal:"T7 All Channels"},{id:5,Products:"Product 1",Location:"State Y",Age:"20 to 30",CLV:"Medium",Attrition_Rate:"2.0",Customer_Count:60,Primary_Positive_Causal:"T4 Email Campaign 1 & 2",Primary_Negative_Causal:"T7 All Channels"},{id:6,Products:"Product 1",Location:"State Z",Age:"20 to 30",CLV:"High",Attrition_Rate:"2.0",Customer_Count:4,Primary_Positive_Causal:"T4 Email Campaign 1 & 2",Primary_Negative_Causal:"T7 All Channels"}],Ip=function(){var e=(0,r.useState)({labels:yp.map((function(e){return e.Month})),datasets:[{label:"Total Sales",data:[361609,187344,216253,357834,280355,186708],type:"line",order:1,borderColor:["rgba(255,99,132,1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:8,height:100}]}),t=c(e,1)[0],n=(0,r.useState)({labels:yp.map((function(e){return e.Month})),datasets:[{label:"Product 1",data:yp.map((function(e){return e.email_campaign1_and_2})),backgroundColor:["#BCEAD5"],order:2},{label:"Product 2",data:yp.map((function(e){return e.email_campaign1_and_phone_call})),backgroundColor:["#B9E0FF"],order:2},{label:"Product 3",data:yp.map((function(e){return e.email_campaign2_and_phone_call})),backgroundColor:["#8D9EFF"],order:2},{label:"Product 4",data:yp.map((function(e){return e.all_channels})),backgroundColor:["#8D72E1"],order:2}]}),i=c(n,1)[0];return(0,l.jsxs)("div",{className:"senior-campaign",children:[(0,l.jsx)("h3",{children:"Senior Campaign"}),(0,l.jsxs)("div",{className:"top-section",children:[(0,l.jsx)(gp,{}),(0,l.jsxs)("div",{className:"chart-flex",children:[(0,l.jsx)("div",{className:"chart-wrapper-bg",children:(0,l.jsxs)("div",{className:"chart-wrapper",children:[(0,l.jsx)("h3",{children:"Analysing Campaign Volume: A 6-Month Chart Overview"}),(0,l.jsx)(hp,{chartData:t})]})}),(0,l.jsx)("div",{className:"chart-wrapper-bg",children:(0,l.jsxs)("div",{className:"chart-wrapper",children:[(0,l.jsx)("h3",{children:"Monthly Analysis of Product-Specific Campaigns"}),(0,l.jsx)(hp,{chartData:i})]})})]})]}),(0,l.jsx)("h3",{children:"Campaign Overview"}),(0,l.jsx)(vp,{})]})},Lp=[{Product:"Loan",Recommended_campaign:"Loyalty",Customer_Segment:"Loan_Segment_1_Loyalty_sub5_atomic_1",Column4:.0393992311637383,Column5:1},{Product:"Credit Card",Recommended_campaign:"Loyalty",Customer_Segment:"Credit_Loan_Segment_1_Loyalty_sub3_atomic_1",Column4:.0393992311637383,Column5:2},{Product:"Loan",Recommended_campaign:"Loyalty",Customer_Segment:"Loan_Segment_1_Loyalty_sub5_atomic_3",Column4:.0343204456941222,Column5:3},{Product:"Credit Card",Recommended_campaign:"Loyalty",Customer_Segment:"Credit_Loan_Segment_1_Loyalty_sub3_atomic_2",Column4:.0343204456941222,Column5:4},{Product:"Loan",Recommended_campaign:"Loyalty",Customer_Segment:"Loan_Segment_1_Loyalty_sub5_atomic_5",Column4:.034100270515169,Column5:5},{Product:"Credit Card",Recommended_campaign:"Loyalty",Customer_Segment:"Credit_Loan_Segment_1_Loyalty_sub3_atomic_3",Column4:.034100270515169,Column5:6},{Product:"Loan",Recommended_campaign:"Loyalty",Customer_Segment:"Loan_Segment_1_Loyalty_sub5_atomic_2",Column4:.032185145895156,Column5:7},{Product:"Credit Card",Recommended_campaign:"Loyalty",Customer_Segment:"Credit_Loan_Segment_1_Loyalty_sub3_atomic_4",Column4:.032185145895156,Column5:8},{Product:"Loan",Recommended_campaign:"Loyalty",Customer_Segment:"Loan_Segment_1_Loyalty_sub5_atomic_4",Column4:.031864245280666,Column5:9},{Product:"Credit Card",Recommended_campaign:"Loyalty",Customer_Segment:"Credit_Loan_Segment_1_Loyalty_sub3_atomic_5",Column4:.031864245280666,Column5:10},{Product:"Loan",Recommended_campaign:"Loyalty",Customer_Segment:"Loan_Segment_1_Loyalty_sub1_atomic_5",Column4:.0214450466339176,Column5:11},{Product:"Credit Card",Recommended_campaign:"Loyalty",Customer_Segment:"Credit_Loan_Segment_1_Loyalty_sub4_atomic_1",Column4:.0214450466339176,Column5:12},{Product:"Loan",Recommended_campaign:"Loyalty",Customer_Segment:"Loan_Segment_1_Loyalty_sub1_atomic_4",Column4:.0207425803140654,Column5:13},{Product:"Credit Card",Recommended_campaign:"Loyalty",Customer_Segment:"Credit_Loan_Segment_1_Loyalty_sub4_atomic_2",Column4:.0207425803140654,Column5:14},{Product:"Loan",Recommended_campaign:"Loyalty",Customer_Segment:"Loan_Segment_1_Loyalty_sub1_atomic_3",Column4:.0207233916855124,Column5:15},{Product:"Credit Card",Recommended_campaign:"Loyalty",Customer_Segment:"Credit_Loan_Segment_1_Loyalty_sub4_atomic_3",Column4:.0207233916855124,Column5:16},{Product:"Loan",Recommended_campaign:"Loyalty",Customer_Segment:"Loan_Segment_1_Loyalty_sub1_atomic_1",Column4:.0205425008423863,Column5:17},{Product:"Credit Card",Recommended_campaign:"Loyalty",Customer_Segment:"Credit_Loan_Segment_1_Loyalty_sub4_atomic_4",Column4:.0205425008423863,Column5:18},{Product:"Loan",Recommended_campaign:"Loyalty",Customer_Segment:"Loan_Segment_1_Loyalty_sub1_atomic_2",Column4:.0202762753768374,Column5:19},{Product:"Credit Card",Recommended_campaign:"Loyalty",Customer_Segment:"Credit_Loan_Segment_1_Loyalty_sub4_atomic_5",Column4:.0202762753768374,Column5:20},{Product:"Loan",Recommended_campaign:"Loyalty",Customer_Segment:"Loan_Segment_1_Loyalty_sub2_atomic_4",Column4:.014872941932014,Column5:21},{Product:"Credit Card",Recommended_campaign:"Loyalty",Customer_Segment:"Credit_Loan_Segment_1_Loyalty_sub5_atomic_1",Column4:.014872941932014,Column5:22},{Product:"Loan",Recommended_campaign:"Loyalty",Customer_Segment:"Loan_Segment_1_Loyalty_sub2_atomic_3",Column4:.0147574464118162,Column5:23},{Product:"Credit Card",Recommended_campaign:"Loyalty",Customer_Segment:"Credit_Loan_Segment_1_Loyalty_sub5_atomic_2",Column4:.0147574464118162,Column5:24},{Product:"Loan",Recommended_campaign:"Promotional Email",Customer_Segment:"Loan_Segment_1_Promo_sub1_atomic_4",Column4:.0146807216040809,Column5:25},{Product:"Credit Card",Recommended_campaign:"Promotional Email",Customer_Segment:"Credit_Loan_Segment_1_Loyalty_sub5_atomic_3",Column4:.0146807216040809,Column5:26},{Product:"Loan",Recommended_campaign:"Loyalty",Customer_Segment:"Loan_Segment_1_Loyalty_sub2_atomic_1",Column4:.0145679649413975,Column5:27},{Product:"Credit Card",Recommended_campaign:"Loyalty",Customer_Segment:"Credit_Loan_Segment_1_Loyalty_sub5_atomic_4",Column4:.0145679649413975,Column5:28},{Product:"Loan",Recommended_campaign:"Promotional Email",Customer_Segment:"Loan_Segment_1_Promo_sub1_atomic_2",Column4:.0145571863518987,Column5:29},{Product:"Credit Card",Recommended_campaign:"Promotional Email",Customer_Segment:"Credit_Loan_Segment_1_Loyalty_sub5_atomic_5",Column4:.0145571863518987,Column5:30},{Product:"Loan",Recommended_campaign:"Promotional Email",Customer_Segment:"Loan_Segment_1_Promo_sub1_atomic_5",Column4:.0142886691005615,Column5:31},{Product:"Credit Card",Recommended_campaign:"Promotional Email",Customer_Segment:"Credit_Loan_Segment_1_Loyalty_sub2_atomic_1",Column4:.0142886691005615,Column5:32},{Product:"Loan",Recommended_campaign:"Loyalty",Customer_Segment:"Loan_Segment_1_Loyalty_sub2_atomic_2",Column4:.0142770238569058,Column5:33},{Product:"Credit Card",Recommended_campaign:"Loyalty",Customer_Segment:"Credit_Loan_Segment_1_Loyalty_sub2_atomic_2",Column4:.0142770238569058,Column5:34},{Product:"Loan",Recommended_campaign:"Loyalty",Customer_Segment:"Loan_Segment_1_Loyalty_sub2_atomic_5",Column4:.0142664182190323,Column5:35},{Product:"Credit Card",Recommended_campaign:"Loyalty",Customer_Segment:"Credit_Loan_Segment_1_Loyalty_sub2_atomic_3",Column4:.0142664182190323,Column5:36},{Product:"Loan",Recommended_campaign:"Promotional Email",Customer_Segment:"Loan_Segment_1_Promo_sub1_atomic_3",Column4:.0136928950778866,Column5:37},{Product:"Credit Card",Recommended_campaign:"Promotional Email",Customer_Segment:"Credit_Loan_Segment_1_Loyalty_sub2_atomic_4",Column4:.0136928950778866,Column5:38},{Product:"Loan",Recommended_campaign:"Discount Email",Customer_Segment:"Loan_Segment_1_Discount_sub3_atomic_2",Column4:.0131301067628151,Column5:39},{Product:"Credit Card",Recommended_campaign:"Discount Email",Customer_Segment:"Credit_Loan_Segment_1_Loyalty_sub2_atomic_5",Column4:.0131301067628151,Column5:40},{Product:"Loan",Recommended_campaign:"Promotional Email",Customer_Segment:"Loan_Segment_1_Promo_sub1_atomic_1",Column4:.0121976150862778,Column5:41},{Product:"Credit Card",Recommended_campaign:"Promotional Email",Customer_Segment:"Credit_Loan_Segment_1_Loyalty_sub1_atomic_1",Column4:.0121976150862778,Column5:42},{Product:"Loan",Recommended_campaign:"Discount Email",Customer_Segment:"Loan_Segment_1_Discount_sub3_atomic_1",Column4:.0119511819713499,Column5:43},{Product:"Credit Card",Recommended_campaign:"Discount Email",Customer_Segment:"Credit_Loan_Segment_1_Loyalty_sub1_atomic_2",Column4:.0119511819713499,Column5:44},{Product:"Loan",Recommended_campaign:"Discount Email",Customer_Segment:"Loan_Segment_1_Discount_sub3_atomic_3",Column4:.0116309960452891,Column5:45},{Product:"Credit Card",Recommended_campaign:"Discount Email",Customer_Segment:"Credit_Loan_Segment_1_Loyalty_sub1_atomic_3",Column4:.0116309960452891,Column5:46},{Product:"Loan",Recommended_campaign:"Discount Email",Customer_Segment:"Loan_Segment_1_Discount_sub3_atomic_4",Column4:.0114591963798432,Column5:47},{Product:"Credit Card",Recommended_campaign:"Discount Email",Customer_Segment:"Credit_Loan_Segment_1_Loyalty_sub1_atomic_4",Column4:.0114591963798432,Column5:48},{Product:"Loan",Recommended_campaign:"Discount Email",Customer_Segment:"Loan_Segment_1_Discount_sub3_atomic_5",Column4:.0113804576627438,Column5:49},{Product:"Credit Card",Recommended_campaign:"Discount Email",Customer_Segment:"Credit_Loan_Segment_1_Loyalty_sub1_atomic_5",Column4:.0113804576627438,Column5:50},{Product:"Loan",Recommended_campaign:"Loyalty",Customer_Segment:"Loan_Segment_1_Loyalty_sub3_atomic_2",Column4:.010086463510758,Column5:51},{Product:"Credit Card",Recommended_campaign:"Loyalty",Customer_Segment:"Credit_Loan_Segment_1_Phone_sub3_atomic_1",Column4:.010086463510758,Column5:52},{Product:"Loan",Recommended_campaign:"Loyalty",Customer_Segment:"Loan_Segment_1_Loyalty_sub3_atomic_5",Column4:.00996077199875726,Column5:53},{Product:"Credit Card",Recommended_campaign:"Loyalty",Customer_Segment:"Credit_Loan_Segment_1_Phone_sub3_atomic_2",Column4:.0099607719987572,Column5:54},{Product:"Loan",Recommended_campaign:"Loyalty",Customer_Segment:"Loan_Segment_1_Loyalty_sub3_atomic_3",Column4:.00990400879210498,Column5:55},{Product:"Credit Card",Recommended_campaign:"Loyalty",Customer_Segment:"Credit_Loan_Segment_1_Phone_sub3_atomic_3",Column4:.0099040087921049,Column5:56},{Product:"Loan",Recommended_campaign:"Loyalty",Customer_Segment:"Loan_Segment_1_Loyalty_sub3_atomic_1",Column4:.00979228536141538,Column5:57},{Product:"Credit Card",Recommended_campaign:"Loyalty",Customer_Segment:"Credit_Loan_Segment_1_Phone_sub3_atomic_4",Column4:.0097922853614153,Column5:58},{Product:"Loan",Recommended_campaign:"Loyalty",Customer_Segment:"Loan_Segment_1_Loyalty_sub3_atomic_4",Column4:.00971472448211403,Column5:59},{Product:"Credit Card",Recommended_campaign:"Loyalty",Customer_Segment:"Credit_Loan_Segment_1_Phone_sub3_atomic_5",Column4:.009714724482114,Column5:60},{Product:"Loan",Recommended_campaign:"Promotional Email",Customer_Segment:"Loan_Segment_1_Promo_sub5_atomic_4",Column4:.00937383721745598,Column5:61},{Product:"Credit Card",Recommended_campaign:"Promotional Email",Customer_Segment:"Credit_Loan_Segment_1_Phone_sub2_atomic_1",Column4:.0093738372174559,Column5:62},{Product:"Loan",Recommended_campaign:"Promotional Email",Customer_Segment:"Loan_Segment_1_Promo_sub5_atomic_5",Column4:.00928842161070995,Column5:63},{Product:"Credit Card",Recommended_campaign:"Promotional Email",Customer_Segment:"Credit_Loan_Segment_1_Phone_sub2_atomic_2",Column4:.0092884216107099,Column5:64},{Product:"Loan",Recommended_campaign:"Promotional Email",Customer_Segment:"Loan_Segment_1_Promo_sub5_atomic_3",Column4:.00880194951917577,Column5:65},{Product:"Credit Card",Recommended_campaign:"Promotional Email",Customer_Segment:"Credit_Loan_Segment_1_Phone_sub2_atomic_3",Column4:.0088019495191757,Column5:66},{Product:"Loan",Recommended_campaign:"Promotional Email",Customer_Segment:"Loan_Segment_1_Promo_sub5_atomic_1",Column4:.00875460665568744,Column5:67},{Product:"Credit Card",Recommended_campaign:"Promotional Email",Customer_Segment:"Credit_Loan_Segment_1_Phone_sub2_atomic_4",Column4:.0087546066556874,Column5:68},{Product:"Loan",Recommended_campaign:"Promotional Email",Customer_Segment:"Loan_Segment_1_Promo_sub5_atomic_2",Column4:.00855581576381706,Column5:69},{Product:"Credit Card",Recommended_campaign:"Promotional Email",Customer_Segment:"Credit_Loan_Segment_1_Phone_sub2_atomic_5",Column4:.008555815763817,Column5:70},{Product:"Loan",Recommended_campaign:"Discount Email",Customer_Segment:"Loan_Segment_1_Discount_sub5_atomic_5",Column4:.00841068814300993,Column5:71},{Product:"Credit Card",Recommended_campaign:"Discount Email",Customer_Segment:"Credit_Loan_Segment_1_Phone_sub4_atomic_1",Column4:.0084106881430099,Column5:72},{Product:"Loan",Recommended_campaign:"Discount Email",Customer_Segment:"Loan_Segment_1_Discount_sub5_atomic_1",Column4:.00828233590001751,Column5:73},{Product:"Credit Card",Recommended_campaign:"Discount Email",Customer_Segment:"Credit_Loan_Segment_1_Phone_sub4_atomic_2",Column4:.0082823359000175,Column5:74},{Product:"Loan",Recommended_campaign:"Discount Email",Customer_Segment:"Loan_Segment_1_Discount_sub5_atomic_3",Column4:.00817446685271328,Column5:75},{Product:"Credit Card",Recommended_campaign:"Discount Email",Customer_Segment:"Credit_Loan_Segment_1_Phone_sub4_atomic_3",Column4:.0081744668527132,Column5:76},{Product:"Loan",Recommended_campaign:"Discount Email",Customer_Segment:"Loan_Segment_1_Discount_sub5_atomic_4",Column4:.00812139260501845,Column5:77},{Product:"Credit Card",Recommended_campaign:"Discount Email",Customer_Segment:"Credit_Loan_Segment_1_Phone_sub4_atomic_4",Column4:.0081213926050184,Column5:78},{Product:"Loan",Recommended_campaign:"Discount Email",Customer_Segment:"Loan_Segment_1_Discount_sub5_atomic_2",Column4:.00792020551058884,Column5:79},{Product:"Credit Card",Recommended_campaign:"Discount Email",Customer_Segment:"Credit_Loan_Segment_1_Phone_sub4_atomic_5",Column4:.0079202055105888,Column5:80},{Product:"Loan",Recommended_campaign:"Promotional Email",Customer_Segment:"Loan_Segment_1_Promo_sub3_atomic_1",Column4:.0065920754014555,Column5:81},{Product:"Credit Card",Recommended_campaign:"Promotional Email",Customer_Segment:"Credit_Loan_Segment_1_Phone_sub5_atomic_1",Column4:.0065920754014555,Column5:82},{Product:"Loan",Recommended_campaign:"Promotional Email",Customer_Segment:"Loan_Segment_1_Promo_sub3_atomic_4",Column4:.00652656809387942,Column5:83},{Product:"Credit Card",Recommended_campaign:"Promotional Email",Customer_Segment:"Credit_Loan_Segment_1_Phone_sub5_atomic_2",Column4:.0065265680938794,Column5:84},{Product:"Loan",Recommended_campaign:"Promotional Email",Customer_Segment:"Loan_Segment_1_Promo_sub3_atomic_3",Column4:.00633040724276594,Column5:85},{Product:"Credit Card",Recommended_campaign:"Promotional Email",Customer_Segment:"Credit_Loan_Segment_1_Phone_sub5_atomic_3",Column4:.0063304072427659,Column5:86},{Product:"Loan",Recommended_campaign:"Promotional Email",Customer_Segment:"Loan_Segment_1_Promo_sub3_atomic_5",Column4:.00630675931671964,Column5:87},{Product:"Credit Card",Recommended_campaign:"Promotional Email",Customer_Segment:"Credit_Loan_Segment_1_Phone_sub5_atomic_4",Column4:.0063067593167196,Column5:88},{Product:"Loan",Recommended_campaign:"Promotional Email",Customer_Segment:"Loan_Segment_1_Promo_sub3_atomic_2",Column4:.0062864215866818,Column5:89},{Product:"Credit Card",Recommended_campaign:"Promotional Email",Customer_Segment:"Credit_Loan_Segment_1_Phone_sub5_atomic_5",Column4:.0062864215866818,Column5:90},{Product:"Loan",Recommended_campaign:"Discount Email",Customer_Segment:"Loan_Segment_1_Discount_sub2_atomic_1",Column4:.00621333588439038,Column5:91},{Product:"Credit Card",Recommended_campaign:"Discount Email",Customer_Segment:"Credit_Loan_Segment_1_Phone_sub1_atomic_1",Column4:.0062133358843903,Column5:92},{Product:"Loan",Recommended_campaign:"Discount Email",Customer_Segment:"Loan_Segment_1_Discount_sub2_atomic_3",Column4:.00619609973848919,Column5:93},{Product:"Credit Card",Recommended_campaign:"Discount Email",Customer_Segment:"Credit_Loan_Segment_1_Phone_sub1_atomic_2",Column4:.0061960997384891,Column5:94},{Product:"Loan",Recommended_campaign:"Discount Email",Customer_Segment:"Loan_Segment_1_Discount_sub2_atomic_5",Column4:.00608261167983152,Column5:95},{Product:"Credit Card",Recommended_campaign:"Discount Email",Customer_Segment:"Credit_Loan_Segment_1_Phone_sub1_atomic_3",Column4:.0060826116798315,Column5:96},{Product:"Loan",Recommended_campaign:"Discount Email",Customer_Segment:"Loan_Segment_1_Discount_sub2_atomic_4",Column4:.00603929690698349,Column5:97},{Product:"Credit Card",Recommended_campaign:"Discount Email",Customer_Segment:"Credit_Loan_Segment_1_Phone_sub1_atomic_4",Column4:.0060392969069834,Column5:98},{Product:"Loan",Recommended_campaign:"Discount Email",Customer_Segment:"Loan_Segment_1_Discount_sub2_atomic_2",Column4:.00602862070655126,Column5:99},{Product:"Credit Card",Recommended_campaign:"Discount Email",Customer_Segment:"Credit_Loan_Segment_1_Phone_sub1_atomic_5",Column4:.0060286207065512,Column5:100},{Product:"Loan",Recommended_campaign:"Loyalty",Customer_Segment:"Loan_Segment_1_Loyalty_sub4_atomic_4",Column4:.00514639326607189,Column5:101},{Product:"Credit Card",Recommended_campaign:"Loyalty",Customer_Segment:"Credit_Loan_Segment_1_Promo_sub1_atomic_1",Column4:.0051463932660718,Column5:102},{Product:"Loan",Recommended_campaign:"Loyalty",Customer_Segment:"Loan_Segment_1_Loyalty_sub4_atomic_5",Column4:.00495613698587795,Column5:103},{Product:"Credit Card",Recommended_campaign:"Loyalty",Customer_Segment:"Credit_Loan_Segment_1_Promo_sub1_atomic_2",Column4:.0049561369858779,Column5:104},{Product:"Loan",Recommended_campaign:"Loyalty",Customer_Segment:"Loan_Segment_1_Loyalty_sub4_atomic_1",Column4:.00461852963683957,Column5:105},{Product:"Credit Card",Recommended_campaign:"Loyalty",Customer_Segment:"Credit_Loan_Segment_1_Promo_sub1_atomic_3",Column4:.0046185296368395,Column5:106},{Product:"Loan",Recommended_campaign:"Loyalty",Customer_Segment:"Loan_Segment_1_Loyalty_sub4_atomic_3",Column4:.00456296682819023,Column5:107},{Product:"Credit Card",Recommended_campaign:"Loyalty",Customer_Segment:"Credit_Loan_Segment_1_Promo_sub1_atomic_4",Column4:.0045629668281902,Column5:108},{Product:"Loan",Recommended_campaign:"Promotional Email",Customer_Segment:"Loan_Segment_1_Promo_sub4_atomic_5",Column4:.00450513719318756,Column5:109},{Product:"Credit Card",Recommended_campaign:"Promotional Email",Customer_Segment:"Credit_Loan_Segment_1_Promo_sub1_atomic_5",Column4:.0045051371931875,Column5:110},{Product:"Loan",Recommended_campaign:"Promotional Email",Customer_Segment:"Loan_Segment_1_Promo_sub4_atomic_4",Column4:.00445674950039485,Column5:111},{Product:"Credit Card",Recommended_campaign:"Promotional Email",Customer_Segment:"Credit_Loan_Segment_1_Promo_sub5_atomic_1",Column4:.0044567495003948,Column5:112},{Product:"Loan",Recommended_campaign:"Discount Email",Customer_Segment:"Loan_Segment_1_Discount_sub4_atomic_4",Column4:.00440270453291386,Column5:113},{Product:"Credit Card",Recommended_campaign:"Discount Email",Customer_Segment:"Credit_Loan_Segment_1_Promo_sub5_atomic_2",Column4:.0044027045329138,Column5:114},{Product:"Loan",Recommended_campaign:"Phone call",Customer_Segment:"Loan_Segment_1_Phone_sub3_atomic_1",Column4:.00439673871024438,Column5:115},{Product:"Credit Card",Recommended_campaign:"Phone call",Customer_Segment:"Credit_Loan_Segment_1_Promo_sub5_atomic_3",Column4:.0043967387102443,Column5:116},{Product:"Loan",Recommended_campaign:"Loyalty",Customer_Segment:"Loan_Segment_1_Loyalty_sub4_atomic_2",Column4:.00435291658219066,Column5:117},{Product:"Credit Card",Recommended_campaign:"Loyalty",Customer_Segment:"Credit_Loan_Segment_1_Promo_sub5_atomic_4",Column4:.0043529165821906,Column5:118},{Product:"Loan",Recommended_campaign:"Discount Email",Customer_Segment:"Loan_Segment_1_Discount_sub4_atomic_3",Column4:.00433681116720606,Column5:119},{Product:"Credit Card",Recommended_campaign:"Discount Email",Customer_Segment:"Credit_Loan_Segment_1_Promo_sub5_atomic_5",Column4:.004336811167206,Column5:120},{Product:"Loan",Recommended_campaign:"Promotional Email",Customer_Segment:"Loan_Segment_1_Promo_sub4_atomic_3",Column4:.00431476953892147,Column5:121},{Product:"Credit Card",Recommended_campaign:"Promotional Email",Customer_Segment:"Credit_Loan_Segment_1_Promo_sub3_atomic_1",Column4:.0043147695389214,Column5:122},{Product:"Loan",Recommended_campaign:"Promotional Email",Customer_Segment:"Loan_Segment_1_Promo_sub4_atomic_1",Column4:.00428485331965138,Column5:123},{Product:"Credit Card",Recommended_campaign:"Promotional Email",Customer_Segment:"Credit_Loan_Segment_1_Promo_sub3_atomic_2",Column4:.0042848533196513,Column5:124},{Product:"Loan",Recommended_campaign:"Phone call",Customer_Segment:"Loan_Segment_1_Phone_sub3_atomic_2",Column4:.00426874324964998,Column5:125},{Product:"Credit Card",Recommended_campaign:"Phone call",Customer_Segment:"Credit_Loan_Segment_1_Promo_sub3_atomic_3",Column4:.0042687432496499,Column5:126},{Product:"Loan",Recommended_campaign:"Phone call",Customer_Segment:"Loan_Segment_1_Phone_sub3_atomic_3",Column4:.0042545227420972,Column5:127},{Product:"Credit Card",Recommended_campaign:"Phone call",Customer_Segment:"Credit_Loan_Segment_1_Promo_sub3_atomic_4",Column4:.0042545227420972,Column5:128},{Product:"Loan",Recommended_campaign:"Promotional Email",Customer_Segment:"Loan_Segment_1_Promo_sub4_atomic_2",Column4:.0042413514728177,Column5:129},{Product:"Credit Card",Recommended_campaign:"Promotional Email",Customer_Segment:"Credit_Loan_Segment_1_Promo_sub3_atomic_5",Column4:.0042413514728177,Column5:130},{Product:"Loan",Recommended_campaign:"Discount Email",Customer_Segment:"Loan_Segment_1_Discount_sub4_atomic_5",Column4:.00410826951620165,Column5:131},{Product:"Credit Card",Recommended_campaign:"Discount Email",Customer_Segment:"Credit_Loan_Segment_1_Promo_sub4_atomic_1",Column4:.0041082695162016,Column5:132},{Product:"Loan",Recommended_campaign:"Discount Email",Customer_Segment:"Loan_Segment_1_Discount_sub4_atomic_1",Column4:.00397850193075501,Column5:133},{Product:"Credit Card",Recommended_campaign:"Discount Email",Customer_Segment:"Credit_Loan_Segment_1_Promo_sub4_atomic_2",Column4:.003978501930755,Column5:134},{Product:"Loan",Recommended_campaign:"Phone call",Customer_Segment:"Loan_Segment_1_Phone_sub3_atomic_4",Column4:.00395467258324448,Column5:135},{Product:"Credit Card",Recommended_campaign:"Phone call",Customer_Segment:"Credit_Loan_Segment_1_Promo_sub4_atomic_3",Column4:.0039546725832444,Column5:136},{Product:"Loan",Recommended_campaign:"Discount Email",Customer_Segment:"Loan_Segment_1_Discount_sub4_atomic_2",Column4:.00391499541418007,Column5:137},{Product:"Credit Card",Recommended_campaign:"Discount Email",Customer_Segment:"Credit_Loan_Segment_1_Promo_sub4_atomic_4",Column4:.00391499541418,Column5:138},{Product:"Loan",Recommended_campaign:"Phone call",Customer_Segment:"Loan_Segment_1_Phone_sub3_atomic_5",Column4:.00363617013903778,Column5:139},{Product:"Credit Card",Recommended_campaign:"Phone call",Customer_Segment:"Credit_Loan_Segment_1_Promo_sub4_atomic_5",Column4:.0036361701390377,Column5:140},{Product:"Loan",Recommended_campaign:"Phone call",Customer_Segment:"Loan_Segment_1_Phone_sub2_atomic_4",Column4:.00299645422844295,Column5:141},{Product:"Credit Card",Recommended_campaign:"Phone call",Customer_Segment:"Credit_Loan_Segment_1_Promo_sub2_atomic_1",Column4:.0029964542284429,Column5:142},{Product:"Loan",Recommended_campaign:"Phone call",Customer_Segment:"Loan_Segment_1_Phone_sub2_atomic_3",Column4:.00283350214091648,Column5:143},{Product:"Credit Card",Recommended_campaign:"Phone call",Customer_Segment:"Credit_Loan_Segment_1_Promo_sub2_atomic_2",Column4:.0028335021409164,Column5:144},{Product:"Loan",Recommended_campaign:"Phone call",Customer_Segment:"Loan_Segment_1_Phone_sub2_atomic_1",Column4:.00282760300527657,Column5:145},{Product:"Credit Card",Recommended_campaign:"Phone call",Customer_Segment:"Credit_Loan_Segment_1_Promo_sub2_atomic_3",Column4:.0028276030052765,Column5:146},{Product:"Loan",Recommended_campaign:"Phone call",Customer_Segment:"Loan_Segment_1_Phone_sub2_atomic_2",Column4:.00278859876833381,Column5:147},{Product:"Credit Card",Recommended_campaign:"Phone call",Customer_Segment:"Credit_Loan_Segment_1_Promo_sub2_atomic_4",Column4:.0027885987683338,Column5:148},{Product:"Loan",Recommended_campaign:"Phone call",Customer_Segment:"Loan_Segment_1_Phone_sub2_atomic_5",Column4:.00276073333807473,Column5:149},{Product:"Credit Card",Recommended_campaign:"Phone call",Customer_Segment:"Credit_Loan_Segment_1_Promo_sub2_atomic_5",Column4:.0027607333380747,Column5:150},{Product:"Loan",Recommended_campaign:"Promotional Email",Customer_Segment:"Loan_Segment_1_Promo_sub2_atomic_5",Column4:.00239414633842177,Column5:151},{Product:"Credit Card",Recommended_campaign:"Promotional Email",Customer_Segment:"Credit_Loan_Segment_1_PN_sub1_atomic_1",Column4:.0023941463384217,Column5:152},{Product:"Loan",Recommended_campaign:"Promotional Email",Customer_Segment:"Loan_Segment_1_Promo_sub2_atomic_3",Column4:.00229228344697813,Column5:153},{Product:"Credit Card",Recommended_campaign:"Promotional Email",Customer_Segment:"Credit_Loan_Segment_1_PN_sub1_atomic_2",Column4:.0022922834469781,Column5:154},{Product:"Loan",Recommended_campaign:"Phone call",Customer_Segment:"Loan_Segment_1_Phone_sub4_atomic_5",Column4:.00219231585345388,Column5:155},{Product:"Credit Card",Recommended_campaign:"Phone call",Customer_Segment:"Credit_Loan_Segment_1_PN_sub1_atomic_3",Column4:.0021923158534538,Column5:156},{Product:"Loan",Recommended_campaign:"Promotional Email",Customer_Segment:"Loan_Segment_1_Promo_sub2_atomic_4",Column4:.00216574180528185,Column5:157},{Product:"Credit Card",Recommended_campaign:"Promotional Email",Customer_Segment:"Credit_Loan_Segment_1_PN_sub1_atomic_4",Column4:.0021657418052818,Column5:158},{Product:"Loan",Recommended_campaign:"Push Notification",Customer_Segment:"Loan_Segment_1_PN_sub1_atomic_4",Column4:.00214526889864156,Column5:159},{Product:"Credit Card",Recommended_campaign:"Push Notification",Customer_Segment:"Credit_Loan_Segment_1_PN_sub1_atomic_5",Column4:.0021452688986415,Column5:160},{Product:"Loan",Recommended_campaign:"Phone call",Customer_Segment:"Loan_Segment_1_Phone_sub4_atomic_1",Column4:.0021051732789246,Column5:161},{Product:"Credit Card",Recommended_campaign:"Phone call",Customer_Segment:"Credit_Loan_Segment_1_PN_sub3_atomic_1",Column4:.0021051732789246,Column5:162},{Product:"Loan",Recommended_campaign:"Promotional Email",Customer_Segment:"Loan_Segment_1_Promo_sub2_atomic_2",Column4:.00208886995705358,Column5:163},{Product:"Credit Card",Recommended_campaign:"Promotional Email",Customer_Segment:"Credit_Loan_Segment_1_PN_sub3_atomic_2",Column4:.0020888699570535,Column5:164},{Product:"Loan",Recommended_campaign:"Promotional Email",Customer_Segment:"Loan_Segment_1_Promo_sub2_atomic_1",Column4:.00204621643849816,Column5:165},{Product:"Credit Card",Recommended_campaign:"Promotional Email",Customer_Segment:"Credit_Loan_Segment_1_PN_sub3_atomic_3",Column4:.0020462164384981,Column5:166},{Product:"Credit Card",Recommended_campaign:"Discount Email",Customer_Segment:"Credit_Loan_Segment_1_PN_sub3_atomic_4",Column4:.0020321290757141,Column5:167},{Product:"Loan",Recommended_campaign:"Discount Email",Customer_Segment:"Loan_Segment_1_Discount_sub1_atomic_1",Column4:.0020321290757141,Column5:168},{Product:"Loan",Recommended_campaign:"Phone call",Customer_Segment:"Loan_Segment_1_Phone_sub4_atomic_2",Column4:.00201047436197458,Column5:169},{Product:"Credit Card",Recommended_campaign:"Phone call",Customer_Segment:"Credit_Loan_Segment_1_PN_sub3_atomic_5",Column4:.0020104743619745,Column5:170},{Product:"Loan",Recommended_campaign:"Phone call",Customer_Segment:"Loan_Segment_1_Phone_sub4_atomic_4",Column4:.00195102810913973,Column5:171},{Product:"Credit Card",Recommended_campaign:"Phone call",Customer_Segment:"Credit_Loan_Segment_1_PN_sub4_atomic_1",Column4:.0019510281091397,Column5:172},{Product:"Loan",Recommended_campaign:"Phone call",Customer_Segment:"Loan_Segment_1_Phone_sub4_atomic_3",Column4:.0019081629281566,Column5:173},{Product:"Credit Card",Recommended_campaign:"Phone call",Customer_Segment:"Credit_Loan_Segment_1_PN_sub4_atomic_2",Column4:.0019081629281566,Column5:174},{Product:"Loan",Recommended_campaign:"Discount Email",Customer_Segment:"Loan_Segment_1_Discount_sub1_atomic_4",Column4:.00189812200617895,Column5:175},{Product:"Credit Card",Recommended_campaign:"Discount Email",Customer_Segment:"Credit_Loan_Segment_1_PN_sub4_atomic_3",Column4:.0018981220061789,Column5:176},{Product:"Loan",Recommended_campaign:"Discount Email",Customer_Segment:"Loan_Segment_1_Discount_sub1_atomic_3",Column4:.00179960216722889,Column5:177},{Product:"Credit Card",Recommended_campaign:"Discount Email",Customer_Segment:"Credit_Loan_Segment_1_PN_sub4_atomic_4",Column4:.0017996021672288,Column5:178},{Product:"Loan",Recommended_campaign:"Discount Email",Customer_Segment:"Loan_Segment_1_Discount_sub1_atomic_5",Column4:.00175558035692139,Column5:179},{Product:"Credit Card",Recommended_campaign:"Discount Email",Customer_Segment:"Credit_Loan_Segment_1_PN_sub4_atomic_5",Column4:.0017555803569213,Column5:180},{Product:"Loan",Recommended_campaign:"Discount Email",Customer_Segment:"Loan_Segment_1_Discount_sub1_atomic_2",Column4:.00172700392230332,Column5:181},{Product:"Credit Card",Recommended_campaign:"Discount Email",Customer_Segment:"Credit_Loan_Segment_1_PN_sub5_atomic_1",Column4:.0017270039223033,Column5:182},{Product:"Loan",Recommended_campaign:"Push Notification",Customer_Segment:"Loan_Segment_1_PN_sub1_atomic_1",Column4:.00164004093433833,Column5:183},{Product:"Credit Card",Recommended_campaign:"Push Notification",Customer_Segment:"Credit_Loan_Segment_1_PN_sub5_atomic_2",Column4:.0016400409343383,Column5:184},{Product:"Loan",Recommended_campaign:"Push Notification",Customer_Segment:"Loan_Segment_1_PN_sub1_atomic_3",Column4:.0016125442120227,Column5:185},{Product:"Credit Card",Recommended_campaign:"Push Notification",Customer_Segment:"Credit_Loan_Segment_1_PN_sub5_atomic_3",Column4:.0016125442120227,Column5:186},{Product:"Loan",Recommended_campaign:"Push Notification",Customer_Segment:"Loan_Segment_1_PN_sub1_atomic_2",Column4:.00157349713608519,Column5:187},{Product:"Credit Card",Recommended_campaign:"Push Notification",Customer_Segment:"Credit_Loan_Segment_1_PN_sub5_atomic_4",Column4:.0015734971360851,Column5:188},{Product:"Loan",Recommended_campaign:"Push Notification",Customer_Segment:"Loan_Segment_1_PN_sub1_atomic_5",Column4:.0015079561189418,Column5:189},{Product:"Credit Card",Recommended_campaign:"Push Notification",Customer_Segment:"Credit_Loan_Segment_1_PN_sub5_atomic_5",Column4:.0015079561189418,Column5:190},{Product:"Loan",Recommended_campaign:"Phone call",Customer_Segment:"Loan_Segment_1_Phone_sub5_atomic_2",Column4:.00139606109736046,Column5:191},{Product:"Credit Card",Recommended_campaign:"Phone call",Customer_Segment:"Credit_Loan_Segment_1_PN_sub2_atomic_1",Column4:.0013960610973604,Column5:192},{Product:"Loan",Recommended_campaign:"Phone call",Customer_Segment:"Loan_Segment_1_Phone_sub5_atomic_3",Column4:.00132915079951748,Column5:193},{Product:"Credit Card",Recommended_campaign:"Phone call",Customer_Segment:"Credit_Loan_Segment_1_PN_sub2_atomic_2",Column4:.0013291507995174,Column5:194},{Product:"Loan",Recommended_campaign:"Phone call",Customer_Segment:"Loan_Segment_1_Phone_sub5_atomic_1",Column4:.0012804103293848,Column5:195},{Product:"Credit Card",Recommended_campaign:"Phone call",Customer_Segment:"Credit_Loan_Segment_1_PN_sub2_atomic_3",Column4:.0012804103293848,Column5:196},{Product:"Loan",Recommended_campaign:"Phone call",Customer_Segment:"Loan_Segment_1_Phone_sub5_atomic_5",Column4:.00127566879546976,Column5:197},{Product:"Credit Card",Recommended_campaign:"Phone call",Customer_Segment:"Credit_Loan_Segment_1_PN_sub2_atomic_4",Column4:.0012756687954697,Column5:198},{Product:"Loan",Recommended_campaign:"Phone call",Customer_Segment:"Loan_Segment_1_Phone_sub5_atomic_4",Column4:.00126353524062688,Column5:199},{Product:"Credit Card",Recommended_campaign:"Phone call",Customer_Segment:"Credit_Loan_Segment_1_PN_sub2_atomic_5",Column4:.0012635352406268,Column5:200},{Product:"Loan",Recommended_campaign:"Push Notification",Customer_Segment:"Loan_Segment_1_PN_sub3_atomic_3",Column4:.00125840364588434,Column5:201},{Product:"Credit Card",Recommended_campaign:"Push Notification",Customer_Segment:"Credit_Loan_Segment_1_Discount_sub3_atomic_1",Column4:.0012584036458843,Column5:202},{Product:"Loan",Recommended_campaign:"Push Notification",Customer_Segment:"Loan_Segment_1_PN_sub3_atomic_4",Column4:.0011633935874503,Column5:203},{Product:"Credit Card",Recommended_campaign:"Push Notification",Customer_Segment:"Credit_Loan_Segment_1_Discount_sub3_atomic_2",Column4:.0011633935874503,Column5:204},{Product:"Loan",Recommended_campaign:"Push Notification",Customer_Segment:"Loan_Segment_1_PN_sub3_atomic_2",Column4:.00108935153533543,Column5:205},{Product:"Credit Card",Recommended_campaign:"Push Notification",Customer_Segment:"Credit_Loan_Segment_1_Discount_sub3_atomic_3",Column4:.0010893515353354,Column5:206},{Product:"Loan",Recommended_campaign:"Push Notification",Customer_Segment:"Loan_Segment_1_PN_sub3_atomic_5",Column4:.00106503228482945,Column5:207},{Product:"Credit Card",Recommended_campaign:"Push Notification",Customer_Segment:"Credit_Loan_Segment_1_Discount_sub3_atomic_4",Column4:.0010650322848294,Column5:208},{Product:"Loan",Recommended_campaign:"Push Notification",Customer_Segment:"Loan_Segment_1_PN_sub3_atomic_1",Column4:.000975737519292633,Column5:209},{Product:"Credit Card",Recommended_campaign:"Push Notification",Customer_Segment:"Credit_Loan_Segment_1_Discount_sub3_atomic_5",Column4:.0009757375192926,Column5:210},{Product:"Credit Card",Recommended_campaign:"Push Notification",Customer_Segment:"Credit_Loan_Segment_1_Discount_sub5_atomic_1",Column4:.0007764156677636,Column5:211},{Product:"Loan",Recommended_campaign:"Push Notification",Customer_Segment:"Loan_Segment_1_PN_sub4_atomic_3",Column4:.0007764156677636,Column5:212},{Product:"Loan",Recommended_campaign:"Push Notification",Customer_Segment:"Loan_Segment_1_PN_sub4_atomic_2",Column4:.000736074582677933,Column5:213},{Product:"Credit Card",Recommended_campaign:"Push Notification",Customer_Segment:"Credit_Loan_Segment_1_Discount_sub5_atomic_2",Column4:.0007360745826779,Column5:214},{Product:"Loan",Recommended_campaign:"Push Notification",Customer_Segment:"Loan_Segment_1_PN_sub4_atomic_1",Column4:.000697462956023966,Column5:215},{Product:"Credit Card",Recommended_campaign:"Push Notification",Customer_Segment:"Credit_Loan_Segment_1_Discount_sub5_atomic_3",Column4:.0006974629560239,Column5:216},{Product:"Loan",Recommended_campaign:"Phone call",Customer_Segment:"Loan_Segment_1_Phone_sub1_atomic_4",Column4:.000685681856962916,Column5:217},{Product:"Credit Card",Recommended_campaign:"Phone call",Customer_Segment:"Credit_Loan_Segment_1_Discount_sub5_atomic_4",Column4:.0006856818569629,Column5:218},{Product:"Credit Card",Recommended_campaign:"Push Notification",Customer_Segment:"Credit_Loan_Segment_1_Discount_sub5_atomic_5",Column4:.0005938413013285,Column5:219},{Product:"Loan",Recommended_campaign:"Push Notification",Customer_Segment:"Loan_Segment_1_PN_sub4_atomic_5",Column4:.0005938413013285,Column5:220},{Product:"Loan",Recommended_campaign:"Push Notification",Customer_Segment:"Loan_Segment_1_PN_sub4_atomic_4",Column4:.000579713753612466,Column5:221},{Product:"Credit Card",Recommended_campaign:"Push Notification",Customer_Segment:"Credit_Loan_Segment_1_Discount_sub2_atomic_1",Column4:.0005797137536124,Column5:222},{Product:"Loan",Recommended_campaign:"Push Notification",Customer_Segment:"Loan_Segment_1_PN_sub5_atomic_4",Column4:.000380825710028166,Column5:223},{Product:"Credit Card",Recommended_campaign:"Push Notification",Customer_Segment:"Credit_Loan_Segment_1_Discount_sub2_atomic_2",Column4:.0003808257100281,Column5:224},{Product:"Loan",Recommended_campaign:"Phone call",Customer_Segment:"Loan_Segment_1_Phone_sub1_atomic_3",Column4:.000379263312177335,Column5:225},{Product:"Credit Card",Recommended_campaign:"Phone call",Customer_Segment:"Credit_Loan_Segment_1_Discount_sub2_atomic_3",Column4:.0003792633121773,Column5:226},{Product:"Loan",Recommended_campaign:"Push Notification",Customer_Segment:"Loan_Segment_1_PN_sub5_atomic_1",Column4:.000374110853581133,Column5:227},{Product:"Credit Card",Recommended_campaign:"Push Notification",Customer_Segment:"Credit_Loan_Segment_1_Discount_sub2_atomic_4",Column4:.0003741108535811,Column5:228},{Product:"Loan",Recommended_campaign:"Phone call",Customer_Segment:"Loan_Segment_1_Phone_sub1_atomic_5",Column4:.00032365121268334,Column5:229},{Product:"Credit Card",Recommended_campaign:"Phone call",Customer_Segment:"Credit_Loan_Segment_1_Discount_sub2_atomic_5",Column4:.0003236512126833,Column5:230},{Product:"Loan",Recommended_campaign:"Push Notification",Customer_Segment:"Loan_Segment_1_PN_sub5_atomic_5",Column4:.0003229419559505,Column5:231},{Product:"Credit Card",Recommended_campaign:"Push Notification",Customer_Segment:"Credit_Loan_Segment_1_Discount_sub4_atomic_1",Column4:.0003229419559505,Column5:232},{Product:"Loan",Recommended_campaign:"Push Notification",Customer_Segment:"Loan_Segment_1_PN_sub5_atomic_2",Column4:.000289593890376599,Column5:233},{Product:"Credit Card",Recommended_campaign:"Push Notification",Customer_Segment:"Credit_Loan_Segment_1_Discount_sub4_atomic_2",Column4:.0002895938903765,Column5:234},{Product:"Loan",Recommended_campaign:"Push Notification",Customer_Segment:"Loan_Segment_1_PN_sub5_atomic_3",Column4:.00022378804960395,Column5:235},{Product:"Credit Card",Recommended_campaign:"Push Notification",Customer_Segment:"Credit_Loan_Segment_1_Discount_sub4_atomic_3",Column4:.0002237880496039,Column5:236},{Product:"Loan",Recommended_campaign:"Phone call",Customer_Segment:"Loan_Segment_1_Phone_sub1_atomic_2",Column4:.00018741530162675,Column5:237},{Product:"Credit Card",Recommended_campaign:"Phone call",Customer_Segment:"Credit_Loan_Segment_1_Discount_sub4_atomic_4",Column4:.0001874153016267,Column5:238},{Product:"Credit Card",Recommended_campaign:"Push Notification",Customer_Segment:"Credit_Loan_Segment_1_Discount_sub4_atomic_5",Column4:930114286665839e-19,Column5:239},{Product:"Loan",Recommended_campaign:"Push Notification",Customer_Segment:"Loan_Segment_1_PN_sub2_atomic_5",Column4:930114286665839e-19,Column5:240},{Product:"Credit Card",Recommended_campaign:"Phone call",Customer_Segment:"Credit_Loan_Segment_1_Discount_sub1_atomic_1",Column4:312449134035723e-19,Column5:241},{Product:"Loan",Recommended_campaign:"Phone call",Customer_Segment:"Loan_Segment_1_Phone_sub1_atomic_1",Column4:312449134035723e-19,Column5:242},{Product:"Credit Card",Recommended_campaign:"Push Notification",Customer_Segment:"Credit_Loan_Segment_1_Discount_sub1_atomic_2",Column4:-.0002607071950363,Column5:243},{Product:"Loan",Recommended_campaign:"Push Notification",Customer_Segment:"Loan_Segment_1_PN_sub2_atomic_4",Column4:-.0002607071950363,Column5:244},{Product:"Credit Card",Recommended_campaign:"Push Notification",Customer_Segment:"Credit_Loan_Segment_1_Discount_sub1_atomic_3",Column4:-.0003674247606455,Column5:245},{Product:"Loan",Recommended_campaign:"Push Notification",Customer_Segment:"Loan_Segment_1_PN_sub2_atomic_2",Column4:-.000367424760645512,Column5:246},{Product:"Credit Card",Recommended_campaign:"Push Notification",Customer_Segment:"Credit_Loan_Segment_1_Discount_sub1_atomic_4",Column4:-.000421203199082,Column5:247},{Product:"Loan",Recommended_campaign:"Push Notification",Customer_Segment:"Loan_Segment_1_PN_sub2_atomic_1",Column4:-.000421203199082099,Column5:248},{Product:"Credit Card",Recommended_campaign:"Push Notification",Customer_Segment:"Credit_Loan_Segment_1_Discount_sub1_atomic_5",Column4:-.0004216724299242,Column5:249},{Product:"Loan",Recommended_campaign:"Push Notification",Customer_Segment:"Loan_Segment_1_PN_sub2_atomic_3",Column4:-.000421672429924232,Column5:250}],Ap=function(){return(0,l.jsxs)("table",{className:"white-bg",children:[(0,l.jsxs)("thead",{children:[(0,l.jsx)("th",{children:"S.No"}),(0,l.jsx)("th",{children:"Product"}),(0,l.jsx)("th",{children:"Recommended Campaign"}),(0,l.jsx)("th",{children:"Customer Segment"}),(0,l.jsx)("th",{children:"Effect"}),(0,l.jsx)("th",{children:"Rank"})]}),(0,l.jsx)("tbody",{children:Lp&&Lp.map((function(e,t){return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{}),(0,l.jsx)("td",{children:e.Product}),(0,l.jsx)("td",{children:e.Recommended_campaign}),(0,l.jsx)("td",{children:e.Customer_Segment}),(0,l.jsx)("td",{children:e.Column4}),(0,l.jsx)("td",{children:e.Column5})]},t)}))})]})},Np=function(){new Intl.NumberFormat("en",{style:"decimal",signDisplay:"never",useGrouping:!0,notation:"compact"});return(0,l.jsxs)("ul",{className:"data-box",children:[(0,l.jsxs)("li",{className:"purple",children:[(0,l.jsx)("h3",{children:"Total Available Products"}),(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"line light-p",children:(0,l.jsx)("h2",{className:"flipX",children:"2"})})})]}),(0,l.jsxs)("li",{className:"orange",children:[(0,l.jsx)("h3",{children:"Total Product Sales"}),(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"line light-o",children:(0,l.jsx)("h2",{className:"flipX",children:"6560"})})})]})]})},Dp=function(){var e,t=c((0,r.useState)({labels:["Loan","Credit Cards"],options:{scales:{xAxes:[{gridLines:{drawOnChartArea:!1}}],yAxes:[{gridLines:{drawOnChartArea:!1}}]}},datasets:[(e={label:"Total Sales",data:[16839,13311],type:"pie",backgroundColor:["#ff0000"],order:1},ys(e,"backgroundColor",["#6C4AB6","#8EC3B0","#9ED5C5","#BCEAD5"]),ys(e,"borderColor",["rgba(255,99,132,1)","rgba(54, 162, 235, 1)"]),ys(e,"borderWidth",0),e)]}),1)[0];return(0,l.jsxs)("div",{className:"senior-product",children:[(0,l.jsx)("h3",{children:"Senior Manager - Product"}),(0,l.jsxs)("div",{className:"top-section",children:[(0,l.jsx)(Np,{}),(0,l.jsxs)("div",{className:"chart-flex",children:[(0,l.jsx)("div",{className:"chart-wrapper-bg",children:(0,l.jsxs)("div",{className:"chart-wrapper",children:[(0,l.jsx)("h3",{children:"Product Sales Contribution Chart"}),(0,l.jsx)(hp,{chartData:t})]})}),(0,l.jsx)("div",{className:"chart-wrapper-bg",children:(0,l.jsx)("div",{className:"chart-wrapper",children:(0,l.jsx)("h3",{children:"Sales Chart"})})})]})]}),(0,l.jsx)("h3",{children:"Overview Table"}),(0,l.jsx)(Ap,{})]})},Rp=function(){return(0,l.jsxs)("table",{className:"white-bg",children:[(0,l.jsxs)("thead",{children:[(0,l.jsx)("th",{children:"S.No"}),(0,l.jsx)("th",{children:"Segment"}),(0,l.jsx)("th",{children:"Recommended Product"}),(0,l.jsx)("th",{children:"Recommended Campaign"}),(0,l.jsx)("th",{children:"Marketing Fatigue"}),(0,l.jsx)("th",{children:"Conversion Rate"}),(0,l.jsx)("th",{children:"CLV"}),(0,l.jsx)("th",{children:"Churn Rate"}),(0,l.jsx)("th",{children:"Rank"})]}),(0,l.jsx)("tbody",{children:ms&&ms.map((function(e,t){return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{}),(0,l.jsx)("td",{children:e.Total_sales}),(0,l.jsx)("td",{children:e.Column3}),(0,l.jsx)("td",{children:e.Column4}),(0,l.jsx)("td",{children:e.Column5}),(0,l.jsx)("td",{}),(0,l.jsx)("td",{}),(0,l.jsx)("td",{}),(0,l.jsx)("td",{children:e.Column6})]},t)}))})]})},Op=function(){new Intl.NumberFormat("en",{style:"decimal",signDisplay:"never",useGrouping:!0,notation:"compact"});return(0,l.jsxs)("ul",{className:"data-box",children:[(0,l.jsxs)("li",{className:"purple",children:[(0,l.jsx)("h3",{children:"Total Number of Customer"}),(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"line light-p",children:(0,l.jsx)("h2",{className:"flipX",children:"100K"})})})]}),(0,l.jsxs)("li",{className:"orange",children:[(0,l.jsx)("h3",{children:"Total No. of Active Customer"}),(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"line light-o",children:(0,l.jsx)("h2",{className:"flipX",children:"57K"})})})]}),(0,l.jsxs)("li",{className:"purple",children:[(0,l.jsx)("h3",{children:"Total Number of Product"}),(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"line light-p",children:(0,l.jsx)("h2",{className:"flipX",children:"4"})})})]})]})},Mp=function(){var e,t=(0,r.useState)({labels:yp.map((function(e){return e.Month})),datasets:[(e={label:"Total Sales",data:[361609,187344,216253,357834],type:"pie",backgroundColor:["#ff0000"],order:1},ys(e,"backgroundColor",["#6C4AB6","#8EC3B0","#9ED5C5","#BCEAD5"]),ys(e,"borderColor",["rgba(255,99,132,1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)"]),ys(e,"borderWidth",1),e)]}),n=c(t,1)[0],i=(0,r.useState)({labels:yp.map((function(e){return e.Month})),datasets:[{label:"Product 1",data:yp.map((function(e){return e.email_campaign1_and_2})),backgroundColor:["#BCEAD5"],order:2},{label:"Product 2",data:yp.map((function(e){return e.email_campaign1_and_phone_call})),backgroundColor:["#B9E0FF"],order:2},{label:"Product 3",data:yp.map((function(e){return e.email_campaign2_and_phone_call})),backgroundColor:["#8D9EFF"],order:2},{label:"Product 4",data:yp.map((function(e){return e.all_channels})),backgroundColor:["#8D72E1"],order:2}]}),a=c(i,1)[0];return(0,l.jsxs)("div",{className:"senior-customer",children:[(0,l.jsx)("h3",{children:"Senior Customer"}),(0,l.jsxs)("div",{className:"top-section",children:[(0,l.jsx)(Op,{}),(0,l.jsxs)("div",{className:"table-section",children:[(0,l.jsx)("h3",{children:"Customer Overview Table"}),(0,l.jsx)(Rp,{})]})]}),(0,l.jsxs)("div",{className:"chart-flex",children:[(0,l.jsx)("div",{className:"chart-wrapper-bg",children:(0,l.jsxs)("div",{className:"chart-wrapper",children:[(0,l.jsx)("h3",{children:"Segment wise monthly product wise sale"}),(0,l.jsx)(hp,{chartData:a})]})}),(0,l.jsx)("div",{className:"chart-wrapper-bg",children:(0,l.jsxs)("div",{className:"chart-wrapper",children:[(0,l.jsx)("h3",{children:"Segment-Wise Campaign Distribution"}),(0,l.jsx)(hp,{chartData:n})]})})]})]})},jp=function(){new Intl.NumberFormat("en",{style:"decimal",signDisplay:"never",useGrouping:!0,notation:"compact"});return(0,l.jsxs)("ul",{className:"data-box",children:[(0,l.jsxs)("li",{className:"green",children:[(0,l.jsx)("h3",{children:"Present Running Campaign"}),(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"line light-g",children:(0,l.jsx)("h2",{className:"flipX",children:"5"})})})]}),(0,l.jsxs)("li",{className:"blue",children:[(0,l.jsx)("h3",{children:"Planned Reach Outs"}),(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"line light-b",children:(0,l.jsx)("h2",{className:"flipX",children:"50L"})})})]}),(0,l.jsxs)("li",{className:"purple",children:[(0,l.jsx)("h3",{children:"Current Reach Outs"}),(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"line light-p",children:(0,l.jsx)("h2",{className:"flipX",children:"20L"})})})]}),(0,l.jsxs)("li",{className:"orange",children:[(0,l.jsx)("h3",{children:"Current Success Rate"}),(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"line light-o",children:(0,l.jsx)("h2",{className:"flipX",children:"4.76%"})})})]})]})},Fp=function(){return(0,l.jsxs)("table",{className:"white-bg",children:[(0,l.jsxs)("thead",{children:[(0,l.jsx)("th",{children:"S.No"}),(0,l.jsx)("th",{children:"Name"}),(0,l.jsx)("th",{children:"Product "}),(0,l.jsx)("th",{children:"Campaign "}),(0,l.jsx)("th",{children:"Segment"}),(0,l.jsx)("th",{children:"Effect"}),(0,l.jsx)("th",{children:"Month"})]}),(0,l.jsx)("tbody",{children:pp&&pp.map((function(e,t){return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{}),(0,l.jsx)("td",{children:"Scenario 3"}),(0,l.jsx)("td",{children:"Product 2"}),(0,l.jsx)("td",{children:"Campaign 4"}),(0,l.jsx)("td",{children:"Segment 3"}),(0,l.jsx)("td",{children:"0.6"}),(0,l.jsx)("td",{children:"April"})]},t)}))})]})},Vp=function(){return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"head",children:(0,l.jsx)("h3",{children:"Admin"})}),(0,l.jsx)(jp,{}),(0,l.jsx)("h3",{children:"Proposed Scenarios"}),(0,l.jsx)(Fp,{})]})},Up=function(e){var t=e.items,n=(e.setItems,e.updateStatus);return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"head-top",children:[(0,l.jsx)("h4",{children:"Segment Table"}),(0,l.jsx)("div",{className:"button",children:(0,l.jsx)("button",{children:"Move to Campaign View"})})]}),(0,l.jsxs)("table",{className:"white-bg",children:[(0,l.jsxs)("thead",{children:[(0,l.jsx)("th",{children:"S.No"}),(0,l.jsx)("th",{children:"Products"}),(0,l.jsx)("th",{children:"Recommended Campaign"}),(0,l.jsx)("th",{children:"Success Rate"}),(0,l.jsx)("th",{children:"Cannabalizing Campaign"}),(0,l.jsx)("th",{children:"Customer Segment"}),(0,l.jsx)("th",{children:"Rank"}),(0,l.jsx)("th",{children:"Select"})]}),(0,l.jsx)("tbody",{children:t&&t.map((function(e){return e&&"Pending"===e.status&&(0,l.jsxs)("tr",{className:"item",children:[(0,l.jsx)("td",{}),(0,l.jsx)("td",{children:"Product 1"}),(0,l.jsx)("td",{children:"Email Campaign 2"}),(0,l.jsx)("td",{children:"50%"}),(0,l.jsx)("td",{children:"Email Campaign 3"}),(0,l.jsx)("td",{children:"Segment 2"}),(0,l.jsx)("td",{children:"1"}),(0,l.jsxs)("td",{children:[" ",(0,l.jsx)("button",{className:"mark_complete",onClick:function(){n(e.id,"Completed")},children:"Move"},e.id)]})]},e.id)}))})]})]})},zp=function(e){var t=e.items,n=(e.setItems,e.updateStatus);return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"head",children:(0,l.jsx)("h4",{children:"Campaign Settings"})}),(0,l.jsxs)("table",{className:"white-bg",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"S.No"}),(0,l.jsx)("th",{children:"Products"}),(0,l.jsx)("th",{children:"Recommended Campaign"}),(0,l.jsx)("th",{children:"Success Rate"}),(0,l.jsx)("th",{children:"Cannabalizing Campaign"}),(0,l.jsx)("th",{children:"Customer Segment"}),(0,l.jsx)("th",{children:"Rank"}),(0,l.jsx)("th",{children:"Selected Campaigns"}),(0,l.jsx)("th",{children:"Select"})]})}),(0,l.jsx)("tbody",{children:t&&t.map((function(e){return e&&"Completed"===e.status&&(0,l.jsxs)("tr",{className:"item",children:[(0,l.jsx)("td",{}),(0,l.jsx)("td",{children:"Product 1"}),(0,l.jsx)("td",{children:"Email Campaign 2"}),(0,l.jsx)("td",{children:"50%"}),(0,l.jsx)("td",{children:"Email Campaign 3"}),(0,l.jsx)("td",{children:"Segment 2"}),(0,l.jsx)("td",{children:"1"}),(0,l.jsx)("td",{children:(0,l.jsxs)("select",{children:[(0,l.jsx)("option",{children:"Email Campaign 1"}),(0,l.jsx)("option",{children:"Email Campaign 2"}),(0,l.jsx)("option",{children:"Phone Call"}),(0,l.jsx)("option",{children:"Email Campaign 1 & 2"}),(0,l.jsx)("option",{children:"Email Campaign 1 & Phone Call"}),(0,l.jsx)("option",{children:"Email Campaign 2 & Phone Call"}),(0,l.jsx)("option",{children:"All Channels"})]})}),(0,l.jsxs)("td",{children:[" ",(0,l.jsx)("button",{className:"mark_pending",onClick:function(){n(e.id,"Pending")},children:"Remove"},e.id)]})]},e.id)}))})]})]})},Bp=function(){var t=c((0,r.useState)([{id:1,Products:"Product 1",Location:"State X",Age:"below 20",CLV:"Low",Attrition_Rate:"0.2",Customer_Count:66224,Primary_Positive_Causal:"T4 Email Campaign 1 & 2",Primary_Negative_Causal:"T7 All Channels",status:"Pending"},{id:2,Products:"Product 1",Location:"State Y",Age:"below 20",CLV:"Medium",Attrition_Rate:"2.0",Customer_Count:277,Primary_Positive_Causal:"T4 Email Campaign 1 & 2",Primary_Negative_Causal:"T7 All Channels",status:"Pending"},{id:3,Products:"Product 1",Location:"State Z",Age:"below 20",CLV:"High",Attrition_Rate:"2.0",Customer_Count:2,Primary_Positive_Causal:"T4 Email Campaign 1 & 2",Primary_Negative_Causal:"T7 All Channels",status:"Pending"},{id:4,Products:"Product 1",Location:"State X",Age:"20 to 30",CLV:"Low",Attrition_Rate:"2.0",Customer_Count:11996,Primary_Positive_Causal:"T4 Email Campaign 1 & 2",Primary_Negative_Causal:"T7 All Channels",status:"Completed"},{id:5,Products:"Product 1",Location:"State Y",Age:"20 to 30",CLV:"Medium",Attrition_Rate:"2.0",Customer_Count:60,Primary_Positive_Causal:"T4 Email Campaign 1 & 2",Primary_Negative_Causal:"T7 All Channels",status:"Completed"},{id:6,Products:"Product 1",Location:"State Z",Age:"20 to 30",CLV:"High",Attrition_Rate:"2.0",Customer_Count:4,Primary_Positive_Causal:"T4 Email Campaign 1 & 2",Primary_Negative_Causal:"T7 All Channels",status:"Completed"}]),2),n=t[0],i=t[1],a=function(e,t){var r=n;r=r.map((function(n){return n.id===e&&(console.log("in here"),n.status=t),n})),i(r)},o={AllProduct:"AllSales",Product1:"Sales1",Product2:"Sales2",Product3:"Sales3",Product4:"Sales4",Product5:"Sales5",Product6:"Sales6",Product7:"Sales7"},s={AllProduct:"AllProduct",Product1:"Product1",Product2:"Product2",Product3:"Product3",Product4:"Product4",Product5:"Product5",Product6:"Product6",Product7:"Product7"},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"AllSales";return e[o[t]]},f=function(t){return e[s[t]]},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"AllProduct";return{labels:f(e).map((function(e){return e.Month})),datasets:[{label:"Total Sales",data:u(e).map((function(e){return e.total})),type:"line",backgroundColor:["#ff0000"],order:1,borderColor:["rgba(255,99,132,1)","rgba(32, 292, 305, 7)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:8},{label:"Email Camapign 1",data:f(e).map((function(e){return e.email_campaign1})),backgroundColor:["#6C4AB6"],order:2},{label:"Email Camapign 2",data:f(e).map((function(e){return e.email_campaign2})),backgroundColor:["#8EC3B0"],order:2},{label:"Phone Call",data:f(e).map((function(e){return e.phone_call})),backgroundColor:["#9ED5C5"],order:2},{label:"Email Camapign 1 & 2",data:f(e).map((function(e){return e.email_campaign1_and_2})),backgroundColor:["#BCEAD5"],order:2},{label:"Email Camapign 1 & Phone Call",data:f(e).map((function(e){return e.email_campaign1_and_phone_call})),backgroundColor:["#B9E0FF"],order:2},{label:"Email Camapign 2 & Phone Call",data:f(e).map((function(e){return e.email_campaign2_and_phone_call})),backgroundColor:["#8D9EFF"],order:2},{label:"All Channels",data:f(e).map((function(e){return e.all_channels})),backgroundColor:["#8D72E1"],order:2}]}},d=c((0,r.useState)(h()),2),m=d[0],p=d[1],v=c((0,r.useState)("All Products"),2),g=v[0],y=v[1];return(0,l.jsxs)("div",{className:"admin-campaign",children:[(0,l.jsxs)("div",{className:"admin-campaign-head",children:[(0,l.jsx)("h3",{children:"Admin Campaign"}),(0,l.jsxs)("div",{className:"admin-campaign-head-right",children:[(0,l.jsxs)("h6",{children:["Total Sales of Particular: ",(0,l.jsx)("span",{children:"320L"})]}),(0,l.jsx)("div",{className:"dropdown",children:(0,l.jsxs)("select",{value:g,onChange:function(e){return t=e.target.value,y(t),void p(h(t));var t},children:[(0,l.jsx)("option",{value:"AllProduct",children:"All Campaign"}),(0,l.jsx)("option",{value:"Product1",children:"Campaign 1"}),(0,l.jsx)("option",{value:"Product2",children:"Campaign 2"}),(0,l.jsx)("option",{value:"Product3",children:"Campaign 3"}),(0,l.jsx)("option",{value:"Product4",children:"Campaign 4"}),(0,l.jsx)("option",{value:"Product5",children:"Campaign 5"}),(0,l.jsx)("option",{value:"Product6",children:"Campaign 6"}),(0,l.jsx)("option",{value:"Product7",children:"Campaign 7"})]})})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"white-bg",children:(0,l.jsx)(hp,{chartData:m})}),(0,l.jsx)(Up,{items:n,setItems:i,updateStatus:a}),(0,l.jsx)(zp,{items:n,setItems:i,updateStatus:a}),(0,l.jsx)("div",{className:"button-wrapper",children:(0,l.jsx)("button",{className:"button-style",children:"Send Campaign"})})]})]})},Wp=function(){return(0,l.jsxs)("table",{className:"white-bg",children:[(0,l.jsxs)("thead",{children:[(0,l.jsx)("th",{children:"S.No"}),(0,l.jsx)("th",{children:"Admin"}),(0,l.jsx)("th",{children:"Product "}),(0,l.jsx)("th",{children:"Testing Campaign"}),(0,l.jsx)("th",{children:"Month"})]}),(0,l.jsx)("tbody",{children:pp&&pp.map((function(e,t){return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{}),(0,l.jsx)("td",{children:"Admin 1"}),(0,l.jsx)("td",{children:"Product 1"}),(0,l.jsx)("td",{children:"Campaign 1 and Campaign 2"}),(0,l.jsx)("td",{children:"March"})]},t)}))})]})},Hp=function(){return(0,l.jsxs)("div",{className:"admin-summary",children:[(0,l.jsx)("h3",{children:"Admin Summary"}),(0,l.jsx)(Wp,{})]})};hd.defaults.datasets.bar.maxBarThickness=85;var qp={plugins:{title:{display:!0}},responsive:!0,scales:{x:{title:{display:!0},labels:["Apr","May","Jun","Jul","Aug","Sep"]},y:{title:{display:!0},ticks:{beginAtZero:!0,min:0,max:3e5,stepSize:15e4}}}},Gp=function(e){var t=e.chartData;return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(lp,{options:qp,data:t})})},Yp=function(){var t=c((0,r.useState)([{id:1,Products:"Product 1",Location:"State X",Age:"below 20",CLV:"Low",Attrition_Rate:"0.2",Customer_Count:66224,Primary_Positive_Causal:"T4 Email Campaign 1 & 2",Primary_Negative_Causal:"T7 All Channels",status:"Pending"},{id:2,Products:"Product 1",Location:"State Y",Age:"below 20",CLV:"Medium",Attrition_Rate:"2.0",Customer_Count:277,Primary_Positive_Causal:"T4 Email Campaign 1 & 2",Primary_Negative_Causal:"T7 All Channels",status:"Pending"},{id:3,Products:"Product 1",Location:"State Z",Age:"below 20",CLV:"High",Attrition_Rate:"2.0",Customer_Count:2,Primary_Positive_Causal:"T4 Email Campaign 1 & 2",Primary_Negative_Causal:"T7 All Channels",status:"Pending"},{id:4,Products:"Product 1",Location:"State X",Age:"20 to 30",CLV:"Low",Attrition_Rate:"2.0",Customer_Count:11996,Primary_Positive_Causal:"T4 Email Campaign 1 & 2",Primary_Negative_Causal:"T7 All Channels",status:"Completed"},{id:5,Products:"Product 1",Location:"State Y",Age:"20 to 30",CLV:"Medium",Attrition_Rate:"2.0",Customer_Count:60,Primary_Positive_Causal:"T4 Email Campaign 1 & 2",Primary_Negative_Causal:"T7 All Channels",status:"Completed"},{id:6,Products:"Product 1",Location:"State Z",Age:"20 to 30",CLV:"High",Attrition_Rate:"2.0",Customer_Count:4,Primary_Positive_Causal:"T4 Email Campaign 1 & 2",Primary_Negative_Causal:"T7 All Channels",status:"Completed"}]),2),n=t[0],i=t[1],a=function(e,t){var r=n;r=r.map((function(n){return n.id===e&&(console.log("in here"),n.status=t),n})),i(r)},o={AllProduct:"AllSales",Product1:"Sales1",Product2:"Sales2"},s={AllProduct:"AllProduct",Product1:"Product1",Product2:"Product2"},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"AllSales";return e[o[t]]},f=function(t){return e[s[t]]},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"AllProduct";return{labels:f(e).map((function(e){return e.Month})),datasets:[{label:"Total Sales",data:u(e).map((function(e){return e.total})),type:"line",backgroundColor:["#ff0000"],order:1,borderColor:["rgba(255,99,132,1)","rgba(32, 292, 305, 7)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:8},{label:"Email Campaign 1",data:f(e).map((function(e){return e.email_campaign1})),backgroundColor:["#6C4AB6"],order:2},{label:"Email Campaign 2",data:f(e).map((function(e){return e.email_campaign2})),backgroundColor:["#8EC3B0"],order:2},{label:"Phone Call",data:f(e).map((function(e){return e.phone_call})),backgroundColor:["#9ED5C5"],order:2},{label:"Email Campaign 1 & 2",data:f(e).map((function(e){return e.email_campaign1_and_2})),backgroundColor:["#BCEAD5"],order:2},{label:"Email Campaign 1 & Phone Call",data:f(e).map((function(e){return e.email_campaign1_and_phone_call})),backgroundColor:["#B9E0FF"],order:2},{label:"Email Campaign 2 & Phone Call",data:f(e).map((function(e){return e.email_campaign2_and_phone_call})),backgroundColor:["#8D9EFF"],order:2},{label:"All Channels",data:f(e).map((function(e){return e.all_channels})),backgroundColor:["#8D72E1"],order:2}]}},d=c((0,r.useState)(h()),2),m=d[0],p=d[1],v=c((0,r.useState)("All Products"),2),g=v[0],y=v[1];return(0,l.jsxs)("div",{className:"admin-campaign",children:[(0,l.jsxs)("div",{className:"admin-campaign-head",children:[(0,l.jsx)("h3",{children:"Admin Product"}),(0,l.jsxs)("div",{className:"admin-campaign-head-right",children:[(0,l.jsxs)("h6",{children:["Total Sales of particular: ",(0,l.jsx)("span",{children:"320L"})]}),(0,l.jsx)("div",{className:"dropdown",children:(0,l.jsxs)("select",{value:g,onChange:function(e){return t=e.target.value,y(t),void p(h(t));var t},children:[(0,l.jsx)("option",{value:"AllProduct",children:"All Product"}),(0,l.jsx)("option",{value:"Product1",children:"Product 1"}),(0,l.jsx)("option",{value:"Product2",children:"Product 2"})]})})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"white-bg",children:(0,l.jsx)(Gp,{chartData:m})}),(0,l.jsx)(Up,{items:n,setItems:i,updateStatus:a}),(0,l.jsx)(zp,{items:n,setItems:i,updateStatus:a}),(0,l.jsx)("div",{className:"button-wrapper",children:(0,l.jsx)("button",{className:"button-style",children:"Send Campaign"})})]})]})},Kp=function(){return(0,l.jsx)("div",{children:"What if scenario page"})};function Qp(e,t,n){return Qp=Es()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Zn(i,n.prototype),i},Qp.apply(null,arguments)}function Xp(e){var t="function"===typeof Map?new Map:void 0;return Xp=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Qp(e,arguments,Cs(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Zn(n,e)},Xp(e)}var Jp=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Zp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Jp(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},$p=function(e){return function(e){var t=Jp(e);return Zp.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ev=function(e){try{return Zp.decodeString(e,!0)}catch(yB){console.error("base64Decode failed: ",yB)}return null};function tv(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&nv(n)&&(e[n]=tv(e[n],t[n]));return e}function nv(e){return"__proto__"!==e}function rv(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function iv(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(yB){return!1}}function av(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ov(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function sv(){var e=rv();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function uv(){try{return"object"===typeof indexedDB}catch(yB){return!1}}var cv=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},lv=function(){try{return cv()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(yB){return}var t=e&&ev(e[1]);return t&&JSON.parse(t)}}()}catch(yB){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(yB))}},fv=function(){var e;return null===(e=lv())||void 0===e?void 0:e.config},hv=function(){function e(){var t=this;Ns(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Rs(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function dv(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[$p(JSON.stringify({alg:"none",type:"JWT"})),$p(JSON.stringify(a)),""].join(".")}var mv=function(e){Ss(n,e);var t=Ps(n);function n(e,r,i){var a;return Ns(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(ks(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(ks(a),pv.prototype.create),a}return Rs(n)}(Xp(Error)),pv=function(){function e(t,n,r){Ns(this,e),this.service=t,this.serviceName=n,this.errors=r}return Rs(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?vv(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new mv(n,a,t);return o}}]),e}();function vv(e,t){return e.replace(gv,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var gv=/\{\$([^}]+)}/g;function yv(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function _v(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(bv(s)&&bv(u)){if(!_v(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function bv(e){return null!==e&&"object"===typeof e}function kv(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Cv(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function wv(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function xv(e,t){var n=new Sv(e,t);return n.subscribe.bind(n)}var Sv=function(){function e(t,n){var r=this;Ns(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Rs(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Is(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Ev),void 0===r.error&&(r.error=Ev),void 0===r.complete&&(r.complete=Ev);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(yB){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(yB){"undefined"!==typeof console&&console.error&&console.error(yB)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Ev(){}function Tv(e){return e&&e._delegate?e._delegate:e}function Pv(){Pv=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(P){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),s=new S(i||[]);return r(o,"_invoke",{value:k(e,n,s)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=c;var f={};function h(){}function d(){}function m(){}var p={};u(p,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(E([])));g&&g!==t&&n.call(g,a)&&(p=g);var y=m.prototype=h.prototype=Object.create(p);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,a,o,s){var u=l(e[r],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==vs(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function k(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=C(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function C(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function E(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return d.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=u(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},_(b.prototype),u(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(y),u(y,s,"Generator"),u(y,a,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Iv(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function Lv(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Iv(a,r,i,o,s,"next",e)}function s(e){Iv(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Av=function(){function e(t,n,r){Ns(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Rs(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Nv="[DEFAULT]",Dv=function(){function e(t,n){Ns(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Rs(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new hv;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(yB){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(yB){if(r)return null;throw yB}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Nv})}catch(yB){}var t,n=Is(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(yB){}}}catch(u){n.e(u)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nv;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Lv(Pv().mark((function e(){var t;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(As(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),As(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nv;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nv;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Is(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=c(i.value,2),u=s[0],l=s[1],f=this.normalizeInstanceIdentifier(u);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Is(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(LV){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Nv?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(LV){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nv;return this.component?this.component.multipleInstances?e:Nv:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Rv,Ov,Mv=function(){function e(t){Ns(this,e),this.name=t,this.providers=new Map}return Rs(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Dv(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),jv=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ov||(Ov={}));var Fv={debug:Ov.DEBUG,verbose:Ov.VERBOSE,info:Ov.INFO,warn:Ov.WARN,error:Ov.ERROR,silent:Ov.SILENT},Vv=Ov.INFO,Uv=(ys(Rv={},Ov.DEBUG,"log"),ys(Rv,Ov.VERBOSE,"log"),ys(Rv,Ov.INFO,"info"),ys(Rv,Ov.WARN,"warn"),ys(Rv,Ov.ERROR,"error"),Rv),zv=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Uv[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Bv=function(){function e(t){Ns(this,e),this.name=t,this._logLevel=Vv,this._logHandler=zv,this._userLogHandler=null,jv.push(this)}return Rs(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Ov))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Fv[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ov.DEBUG].concat(t)),this._logHandler.apply(this,[this,Ov.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ov.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Ov.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ov.INFO].concat(t)),this._logHandler.apply(this,[this,Ov.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ov.WARN].concat(t)),this._logHandler.apply(this,[this,Ov.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ov.ERROR].concat(t)),this._logHandler.apply(this,[this,Ov.ERROR].concat(t))}}]),e}();var Wv,Hv;var qv=new WeakMap,Gv=new WeakMap,Yv=new WeakMap,Kv=new WeakMap,Qv=new WeakMap;var Xv={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Gv.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Yv.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $v(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Jv(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Hv||(Hv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(eg(this),n),$v(qv.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $v(e.apply(eg(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[eg(this),t].concat(r));return Yv.set(a,t.sort?t.sort():[t]),$v(a)}}function Zv(e){return"function"===typeof e?Jv(e):(e instanceof IDBTransaction&&function(e){if(!Gv.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Gv.set(e,t)}}(e),t=e,(Wv||(Wv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Xv):e);var t}function $v(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t($v(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&qv.set(t,e)})).catch((function(){})),Qv.set(t,e),t}(e);if(Kv.has(e))return Kv.get(e);var t=Zv(e);return t!==e&&(Kv.set(e,t),Qv.set(t,e)),t}var eg=function(e){return Qv.get(e)};var tg,ng,rg=["get","getKey","getAll","getAllKeys","count"],ig=["put","add","delete","clear"],ag=new Map;function og(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(ag.get(t))return ag.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=ig.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||rg.includes(n))){var a=function(){var e=Lv(Pv().mark((function e(t){var a,o,s,u,c,l,f=arguments;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return ag.set(t,a),a}}}!function(e){Xv=e(Xv)}((function(e){return bs(bs({},e),{},{get:function(t,n,r){return og(t,n)||e.get(t,n,r)},has:function(t,n){return!!og(t,n)||e.has(t,n)}})}));var sg=function(){function e(t){Ns(this,e),this.container=t}return Rs(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ug="@firebase/app",cg="0.9.0",lg=new Bv("@firebase/app"),fg="[DEFAULT]",hg=(ys(tg={},ug,"fire-core"),ys(tg,"@firebase/app-compat","fire-core-compat"),ys(tg,"@firebase/analytics","fire-analytics"),ys(tg,"@firebase/analytics-compat","fire-analytics-compat"),ys(tg,"@firebase/app-check","fire-app-check"),ys(tg,"@firebase/app-check-compat","fire-app-check-compat"),ys(tg,"@firebase/auth","fire-auth"),ys(tg,"@firebase/auth-compat","fire-auth-compat"),ys(tg,"@firebase/database","fire-rtdb"),ys(tg,"@firebase/database-compat","fire-rtdb-compat"),ys(tg,"@firebase/functions","fire-fn"),ys(tg,"@firebase/functions-compat","fire-fn-compat"),ys(tg,"@firebase/installations","fire-iid"),ys(tg,"@firebase/installations-compat","fire-iid-compat"),ys(tg,"@firebase/messaging","fire-fcm"),ys(tg,"@firebase/messaging-compat","fire-fcm-compat"),ys(tg,"@firebase/performance","fire-perf"),ys(tg,"@firebase/performance-compat","fire-perf-compat"),ys(tg,"@firebase/remote-config","fire-rc"),ys(tg,"@firebase/remote-config-compat","fire-rc-compat"),ys(tg,"@firebase/storage","fire-gcs"),ys(tg,"@firebase/storage-compat","fire-gcs-compat"),ys(tg,"@firebase/firestore","fire-fst"),ys(tg,"@firebase/firestore-compat","fire-fst-compat"),ys(tg,"fire-js","fire-js"),ys(tg,"firebase","fire-js-all"),tg),dg=new Map,mg=new Map;function pg(e,t){try{e.container.addComponent(t)}catch(yB){lg.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),yB)}}function vg(e,t){e.container.addOrOverwriteComponent(t)}function gg(e){var t=e.name;if(mg.has(t))return lg.debug("There were multiple attempts to register component ".concat(t,".")),!1;mg.set(t,e);var n,r=Is(dg.values());try{for(r.s();!(n=r.n()).done;){pg(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function yg(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function _g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fg;yg(e,t).clearInstance(n)}function bg(){mg.clear()}var kg=(ys(ng={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ys(ng,"bad-app-name","Illegal App name: '{$appName}"),ys(ng,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),ys(ng,"app-deleted","Firebase App named '{$appName}' already deleted"),ys(ng,"no-options","Need to provide options, when not being deployed to hosting via source."),ys(ng,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ys(ng,"invalid-log-argument","First argument to `onLog` must be null or a function."),ys(ng,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),ys(ng,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),ys(ng,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),ys(ng,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),ng),Cg=new pv("app","Firebase",kg),wg=function(){function e(t,n,r){var i=this;Ns(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Av("app",(function(){return i}),"PUBLIC"))}return Rs(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Cg.create("app-deleted",{appName:this._name})}}]),e}(),xg="9.15.0";function Sg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:fg,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw Cg.create("bad-app-name",{appName:String(a)});if(n||(n=fv()),!n)throw Cg.create("no-options");var o=dg.get(a);if(o){if(_v(n,o.options)&&_v(i,o.config))return o;throw Cg.create("duplicate-app",{appName:a})}var s,u=new Mv(a),c=Is(mg.values());try{for(c.s();!(s=c.n()).done;){var l=s.value;u.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new wg(n,i,u);return dg.set(a,f),f}function Eg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fg,t=dg.get(e);if(!t&&e===fg)return Sg();if(!t)throw Cg.create("no-app",{appName:e});return t}function Tg(){return Array.from(dg.values())}function Pg(e){return Ig.apply(this,arguments)}function Ig(){return Ig=Lv(Pv().mark((function e(t){var n;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!dg.has(n)){e.next=6;break}return dg.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Ig.apply(this,arguments)}function Lg(e,t,n){var r,i=null!==(r=hg[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void lg.warn(s.join(" "))}gg(new Av("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Ag(e,t){if(null!==e&&"function"!==typeof e)throw Cg.create("invalid-log-argument");!function(e,t){var n,r=Is(jv);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Fv[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Ov[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Ng(e){var t;t=e,jv.forEach((function(e){e.setLogLevel(t)}))}var Dg="firebase-heartbeat-store",Rg=null;function Og(){return Rg||(Rg=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=$v(s);return i&&s.addEventListener("upgradeneeded",(function(e){i($v(s.result),e.oldVersion,e.newVersion,$v(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Dg)}}).catch((function(e){throw Cg.create("idb-open",{originalErrorMessage:e.message})}))),Rg}function Mg(e){return jg.apply(this,arguments)}function jg(){return jg=Lv(Pv().mark((function e(t){var n,r;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Og();case 3:return n=e.sent,e.abrupt("return",n.transaction(Dg).objectStore(Dg).get(Ug(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof mv?lg.warn(e.t0.message):(r=Cg.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),lg.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),jg.apply(this,arguments)}function Fg(e,t){return Vg.apply(this,arguments)}function Vg(){return Vg=Lv(Pv().mark((function e(t,n){var r,i,a,o;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Og();case 3:return r=e.sent,i=r.transaction(Dg,"readwrite"),a=i.objectStore(Dg),e.next=8,a.put(n,Ug(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof mv?lg.warn(e.t0.message):(o=Cg.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),lg.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Vg.apply(this,arguments)}function Ug(e){return"".concat(e.name,"!").concat(e.options.appId)}var zg=function(){function e(t){var n=this;Ns(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Gg(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Rs(e,[{key:"triggerHeartbeat",value:function(){var e=Lv(Pv().mark((function e(){var t,n,r;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Bg(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Lv(Pv().mark((function e(){var t,n,r,i,a;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Bg(),n=Wg(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=$p(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Bg(){return(new Date).toISOString().substring(0,10)}function Wg(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Is(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Yg(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Yg(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Hg,qg,Gg=function(){function e(t){Ns(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Rs(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Lv(Pv().mark((function e(){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(uv()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Lv(Pv().mark((function e(){var t;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Mg(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Lv(Pv().mark((function e(t){var n,r;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Fg(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Lv(Pv().mark((function e(t){var n,r;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Fg(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(As(r.heartbeats),As(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Yg(e){return $p(JSON.stringify({version:2,heartbeats:e})).length}Hg="",gg(new Av("platform-logger",(function(e){return new sg(e)}),"PRIVATE")),gg(new Av("heartbeat",(function(e){return new zg(e)}),"PRIVATE")),Lg(ug,cg,Hg),Lg(ug,cg,"esm2017"),Lg("fire-js","");var Kg=function(){function e(t,n){var r=this;Ns(this,e),this._delegate=t,this.firebase=n,pg(t,new Av("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Rs(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Pg(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fg;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fg;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){pg(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){vg(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Qg=(ys(qg={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ys(qg,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),qg),Xg=new pv("app-compat","Firebase",Qg);var Jg=function e(){var n=function(e){var n={},r={__esModule:!0,initializeApp:function(t){var i=Sg(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(yv(n,i.name))return n[i.name];var a=new e(i,r);return n[i.name]=a,a},app:i,registerVersion:Lg,setLogLevel:Ng,onLog:Ag,apps:null,SDK_VERSION:xg,INTERNAL:{registerComponent:function(t){var n=t.name,a=n.replace("-compat","");if(gg(t)&&"PUBLIC"===t.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Xg.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==t.serviceProps&&tv(o,t.serviceProps),r[a]=o,e.prototype[a]=function(){for(var e=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e.apply(this,t.multipleInstances?i:[])}}return"PUBLIC"===t.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:t}};function i(e){if(!yv(n,e=e||fg))throw Xg.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=e,r}(Kg);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){tv(n,e)},createSubscribe:xv,ErrorFactory:pv,deepExtend:tv}),n}(),Zg=new Bv("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Zg.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var $g=self.firebase.SDK_VERSION;$g&&$g.indexOf("LITE")>=0&&Zg.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var ey=Jg;!function(e){Lg("@firebase/app-compat","0.2.0",e)}();ey.registerVersion("firebase","9.15.0","app-compat");function ty(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var ny;Object.create;var ry="facebook.com",iy="github.com",ay="google.com",oy="password",sy="twitter.com",uy="EMAIL_SIGNIN",cy="PASSWORD_RESET",ly="RECOVER_EMAIL",fy="REVERT_SECOND_FACTOR_ADDITION",hy="VERIFY_AND_CHANGE_EMAIL",dy="VERIFY_EMAIL";function my(){return ys({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var py=function(){var e;return ys(e={},"admin-restricted-operation","This operation is restricted to administrators only."),ys(e,"argument-error",""),ys(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),ys(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),ys(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),ys(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),ys(e,"cordova-not-ready","Cordova framework is not ready."),ys(e,"cors-unsupported","This browser is not supported."),ys(e,"credential-already-in-use","This credential is already associated with a different user account."),ys(e,"custom-token-mismatch","The custom token corresponds to a different audience."),ys(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),ys(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),ys(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),ys(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),ys(e,"email-already-in-use","The email address is already in use by another account."),ys(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),ys(e,"expired-action-code","The action code has expired."),ys(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),ys(e,"internal-error","An internal AuthError has occurred."),ys(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),ys(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),ys(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),ys(e,"invalid-auth-event","An internal AuthError has occurred."),ys(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),ys(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),ys(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),ys(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),ys(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),ys(e,"invalid-email","The email address is badly formatted."),ys(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),ys(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),ys(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),ys(e,"invalid-credential","The supplied auth credential is malformed or has expired."),ys(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),ys(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),ys(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),ys(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),ys(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),ys(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),ys(e,"wrong-password","The password is invalid or the user does not have a password."),ys(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),ys(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),ys(e,"invalid-provider-id","The specified provider ID is invalid."),ys(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),ys(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),ys(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),ys(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),ys(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),ys(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),ys(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),ys(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),ys(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),ys(e,"missing-continue-uri","A continue URL must be provided in the request."),ys(e,"missing-iframe-start","An internal AuthError has occurred."),ys(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),ys(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),ys(e,"missing-multi-factor-info","No second factor identifier is provided."),ys(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),ys(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),ys(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),ys(e,"app-deleted","This instance of FirebaseApp has been deleted."),ys(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),ys(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),ys(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),ys(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),ys(e,"no-auth-event","An internal AuthError has occurred."),ys(e,"no-such-provider","User was not linked to an account with the given provider."),ys(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),ys(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),ys(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),ys(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),ys(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),ys(e,"provider-already-linked","User can only be linked to one identity for the given provider."),ys(e,"quota-exceeded","The project's quota for this operation has been exceeded."),ys(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),ys(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),ys(e,"rejected-credential","The request contains malformed or mismatching credentials."),ys(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),ys(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),ys(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),ys(e,"timeout","The operation has timed out."),ys(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),ys(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),ys(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),ys(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),ys(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),ys(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),ys(e,"unverified-email","The operation requires a verified email."),ys(e,"user-cancelled","The user did not grant your application the permissions it requested."),ys(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),ys(e,"user-disabled","The user account has been disabled by an administrator."),ys(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),ys(e,"user-signed-out",""),ys(e,"weak-password","The password must be 6 characters long or more."),ys(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),ys(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},vy=my,gy=new pv("auth","Firebase",my()),yy=new Bv("@firebase/auth");function _y(e){if(yy.logLevel<=Ov.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];yy.error.apply(yy,["Auth (".concat(xg,"): ").concat(e)].concat(n))}}function by(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw xy.apply(void 0,[e].concat(n))}function ky(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return xy.apply(void 0,[e].concat(n))}function Cy(e,t,n){var r=Object.assign(Object.assign({},vy()),ys({},t,n));return new pv("auth","Firebase",r).create(t,{appName:e.name})}function wy(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&by(e,"argument-error"),Cy(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function xy(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=As(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(As(o)))}return gy.create.apply(gy,[e].concat(n))}function Sy(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw xy.apply(void 0,[t].concat(r))}}function Ey(e){var t="INTERNAL ASSERTION FAILED: "+e;throw _y(t),new Error(t)}function Ty(e,t){e||Ey(t)}var Py=new Map;function Iy(e){Ty(e instanceof Function,"Expected a class definition");var t=Py.get(e);return t?(Ty(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Py.set(e,t),t)}function Ly(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ay(){return"http:"===Ny()||"https:"===Ny()}function Ny(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Dy=function(){function e(t,n){Ns(this,e),this.shortDelay=t,this.longDelay=n,Ty(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rv())||ov()}return Rs(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Ay()||av()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Ry(e,t){Ty(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Oy=function(){function e(){Ns(this,e)}return Rs(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Ey("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Ey("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Ey("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),My=(ys(ny={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),ys(ny,"MISSING_CUSTOM_TOKEN","internal-error"),ys(ny,"INVALID_IDENTIFIER","invalid-email"),ys(ny,"MISSING_CONTINUE_URI","internal-error"),ys(ny,"INVALID_PASSWORD","wrong-password"),ys(ny,"MISSING_PASSWORD","internal-error"),ys(ny,"EMAIL_EXISTS","email-already-in-use"),ys(ny,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),ys(ny,"INVALID_IDP_RESPONSE","invalid-credential"),ys(ny,"INVALID_PENDING_TOKEN","invalid-credential"),ys(ny,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),ys(ny,"MISSING_REQ_TYPE","internal-error"),ys(ny,"EMAIL_NOT_FOUND","user-not-found"),ys(ny,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),ys(ny,"EXPIRED_OOB_CODE","expired-action-code"),ys(ny,"INVALID_OOB_CODE","invalid-action-code"),ys(ny,"MISSING_OOB_CODE","internal-error"),ys(ny,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),ys(ny,"INVALID_ID_TOKEN","invalid-user-token"),ys(ny,"TOKEN_EXPIRED","user-token-expired"),ys(ny,"USER_NOT_FOUND","user-token-expired"),ys(ny,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),ys(ny,"INVALID_CODE","invalid-verification-code"),ys(ny,"INVALID_SESSION_INFO","invalid-verification-id"),ys(ny,"INVALID_TEMPORARY_PROOF","invalid-credential"),ys(ny,"MISSING_SESSION_INFO","missing-verification-id"),ys(ny,"SESSION_EXPIRED","code-expired"),ys(ny,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),ys(ny,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),ys(ny,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),ys(ny,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),ys(ny,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),ys(ny,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),ys(ny,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),ys(ny,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),ys(ny,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),ys(ny,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),ys(ny,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),ny),jy=new Dy(3e4,6e4);function Fy(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Vy(e,t,n,r){return Uy.apply(this,arguments)}function Uy(){return Uy=Lv(Pv().mark((function e(t,n,r,i){var a,o=arguments;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",zy(t,a,Lv(Pv().mark((function e(){var a,o,s,u;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=kv(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Oy.fetch()(qy(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Uy.apply(this,arguments)}function zy(e,t,n){return By.apply(this,arguments)}function By(){return(By=Lv(Pv().mark((function e(t,n,r){var i,a,o,s,u,l,f,h,d,m;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},My),n),e.prev=2,a=new Gy(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Yy(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,l=u.split(" : "),f=c(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Yy(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Yy(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Yy(t,"user-disabled",s);case 29:if(m=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Cy(t,m,d);case 34:by(t,m);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof mv)){e.next=41;break}throw e.t0;case 41:by(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])})))).apply(this,arguments)}function Wy(e,t,n,r){return Hy.apply(this,arguments)}function Hy(){return Hy=Lv(Pv().mark((function e(t,n,r,i){var a,o,s=arguments;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Vy(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&by(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Hy.apply(this,arguments)}function qy(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Ry(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Gy=function(){function e(t){var n=this;Ns(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(ky(n.auth,"network-request-failed"))}),jy.get())}))}return Rs(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Yy(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=ky(e,t,r);return i.customData._tokenResponse=n,i}function Ky(e,t){return Qy.apply(this,arguments)}function Qy(){return(Qy=Lv(Pv().mark((function e(t,n){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vy(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xy(e,t){return Jy.apply(this,arguments)}function Jy(){return(Jy=Lv(Pv().mark((function e(t,n){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vy(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zy(e,t){return $y.apply(this,arguments)}function $y(){return($y=Lv(Pv().mark((function e(t,n){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vy(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function e_(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(yB){}}function t_(){return t_=Lv(Pv().mark((function e(t){var n,r,i,a,o,s,u=arguments;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Tv(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Sy((a=r_(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:e_(n_(a.auth_time)),issuedAtTime:e_(n_(a.iat)),expirationTime:e_(n_(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),t_.apply(this,arguments)}function n_(e){return 1e3*Number(e)}function r_(e){var t=c(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return _y("JWT malformed, contained fewer than 3 sections"),null;try{var a=ev(r);return a?JSON.parse(a):(_y("Failed to decode base64 JWT payload"),null)}catch(yB){return _y("Caught error parsing JWT payload as JSON",null===yB||void 0===yB?void 0:yB.toString()),null}}function i_(e,t){return a_.apply(this,arguments)}function a_(){return a_=Lv(Pv().mark((function e(t,n){var r=arguments;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof mv&&o_(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),a_.apply(this,arguments)}function o_(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var s_=function(){function e(t){Ns(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Rs(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Lv(Pv().mark((function t(){return Pv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Lv(Pv().mark((function e(){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),u_=function(){function e(t,n){Ns(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Rs(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=e_(this.lastLoginAt),this.creationTime=e_(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function c_(e){return l_.apply(this,arguments)}function l_(){return l_=Lv(Pv().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,i_(t,Zy(r,{idToken:i}));case 6:Sy(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?d_(o.providerUserInfo):[],u=h_(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new u_(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),l_.apply(this,arguments)}function f_(){return(f_=Lv(Pv().mark((function e(t){var n;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Tv(t),e.next=3,c_(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h_(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(As(n),As(t))}function d_(e){return e.map((function(e){var t=e.providerId,n=ty(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function m_(e,t){return p_.apply(this,arguments)}function p_(){return(p_=Lv(Pv().mark((function e(t,n){var r;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zy(t,{},Lv(Pv().mark((function e(){var r,i,a,o,s,u;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=kv({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=qy(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Oy.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v_=function(){function e(){Ns(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Rs(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Sy(e.idToken,"internal-error"),Sy("undefined"!==typeof e.idToken,"internal-error"),Sy("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=r_(e);return Sy(t,"internal-error"),Sy("undefined"!==typeof t.exp,"internal-error"),Sy("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Lv(Pv().mark((function e(t){var n,r=arguments;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Sy(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Lv(Pv().mark((function e(t,n){var r,i,a,o;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m_(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Ey("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Sy("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Sy("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Sy("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function g_(e,t){Sy("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var y_=function(){function e(t){Ns(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=ty(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new s_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?As(a.providerData):[],this.metadata=new u_(a.createdAt||void 0,a.lastLoginAt||void 0)}return Rs(e,[{key:"getIdToken",value:function(){var e=Lv(Pv().mark((function e(t){var n;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i_(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Sy(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return t_.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return f_.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Sy(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Sy(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Lv(Pv().mark((function e(t){var n,r,i=arguments;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,c_(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Lv(Pv().mark((function e(){var t;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,i_(this,Ky(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,m=null!==(o=n.photoURL)&&void 0!==o?o:void 0,p=null!==(s=n.tenantId)&&void 0!==s?s:void 0,v=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,_=n.uid,b=n.emailVerified,k=n.isAnonymous,C=n.providerData,w=n.stsTokenManager;Sy(_&&w,t,"internal-error");var x=v_.fromJSON(this.name,w);Sy("string"===typeof _,t,"internal-error"),g_(f,t.name),g_(h,t.name),Sy("boolean"===typeof b,t,"internal-error"),Sy("boolean"===typeof k,t,"internal-error"),g_(d,t.name),g_(m,t.name),g_(p,t.name),g_(v,t.name),g_(g,t.name),g_(y,t.name);var S=new e({uid:_,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:k,photoURL:m,phoneNumber:d,tenantId:p,stsTokenManager:x,createdAt:g,lastLoginAt:y});return C&&Array.isArray(C)&&(S.providerData=C.map((function(e){return Object.assign({},e)}))),v&&(S._redirectEventId=v),S}},{key:"_fromIdTokenResponse",value:function(){var t=Lv(Pv().mark((function t(n,r){var i,a,o,s=arguments;return Pv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new v_).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,c_(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),__=function(){function e(){Ns(this,e),this.type="NONE",this.storage={}}return Rs(e,[{key:"_isAvailable",value:function(){var e=Lv(Pv().mark((function e(){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Lv(Pv().mark((function e(t,n){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Lv(Pv().mark((function e(t){var n;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Lv(Pv().mark((function e(t){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();__.type="NONE";var b_=__;function k_(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var C_=function(){function e(t,n,r){Ns(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=k_(this.userKey,a.apiKey,o),this.fullPersistenceKey=k_("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Rs(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Lv(Pv().mark((function e(){var t;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?y_._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Lv(Pv().mark((function e(t){var n;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Lv(Pv().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,m,p=arguments;return Pv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=p.length>2&&void 0!==p[2]?p[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Iy(b_),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Lv(Pv().mark((function e(t){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Iy(b_),s=k_(i,n.config.apiKey,n.name),u=null,c=Is(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=y_._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(m=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&m.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=m[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Lv(Pv().mark((function e(t){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function w_(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(T_(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(x_(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(I_(t))return"Blackberry";if(L_(t))return"Webos";if(S_(t))return"Safari";if((t.includes("chrome/")||E_(t))&&!t.includes("edge/"))return"Chrome";if(P_(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function x_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rv();return/firefox\//i.test(e)}function S_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rv(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function E_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rv();return/crios\//i.test(e)}function T_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rv();return/iemobile/i.test(e)}function P_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rv();return/android/i.test(e)}function I_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rv();return/blackberry/i.test(e)}function L_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rv();return/webos/i.test(e)}function A_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rv();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function N_(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rv();return A_(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function D_(){return sv()&&10===document.documentMode}function R_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rv();return A_(e)||P_(e)||L_(e)||I_(e)||/windows phone/i.test(e)||T_(e)}function O_(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=w_(rv());break;case"Worker":t="".concat(w_(rv()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(xg,"/").concat(r)}var M_=function(){function e(t){Ns(this,e),this.auth=t,this.queue=[]}return Rs(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(yB){r(yB)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Lv(Pv().mark((function e(t){var n,r,i,a,o,s,u;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=Is(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=Is(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),j_=function(){function e(t,n,r){Ns(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new V_(this),this.idTokenSubscription=new V_(this),this.beforeStateQueue=new M_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gy,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Rs(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Iy(t)),this._initializationPromise=this.queue(Lv(Pv().mark((function r(){var i,a;return Pv().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,C_.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Lv(Pv().mark((function e(){var t;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Lv(Pv().mark((function e(t){var n,r,i,a,o,s,u;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Sy(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Lv(Pv().mark((function e(t){var n;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Lv(Pv().mark((function e(t){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c_(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Lv(Pv().mark((function e(){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Lv(Pv().mark((function e(t){var n;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Tv(t):null)&&Sy(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Lv(Pv().mark((function e(t){var n,r=this,i=arguments;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Sy(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Lv(Pv().mark((function e(){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Lv(Pv().mark((function e(){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Lv(Pv().mark((function n(){return Pv().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Iy(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new pv("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Lv(Pv().mark((function e(t,n){var r;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Lv(Pv().mark((function e(t){var n;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Sy(n=t&&Iy(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,C_.create(this,[Iy(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Lv(Pv().mark((function e(t){var n,r;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Lv(Pv().mark((function e(){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Lv(Pv().mark((function e(t){var n=this;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Lv(Pv().mark((function e(){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Sy(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Lv(Pv().mark((function e(t){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Sy(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=O_(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Lv(Pv().mark((function e(){var t,n,r;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ys({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function F_(e){return Tv(e)}var V_=function(){function e(t){var n=this;Ns(this,e),this.auth=t,this.observer=null,this.addObserver=xv((function(e){return n.observer=e}))}return Rs(e,[{key:"next",get:function(){return Sy(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function U_(e,t,n){var r=F_(e);Sy(r._canInitEmulator,r,"emulator-config-failed"),Sy(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=z_(t),o=function(e){var t=z_(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:B_(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:B_(o[1])}}(t),s=o.host,u=o.port,l=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function z_(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function B_(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var W_=function(){function e(t,n){Ns(this,e),this.providerId=t,this.signInMethod=n}return Rs(e,[{key:"toJSON",value:function(){return Ey("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Ey("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Ey("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Ey("not implemented")}}]),e}();function H_(e,t){return q_.apply(this,arguments)}function q_(){return(q_=Lv(Pv().mark((function e(t,n){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vy(t,"POST","/v1/accounts:resetPassword",Fy(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G_(e,t){return Y_.apply(this,arguments)}function Y_(){return(Y_=Lv(Pv().mark((function e(t,n){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vy(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K_(e,t){return Q_.apply(this,arguments)}function Q_(){return(Q_=Lv(Pv().mark((function e(t,n){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vy(t,"POST","/v1/accounts:update",Fy(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X_(e,t){return J_.apply(this,arguments)}function J_(){return(J_=Lv(Pv().mark((function e(t,n){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wy(t,"POST","/v1/accounts:signInWithPassword",Fy(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z_(e,t){return $_.apply(this,arguments)}function $_(){return($_=Lv(Pv().mark((function e(t,n){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vy(t,"POST","/v1/accounts:sendOobCode",Fy(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eb(e,t){return tb.apply(this,arguments)}function tb(){return(tb=Lv(Pv().mark((function e(t,n){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z_(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nb(e,t){return rb.apply(this,arguments)}function rb(){return(rb=Lv(Pv().mark((function e(t,n){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z_(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ib(e,t){return ab.apply(this,arguments)}function ab(){return(ab=Lv(Pv().mark((function e(t,n){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z_(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ob(e,t){return sb.apply(this,arguments)}function sb(){return(sb=Lv(Pv().mark((function e(t,n){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z_(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ub(e,t){return cb.apply(this,arguments)}function cb(){return(cb=Lv(Pv().mark((function e(t,n){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wy(t,"POST","/v1/accounts:signInWithEmailLink",Fy(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lb(e,t){return fb.apply(this,arguments)}function fb(){return(fb=Lv(Pv().mark((function e(t,n){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wy(t,"POST","/v1/accounts:signInWithEmailLink",Fy(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var hb=function(e){Ss(n,e);var t=Ps(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Ns(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Rs(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Lv(Pv().mark((function e(t){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",X_(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ub(t,{email:this._email,oobCode:this._password}));case 5:by(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Lv(Pv().mark((function e(t,n){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",G_(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",lb(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:by(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(W_);function db(e,t){return mb.apply(this,arguments)}function mb(){return(mb=Lv(Pv().mark((function e(t,n){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wy(t,"POST","/v1/accounts:signInWithIdp",Fy(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pb=function(e){Ss(n,e);var t=Ps(n);function n(){var e;return Ns(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Rs(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return db(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,db(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,db(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=kv(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):by("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=ty(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(W_);function vb(e,t){return gb.apply(this,arguments)}function gb(){return(gb=Lv(Pv().mark((function e(t,n){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vy(t,"POST","/v1/accounts:sendVerificationCode",Fy(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yb(){return(yb=Lv(Pv().mark((function e(t,n){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wy(t,"POST","/v1/accounts:signInWithPhoneNumber",Fy(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _b(){return(_b=Lv(Pv().mark((function e(t,n){var r;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wy(t,"POST","/v1/accounts:signInWithPhoneNumber",Fy(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Yy(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var bb=ys({},"USER_NOT_FOUND","user-not-found");function kb(){return(kb=Lv(Pv().mark((function e(t,n){var r;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Wy(t,"POST","/v1/accounts:signInWithPhoneNumber",Fy(t,r),bb));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Cb=function(e){Ss(n,e);var t=Ps(n);function n(e){var r;return Ns(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Rs(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return yb.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return _b.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return kb.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(W_);var wb=function(){function e(t){var n,r,i,a,o,s;Ns(this,e);var u=Cv(wv(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Sy(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return Rs(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Cv(wv(e)).link,n=t?Cv(wv(t)).deep_link_id:null,r=Cv(wv(e)).deep_link_id;return(r?Cv(wv(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(LV){return null}}}]),e}();var xb=function(){function e(){Ns(this,e),this.providerId=e.PROVIDER_ID}return Rs(e,null,[{key:"credential",value:function(e,t){return hb._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=wb.parseLink(t);return Sy(n,"argument-error"),hb._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();xb.PROVIDER_ID="password",xb.EMAIL_PASSWORD_SIGN_IN_METHOD="password",xb.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Sb=function(){function e(t){Ns(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Rs(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Eb=function(e){Ss(n,e);var t=Ps(n);function n(){var e;return Ns(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Rs(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return As(this.scopes)}}]),n}(Sb),Tb=function(e){Ss(n,e);var t=Ps(n);function n(){return Ns(this,n),t.apply(this,arguments)}return Rs(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Sy(e.idToken||e.accessToken,"argument-error"),pb._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Sy("providerId"in t&&"signInMethod"in t,"argument-error"),pb._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(yB){return null}}}]),n}(Eb),Pb=function(e){Ss(n,e);var t=Ps(n);function n(){return Ns(this,n),t.call(this,"facebook.com")}return Rs(n,null,[{key:"credential",value:function(e){return pb._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(LV){return null}}}]),n}(Eb);Pb.FACEBOOK_SIGN_IN_METHOD="facebook.com",Pb.PROVIDER_ID="facebook.com";var Ib=function(e){Ss(n,e);var t=Ps(n);function n(){var e;return Ns(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Rs(n,null,[{key:"credential",value:function(e,t){return pb._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(LV){return null}}}]),n}(Eb);Ib.GOOGLE_SIGN_IN_METHOD="google.com",Ib.PROVIDER_ID="google.com";var Lb=function(e){Ss(n,e);var t=Ps(n);function n(){return Ns(this,n),t.call(this,"github.com")}return Rs(n,null,[{key:"credential",value:function(e){return pb._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(LV){return null}}}]),n}(Eb);Lb.GITHUB_SIGN_IN_METHOD="github.com",Lb.PROVIDER_ID="github.com";var Ab=function(e){Ss(n,e);var t=Ps(n);function n(e,r){var i;return Ns(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Rs(n,[{key:"_getIdTokenResponse",value:function(e){return db(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,db(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,db(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(W_),Nb=function(e){Ss(n,e);var t=Ps(n);function n(e){return Ns(this,n),Sy(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Rs(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Ab.fromJSON(e);return Sy(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Ab._create(r,n)}catch(yB){return null}}}]),n}(Sb),Db=function(e){Ss(n,e);var t=Ps(n);function n(){return Ns(this,n),t.call(this,"twitter.com")}return Rs(n,null,[{key:"credential",value:function(e,t){return pb._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(LV){return null}}}]),n}(Eb);function Rb(e,t){return Ob.apply(this,arguments)}function Ob(){return(Ob=Lv(Pv().mark((function e(t,n){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wy(t,"POST","/v1/accounts:signUp",Fy(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Db.TWITTER_SIGN_IN_METHOD="twitter.com",Db.PROVIDER_ID="twitter.com";var Mb=function(){function e(t){Ns(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Rs(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Lv(Pv().mark((function t(n,r,i){var a,o,s,u,c=arguments;return Pv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,y_._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=jb(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Lv(Pv().mark((function t(n,r,i){var a;return Pv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=jb(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function jb(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Fb(){return Fb=Lv(Pv().mark((function e(t){var n,r,i,a;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=F_(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Mb({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Rb(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Mb._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Fb.apply(this,arguments)}var Vb=function(e){Ss(n,e);var t=Ps(n);function n(e,r,i,a){var o,s;return Ns(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(ks(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Rs(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(mv);function Ub(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Vb._fromErrorAndOperation(e,n,t,r);throw n}))}function zb(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Bb(e,t){return Wb.apply(this,arguments)}function Wb(){return Wb=Lv(Pv().mark((function e(t,n){var r,i,a,o;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tv(t),e.next=3,Gb(!0,r,n);case 3:return e.t0=Xy,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=zb(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Wb.apply(this,arguments)}function Hb(e,t){return qb.apply(this,arguments)}function qb(){return qb=Lv(Pv().mark((function e(t,n){var r,i,a=arguments;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=i_,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Mb._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),qb.apply(this,arguments)}function Gb(e,t,n){return Yb.apply(this,arguments)}function Yb(){return(Yb=Lv(Pv().mark((function e(t,n,r){var i,a;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c_(n);case 2:i=zb(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Sy(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kb(e,t){return Qb.apply(this,arguments)}function Qb(){return Qb=Lv(Pv().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,i_(t,Ub(i,a,n,t),r);case 6:return Sy((o=e.sent).idToken,i,"internal-error"),Sy(s=r_(o.idToken),i,"internal-error"),u=s.sub,Sy(t.uid===u,i,"user-mismatch"),e.abrupt("return",Mb._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&by(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Qb.apply(this,arguments)}function Xb(e,t){return Jb.apply(this,arguments)}function Jb(){return Jb=Lv(Pv().mark((function e(t,n){var r,i,a,o,s=arguments;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Ub(t,i,n);case 4:return a=e.sent,e.next=7,Mb._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Jb.apply(this,arguments)}function Zb(e,t){return $b.apply(this,arguments)}function $b(){return($b=Lv(Pv().mark((function e(t,n){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xb(F_(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ek(e,t){return tk.apply(this,arguments)}function tk(){return(tk=Lv(Pv().mark((function e(t,n){var r;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tv(t),e.next=3,Gb(!1,r,n.providerId);case 3:return e.abrupt("return",Hb(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nk(e,t){return rk.apply(this,arguments)}function rk(){return(rk=Lv(Pv().mark((function e(t,n){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kb(Tv(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ik(e,t){return ak.apply(this,arguments)}function ak(){return(ak=Lv(Pv().mark((function e(t,n){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wy(t,"POST","/v1/accounts:signInWithCustomToken",Fy(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ok(){return(ok=Lv(Pv().mark((function e(t,n){var r,i,a;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=F_(t),e.next=3,ik(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Mb._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var sk=function(){function e(t,n){Ns(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Rs(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?uk._fromServerResponse(e,t):by(e,"internal-error")}}]),e}(),uk=function(e){Ss(n,e);var t=Ps(n);function n(e){var r;return Ns(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Rs(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(sk);function ck(e,t,n){var r;Sy((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Sy("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Sy(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Sy(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function lk(){return(lk=Lv(Pv().mark((function e(t,n,r){var i,a;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Tv(t),a={requestType:"PASSWORD_RESET",email:n},r&&ck(i,a,r),e.next=5,nb(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fk(){return(fk=Lv(Pv().mark((function e(t,n,r){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H_(Tv(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hk(){return(hk=Lv(Pv().mark((function e(t,n){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K_(Tv(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dk(e,t){return mk.apply(this,arguments)}function mk(){return(mk=Lv(Pv().mark((function e(t,n){var r,i,a,o;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tv(t),e.next=3,H_(r,{oobCode:n});case 3:i=e.sent,Sy(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Sy(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Sy(i.mfaInfo,r,"internal-error");case 13:Sy(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=sk._fromServerResponse(F_(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pk(){return pk=Lv(Pv().mark((function e(t,n){var r,i;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dk(Tv(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),pk.apply(this,arguments)}function vk(e,t,n){return gk.apply(this,arguments)}function gk(){return(gk=Lv(Pv().mark((function e(t,n,r){var i,a,o;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=F_(t),e.next=3,Rb(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Mb._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yk(){return(yk=Lv(Pv().mark((function e(t,n,r){var i,a;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Tv(t),a={requestType:"EMAIL_SIGNIN",email:n},Sy(r.handleCodeInApp,i,"argument-error"),r&&ck(i,a,r),e.next=6,ib(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _k(){return(_k=Lv(Pv().mark((function e(t,n,r){var i,a;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Tv(t),Sy((a=xb.credentialWithLink(n,r||Ly()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Zb(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bk(e,t){return kk.apply(this,arguments)}function kk(){return(kk=Lv(Pv().mark((function e(t,n){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vy(t,"POST","/v1/accounts:createAuthUri",Fy(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ck(){return(Ck=Lv(Pv().mark((function e(t,n){var r,i,a,o;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ay()?Ly():"http://localhost",i={identifier:n,continueUri:r},e.next=4,bk(Tv(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wk(){return(wk=Lv(Pv().mark((function e(t,n){var r,i,a,o;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tv(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&ck(r.auth,a,n),e.next=8,eb(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xk(){return(xk=Lv(Pv().mark((function e(t,n,r){var i,a,o,s;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Tv(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&ck(i.auth,o,r),e.next=8,ob(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sk(e,t){return Ek.apply(this,arguments)}function Ek(){return(Ek=Lv(Pv().mark((function e(t,n){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vy(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tk(){return(Tk=Lv(Pv().mark((function e(t,n){var r,i,a,o,s,u,c;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Tv(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,i_(a,Sk(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pk(e,t,n){return Ik.apply(this,arguments)}function Ik(){return(Ik=Lv(Pv().mark((function e(t,n,r){var i,a,o,s;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,i_(t,G_(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Lk=Rs((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ns(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Ak=function(e){Ss(n,e);var t=Ps(n);function n(e,r,i,a){var o;return Ns(this,n),(o=t.call(this,e,r,i)).username=a,o}return Rs(n)}(Lk),Nk=function(e){Ss(n,e);var t=Ps(n);function n(e,r){return Ns(this,n),t.call(this,e,"facebook.com",r)}return Rs(n)}(Lk),Dk=function(e){Ss(n,e);var t=Ps(n);function n(e,r){return Ns(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Rs(n)}(Ak),Rk=function(e){Ss(n,e);var t=Ps(n);function n(e,r){return Ns(this,n),t.call(this,e,"google.com",r)}return Rs(n)}(Lk),Ok=function(e){Ss(n,e);var t=Ps(n);function n(e,r,i){return Ns(this,n),t.call(this,e,"twitter.com",r,i)}return Rs(n)}(Ak);function Mk(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=r_(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Lk(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Nk(a,i);case"github.com":return new Dk(a,i);case"google.com":return new Rk(a,i);case"twitter.com":return new Ok(a,i,e.screenName||null);case"custom":case"anonymous":return new Lk(a,null);default:return new Lk(a,r,i)}}(n)}var jk=function(){function e(t,n,r){Ns(this,e),this.type=t,this.credential=n,this.auth=r}return Rs(e,[{key:"toJSON",value:function(){return{multiFactorSession:ys({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Fk=function(){function e(t,n,r){Ns(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Rs(e,[{key:"resolveSignIn",value:function(){var e=Lv(Pv().mark((function e(t){var n;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=F_(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return sk._fromServerResponse(r,e)}));Sy(i.mfaPendingCredential,r,"internal-error");var o=jk._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Lv(Pv().mark((function e(t){var a,s,u;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Mb._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return Sy(n.user,r,"internal-error"),e.abrupt("return",Mb._forOperation(n.user,n.operationType,s));case 17:by(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Vk(e,t){return Vy(e,"POST","/v2/accounts/mfaEnrollment:start",Fy(e,t))}var Uk=function(){function e(t){var n=this;Ns(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return sk._fromServerResponse(t.auth,e)})))}))}return Rs(e,[{key:"getSession",value:function(){var e=Lv(Pv().mark((function e(){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=jk,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Lv(Pv().mark((function e(t,n){var r,i,a;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,i_(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Lv(Pv().mark((function e(t){var n,r,i;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,i_(this.user,Vy(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",Fy(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),zk=new WeakMap;var Bk="__sak",Wk=function(){function e(t,n){Ns(this,e),this.storageRetriever=t,this.type=n}return Rs(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Bk,"1"),this.storage.removeItem(Bk),Promise.resolve(!0)):Promise.resolve(!1)}catch(LV){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Hk=function(e){Ss(n,e);var t=Ps(n);function n(){var e;return Ns(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=rv();return S_(e)||A_(e)}()&&function(){try{return!(!window||window===window.top)}catch(yB){return!1}}(),e.fallbackToPolling=R_(),e._shouldAllowMigration=!0,e}return Rs(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);D_()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Lv(Pv().mark((function e(t,r){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xs(Cs(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Lv(Pv().mark((function e(t){var r;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xs(Cs(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Lv(Pv().mark((function e(t){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xs(Cs(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Wk);Hk.type="LOCAL";var qk=Hk,Gk=function(e){Ss(n,e);var t=Ps(n);function n(){return Ns(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Rs(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Wk);Gk.type="SESSION";var Yk=Gk;function Kk(e){return Promise.all(e.map(function(){var e=Lv(Pv().mark((function e(t){var n;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Qk=function(){function e(t){Ns(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Rs(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Lv(Pv().mark((function e(t){var n,r,i,a,o,s,u,c;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=Lv(Pv().mark((function e(t){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Kk(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Xk(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Qk.receivers=[];var Jk=function(){function e(t){Ns(this,e),this.target=t,this.handlers=new Set}return Rs(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Lv(Pv().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Xk("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Zk(){return window}function $k(){return"undefined"!==typeof Zk().WorkerGlobalScope&&"function"===typeof Zk().importScripts}function eC(){return tC.apply(this,arguments)}function tC(){return(tC=Lv(Pv().mark((function e(){var t;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function nC(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var rC="firebaseLocalStorageDb",iC="firebaseLocalStorage",aC="fbase_key",oC=function(){function e(t){Ns(this,e),this.request=t}return Rs(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function sC(e,t){return e.transaction([iC],t?"readwrite":"readonly").objectStore(iC)}function uC(){var e=indexedDB.deleteDatabase(rC);return new oC(e).toPromise()}function cC(){var e=indexedDB.open(rC,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(iC,{keyPath:aC})}catch(yB){n(yB)}})),e.addEventListener("success",Lv(Pv().mark((function n(){var r;return Pv().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(iC)){n.next=12;break}return r.close(),n.next=5,uC();case 5:return n.t0=t,n.next=8,cC();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function lC(e,t,n){return fC.apply(this,arguments)}function fC(){return fC=Lv(Pv().mark((function e(t,n,r){var i,a;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=sC(t,!0).put((ys(i={},aC,n),ys(i,"value",r),i)),e.abrupt("return",new oC(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),fC.apply(this,arguments)}function hC(e,t){return dC.apply(this,arguments)}function dC(){return dC=Lv(Pv().mark((function e(t,n){var r,i;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sC(t,!1).get(n),e.next=3,new oC(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),dC.apply(this,arguments)}function mC(e,t){var n=sC(e,!0).delete(t);return new oC(n).toPromise()}var pC=function(){function e(){Ns(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Rs(e,[{key:"_openDb",value:function(){var e=Lv(Pv().mark((function e(){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,cC();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Lv(Pv().mark((function e(t){var n,r;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Lv(Pv().mark((function e(){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$k()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Lv(Pv().mark((function e(){var t=this;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Qk._getInstance($k()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Lv(Pv().mark((function e(n,r){var i;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Lv(Pv().mark((function e(t,n){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Lv(Pv().mark((function e(){var t,n,r;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eC();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Jk(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Lv(Pv().mark((function e(t){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&nC()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Lv(Pv().mark((function e(){var t;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,cC();case 5:return t=e.sent,e.next=8,lC(t,Bk,"1");case 8:return e.next=10,mC(t,Bk);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Lv(Pv().mark((function e(t){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Lv(Pv().mark((function e(t,n){var r=this;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Lv(Pv().mark((function e(){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return lC(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Lv(Pv().mark((function e(t){var n;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return hC(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Lv(Pv().mark((function e(t){var n=this;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Lv(Pv().mark((function e(){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return mC(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Lv(Pv().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=sC(e,!1).getAll();return new oC(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Is(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Lv(Pv().mark((function t(){return Pv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();pC.type="LOCAL";var vC=pC;function gC(e,t){return Vy(e,"POST","/v2/accounts/mfaSignIn:start",Fy(e,t))}function yC(e){return _C.apply(this,arguments)}function _C(){return(_C=Lv(Pv().mark((function e(t){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vy(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bC(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=ky("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function kC(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var CC=1e12,wC=function(){function e(t){Ns(this,e),this.auth=t,this.counter=CC,this._widgets=new Map}return Rs(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new xC(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||CC;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||CC;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Lv(Pv().mark((function e(t){var n,r;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||CC,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),xC=function(){function e(t,n,r){var i=this;Ns(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Sy(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Rs(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(yB){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(yB){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var SC=kC("rcb"),EC=new Dy(3e4,6e4),TC="https://www.google.com/recaptcha/api.js?",PC=function(){function e(){var t;Ns(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Zk().grecaptcha)||void 0===t?void 0:t.render)}return Rs(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Sy(IC(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Zk().grecaptcha):new Promise((function(r,i){var a=Zk().setTimeout((function(){i(ky(e,"network-request-failed"))}),EC.get());Zk()[SC]=function(){Zk().clearTimeout(a),delete Zk()[SC];var o=Zk().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(ky(e,"internal-error"))},bC("".concat(TC,"?").concat(kv({onload:SC,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(ky(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Zk().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function IC(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var LC=function(){function e(){Ns(this,e)}return Rs(e,[{key:"load",value:function(){var e=Lv(Pv().mark((function e(t){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new wC(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),AC="recaptcha",NC={theme:"light",type:"image"},DC=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},NC),r=arguments.length>2?arguments[2]:void 0;Ns(this,e),this.parameters=n,this.type=AC,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=F_(r),this.isInvisible="invisible"===this.parameters.size,Sy("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Sy(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new LC:new PC,this.validateStartingState()}return Rs(e,[{key:"verify",value:function(){var e=Lv(Pv().mark((function e(){var t,n,r,i=this;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(yB){return Promise.reject(yB)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Sy(!this.parameters.sitekey,this.auth,"argument-error"),Sy(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Sy("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Zk()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Sy(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Lv(Pv().mark((function e(){var t,n;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Lv(Pv().mark((function e(){var t;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sy(Ay()&&!$k(),this.auth,"internal-error"),e.next=3,RC();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,yC(this.auth);case 8:Sy(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Sy(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function RC(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var OC=function(){function e(t,n){Ns(this,e),this.verificationId=t,this.onConfirmation=n}return Rs(e,[{key:"confirm",value:function(e){var t=Cb._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function MC(){return(MC=Lv(Pv().mark((function e(t,n,r){var i,a;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=F_(t),e.next=3,UC(i,n,Tv(r));case 3:return a=e.sent,e.abrupt("return",new OC(a,(function(e){return Zb(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jC(e,t,n){return FC.apply(this,arguments)}function FC(){return(FC=Lv(Pv().mark((function e(t,n,r){var i,a;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Tv(t),e.next=3,Gb(!1,i,"phone");case 3:return e.next=5,UC(i.auth,n,Tv(r));case 5:return a=e.sent,e.abrupt("return",new OC(a,(function(e){return ek(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function VC(){return(VC=Lv(Pv().mark((function e(t,n,r){var i,a;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Tv(t),e.next=3,UC(i.auth,n,Tv(r));case 3:return a=e.sent,e.abrupt("return",new OC(a,(function(e){return nk(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function UC(e,t,n){return zC.apply(this,arguments)}function zC(){return zC=Lv(Pv().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Sy("string"===typeof a,t,"argument-error"),Sy(r.type===AC,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Sy("enroll"===s.type,t,"internal-error"),e.next=13,Vk(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Sy("signin"===s.type,t,"internal-error"),Sy(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,gC(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,vb(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),zC.apply(this,arguments)}function BC(){return(BC=Lv(Pv().mark((function e(t,n){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hb(Tv(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var WC=function(){function e(t){Ns(this,e),this.providerId=e.PROVIDER_ID,this.auth=F_(t)}return Rs(e,[{key:"verifyPhoneNumber",value:function(e,t){return UC(this.auth,e,Tv(t))}}],[{key:"credential",value:function(e,t){return Cb._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Cb._fromTokenResponse(n,r):null}}]),e}();function HC(e,t){return t?Iy(t):(Sy(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}WC.PROVIDER_ID="phone",WC.PHONE_SIGN_IN_METHOD="phone";var qC=function(e){Ss(n,e);var t=Ps(n);function n(e){var r;return Ns(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Rs(n,[{key:"_getIdTokenResponse",value:function(e){return db(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return db(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return db(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(W_);function GC(e){return Xb(e.auth,new qC(e),e.bypassAuthState)}function YC(e){var t=e.auth,n=e.user;return Sy(n,t,"internal-error"),Kb(n,new qC(e),e.bypassAuthState)}function KC(e){return QC.apply(this,arguments)}function QC(){return(QC=Lv(Pv().mark((function e(t){var n,r;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Sy(r=t.user,n,"internal-error"),e.abrupt("return",Hb(r,new qC(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var XC=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Ns(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Rs(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Lv(Pv().mark((function t(n,r){return Pv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Lv(Pv().mark((function e(t){var n,r,i,a,o,s,u;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GC;case"linkViaPopup":case"linkViaRedirect":return KC;case"reauthViaPopup":case"reauthViaRedirect":return YC;default:by(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Ty(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Ty(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),JC=new Dy(2e3,1e4);function ZC(e,t,n){return $C.apply(this,arguments)}function $C(){return($C=Lv(Pv().mark((function e(t,n,r){var i,a,o;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=F_(t),wy(t,n,Sb),a=HC(i,r),o=new rw(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ew(){return(ew=Lv(Pv().mark((function e(t,n,r){var i,a,o;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wy((i=Tv(t)).auth,n,Sb),a=HC(i.auth,r),o=new rw(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tw(e,t,n){return nw.apply(this,arguments)}function nw(){return(nw=Lv(Pv().mark((function e(t,n,r){var i,a,o;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wy((i=Tv(t)).auth,n,Sb),a=HC(i.auth,r),o=new rw(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rw=function(e){Ss(n,e);var t=Ps(n);function n(e,r,i,a,o){var s;return Ns(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=ks(s),s}return Rs(n,[{key:"executeNotNull",value:function(){var e=Lv(Pv().mark((function e(){var t;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Sy(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Lv(Pv().mark((function e(){var t,n=this;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ty(1===this.filter.length,"Popup operations only handle one event"),t=Xk(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(ky(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(ky(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(ky(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,JC.get())}()}}]),n}(XC);rw.currentPopupAction=null;var iw=new Map,aw=function(e){Ss(n,e);var t=Ps(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Ns(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Rs(n,[{key:"execute",value:function(){var e=Lv(Pv().mark((function e(){var t,r;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=iw.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,ow(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,xs(Cs(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:iw.set(this.auth._key(),t);case 21:return this.bypassAuthState||iw.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Lv(Pv().mark((function e(t){var r;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",xs(Cs(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",xs(Cs(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Lv(Pv().mark((function e(){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(XC);function ow(e,t){return sw.apply(this,arguments)}function sw(){return sw=Lv(Pv().mark((function e(t,n){var r,i,a;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hw(n),i=fw(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),sw.apply(this,arguments)}function uw(e,t){return cw.apply(this,arguments)}function cw(){return(cw=Lv(Pv().mark((function e(t,n){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fw(t)._set(hw(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lw(e,t){iw.set(e._key(),t)}function fw(e){return Iy(e._redirectPersistence)}function hw(e){return k_("pendingRedirect",e.config.apiKey,e.name)}function dw(e,t,n){return function(e,t,n){return mw.apply(this,arguments)}(e,t,n)}function mw(){return(mw=Lv(Pv().mark((function e(t,n,r){var i,a;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=F_(t),wy(t,n,Sb),a=HC(i,r),e.next=5,uw(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pw(e,t,n){return function(e,t,n){return vw.apply(this,arguments)}(e,t,n)}function vw(){return(vw=Lv(Pv().mark((function e(t,n,r){var i,a,o;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wy((i=Tv(t)).auth,n,Sb),a=HC(i.auth,r),e.next=5,uw(a,i.auth);case 5:return e.next=7,ww(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gw(e,t,n){return function(e,t,n){return yw.apply(this,arguments)}(e,t,n)}function yw(){return(yw=Lv(Pv().mark((function e(t,n,r){var i,a,o;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wy((i=Tv(t)).auth,n,Sb),a=HC(i.auth,r),e.next=5,Gb(!1,i,n.providerId);case 5:return e.next=7,uw(a,i.auth);case 7:return e.next=9,ww(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _w(e,t){return bw.apply(this,arguments)}function bw(){return(bw=Lv(Pv().mark((function e(t,n){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F_(t)._initializationPromise;case 2:return e.abrupt("return",kw(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kw(e,t){return Cw.apply(this,arguments)}function Cw(){return Cw=Lv(Pv().mark((function e(t,n){var r,i,a,o,s,u=arguments;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=F_(t),a=HC(i,n),o=new aw(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Cw.apply(this,arguments)}function ww(e){return xw.apply(this,arguments)}function xw(){return(xw=Lv(Pv().mark((function e(t){var n;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Xk("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Sw=function(){function e(t){Ns(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Rs(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Tw(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Tw(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ky(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ew(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Ew(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Ew(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Tw(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Pw(e){return Iw.apply(this,arguments)}function Iw(){return Iw=Lv(Pv().mark((function e(t){var n,r=arguments;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Vy(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Iw.apply(this,arguments)}var Lw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Aw=/^https?/;function Nw(){return(Nw=Lv(Pv().mark((function e(t){var n,r,i,a,o;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Pw(t);case 4:n=e.sent,r=n.authorizedDomains,i=Is(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Dw(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:by(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function Dw(e){var t=Ly(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Aw.test(r))return!1;if(Lw.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Rw=new Dy(3e4,6e4);function Ow(){var e=Zk().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=As(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Mw=null;function jw(e){return Mw=Mw||function(e){return new Promise((function(t,n){var r,i,a;function o(){Ow(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Ow(),n(ky(e,"network-request-failed"))},timeout:Rw.get()})}if(null===(i=null===(r=Zk().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Zk().gapi)||void 0===a?void 0:a.load)){var s=kC("iframefcb");return Zk()[s]=function(){gapi.load?o():n(ky(e,"network-request-failed"))},bC("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Mw=null,e}))}(e),Mw}var Fw=new Dy(5e3,15e3),Vw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Uw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zw(e){var t=e.config;Sy(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Ry(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:xg},i=Uw.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(kv(r).slice(1))}function Bw(e){return Ww.apply(this,arguments)}function Ww(){return Ww=Lv(Pv().mark((function e(t){var n,r;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jw(t);case 2:return n=e.sent,Sy(r=Zk().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:zw(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vw,dontclear:!0},(function(e){return new Promise(function(){var n=Lv(Pv().mark((function n(r,i){var a,o,s;return Pv().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Zk().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=ky(t,"network-request-failed"),o=Zk().setTimeout((function(){i(a)}),Fw.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Ww.apply(this,arguments)}var Hw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qw="_blank",Gw="http://localhost",Yw=function(){function e(t){Ns(this,e),this.window=t,this.associatedEvent=null}return Rs(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(yB){}}}]),e}();function Kw(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},Hw),{width:r.toString(),height:i.toString(),top:a,left:o}),l=rv().toLowerCase();n&&(s=E_(l)?qw:n),x_(l)&&(t=t||Gw,u.scrollbars="yes");var f=Object.entries(u).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(N_(l)&&"_self"!==s)return Qw(t||"",s),new Yw(null);var h=window.open(t||"",s,f);Sy(h,e,"popup-blocked");try{h.focus()}catch(yB){}return new Yw(h)}function Qw(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Xw="__/auth/handler",Jw="emulator/auth/handler";function Zw(e,t,n,r,i,a){Sy(e.config.authDomain,e,"auth-domain-config-required"),Sy(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:xg,eventId:i};if(t instanceof Sb){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var l=c(u[s],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof Eb){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var m=o,p=0,v=Object.keys(m);p<v.length;p++){var g=v[p];void 0===m[g]&&delete m[g]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Xw);return Ry(t,Jw)}(e),"?").concat(kv(m).slice(1))}var $w="webStorageSupport",ex=function(){function e(){Ns(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yk,this._completeRedirectFn=kw,this._overrideRedirectResult=lw}return Rs(e,[{key:"_openPopup",value:function(){var e=Lv(Pv().mark((function e(t,n,r,i){var a,o;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ty(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Zw(t,n,r,Ly(),i),e.abrupt("return",Kw(t,o,Xk()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Lv(Pv().mark((function e(t,n,r,i){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Zw(t,n,r,Ly(),i),Zk().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Ty(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Lv(Pv().mark((function e(t){var n,r;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bw(t);case 2:return n=e.sent,r=new Sw(t),n.register("authEvent",(function(e){return Sy(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send($w,{type:$w},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),by(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Nw.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return R_()||S_()||A_()}}]),e}(),tx=ex,nx=function(e){Ss(n,e);var t=Ps(n);function n(e){var r;return Ns(this,n),(r=t.call(this,"phone")).credential=e,r}return Rs(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Vy(e,"POST","/v2/accounts/mfaEnrollment:finalize",Fy(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Vy(e,"POST","/v2/accounts/mfaSignIn:finalize",Fy(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){Ns(this,e),this.factorId=t}return Rs(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ey("unexpected MultiFactorSessionType")}}}]),e}()),rx=function(){function e(){Ns(this,e)}return Rs(e,null,[{key:"assertion",value:function(e){return nx._fromCredential(e)}}]),e}();rx.FACTOR_ID="phone";var ix="@firebase/auth",ax="0.21.0",ox=function(){function e(t){Ns(this,e),this.auth=t,this.internalListeners=new Map}return Rs(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Lv(Pv().mark((function e(t){var n;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Sy(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var sx;!function(e){var t;null===(t=lv())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function ux(){return window}sx="Browser",gg(new Av("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){Sy(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Sy(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:sx,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:O_(sx)},i=new j_(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Iy);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),gg(new Av("auth-internal",(function(e){return function(e){return new ox(e)}(F_(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Lg(ix,ax,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(sx)),Lg(ix,ax,"esm2017");function cx(e,t,n){return lx.apply(this,arguments)}function lx(){return lx=Lv(Pv().mark((function e(t,n,r){var i,a,o,s,u;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ux(),o=a.BuildInfo,Ty(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,vx(n.sessionId);case 4:return s=e.sent,u={},A_()?u.ibi=o.packageName:P_()?u.apn=o.packageName:by(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",Zw(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),lx.apply(this,arguments)}function fx(){return(fx=Lv(Pv().mark((function e(t){var n,r,i;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ux(),r=n.BuildInfo,i={},A_()?i.iosBundleId=r.packageName:P_()?i.androidPackageName=r.packageName:by(t,"operation-not-supported-in-this-environment"),e.next=5,Pw(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hx(e){var t=ux().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rv();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function dx(e,t,n){return mx.apply(this,arguments)}function mx(){return mx=Lv(Pv().mark((function e(t,n,r){var i,a,o;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ux(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(ky(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),P_()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),mx.apply(this,arguments)}function px(e){var t,n,r,i,a,o,s,u,c,l,f=ux();Sy("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Sy("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Sy("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Sy("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Sy("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function vx(e){return gx.apply(this,arguments)}function gx(){return(gx=Lv(Pv().mark((function e(t){var n,r,i;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=yx(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yx(e){if(Ty(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var _x=function(e){Ss(n,e);var t=Ps(n);function n(){var e;return Ns(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Rs(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),xs(Cs(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Lv(Pv().mark((function e(){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Sw);function bx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Sx(),postBody:null,tenantId:e.tenantId,error:ky(e,"no-auth-event")}}function kx(e,t){return Ex()._set(Tx(e),t)}function Cx(e){return wx.apply(this,arguments)}function wx(){return(wx=Lv(Pv().mark((function e(t){var n;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ex()._get(Tx(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Ex()._remove(Tx(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xx(e,t){var n,r,i=function(e){var t=Px(e),n=t.link?decodeURIComponent(t.link):void 0,r=Px(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Px(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Px(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(yB){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?ky(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Sx(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Ex(){return Iy(qk)}function Tx(e){return k_("authEvent",e.config.apiKey,e.name)}function Px(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=a(t=n)||Ls(t)||s(t)||u();r[0];return Cv(r.slice(1).join("?"))}var Ix=function(){function e(){Ns(this,e),this._redirectPersistence=Yk,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=kw,this._overrideRedirectResult=lw}return Rs(e,[{key:"_initialize",value:function(){var e=Lv(Pv().mark((function e(t){var n,r;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new _x(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){by(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Lv(Pv().mark((function e(t,n,r,i){var a,o,s,u;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return px(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),iw.clear(),e.next=10,this._originValidation(t);case 10:return o=bx(t,r,i),e.next=13,kx(t,o);case 13:return e.next=15,cx(t,o,n);case 15:return s=e.sent,e.next=18,hx(s);case 18:return u=e.sent,e.abrupt("return",dx(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return fx.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=ux(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Lv(Pv().mark((function n(){return Pv().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Cx(e);case 2:t.onEvent(Ax());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=Lv(Pv().mark((function n(r){var i,a;return Pv().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Cx(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=xx(i,r.url)),t.onEvent(a||Ax());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");ux().handleOpenURL=function(){var e=Lv(Pv().mark((function e(t){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(yB){console.error(yB)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Lx=Ix;function Ax(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ky("no-auth-event")}}function Nx(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Dx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rv();return!("file:"!==Nx()&&"ionic:"!==Nx()&&"capacitor:"!==Nx()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Rx(){return sv()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Ox(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rv();return/Edge\/\d+/.test(e)}function Mx(){try{var e=self.localStorage,t=Xk();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rv();return Rx()||Ox(e)}()||uv()}catch(yB){return jx()&&uv()}return!1}function jx(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Fx(){return("http:"===Nx()||"https:"===Nx()||av()||Dx())&&!(ov()||iv())&&Mx()&&!jx()}function Vx(){return Dx()&&"undefined"!==typeof document}function Ux(){return zx.apply(this,arguments)}function zx(){return zx=Lv(Pv().mark((function e(){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Vx()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)}))),zx.apply(this,arguments)}var Bx={LOCAL:"local",NONE:"none",SESSION:"session"},Wx=Sy,Hx="persistence";function qx(e,t){Wx(Object.values(Bx).includes(t),e,"invalid-persistence-type"),ov()?Wx(t!==Bx.SESSION,e,"unsupported-persistence-type"):iv()?Wx(t===Bx.NONE,e,"unsupported-persistence-type"):jx()?Wx(t===Bx.NONE||t===Bx.LOCAL&&uv(),e,"unsupported-persistence-type"):Wx(t===Bx.NONE||Mx(),e,"unsupported-persistence-type")}function Gx(e){return Yx.apply(this,arguments)}function Yx(){return Yx=Lv(Pv().mark((function e(t){var n,r;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Kx(),r=k_(Hx,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Yx.apply(this,arguments)}function Kx(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(yB){return null}}var Qx=Sy,Xx=function(){function e(){Ns(this,e),this.browserResolver=Iy(tx),this.cordovaResolver=Iy(Lx),this.underlyingResolver=null,this._redirectPersistence=Yk,this._completeRedirectFn=kw,this._overrideRedirectResult=lw}return Rs(e,[{key:"_initialize",value:function(){var e=Lv(Pv().mark((function e(t){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Lv(Pv().mark((function e(t,n,r,i){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Lv(Pv().mark((function e(t,n,r,i){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Vx()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Qx(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Lv(Pv().mark((function e(){var t;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ux();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Jx(e){return e.unwrap()}function Zx(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new rS(e,function(e,t){var n,r=Tv(e),i=t;return Sy(t.customData.operationType,r,"argument-error"),Sy(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Fk._fromError(r,i)}(e,t));else if(r){var i=$x(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function $x(e){var t=(e instanceof mv?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof mv)&&"temporaryProof"in t&&"phoneNumber"in t)return WC.credentialFromResult(e);var n,r=t.providerId;if(!r||r===oy)return null;switch(r){case ay:n=Ib;break;case ry:n=Pb;break;case iy:n=Lb;break;case sy:n=Db;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?Ab._create(r,s):pb._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new Tb(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof mv?n.credentialFromError(e):n.credentialFromResult(e)}function eS(e,t){return t.catch((function(t){throw t instanceof mv&&Zx(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,$x(t)),additionalUserInfo:Mk(e),user:iS.getOrCreate(r)}}))}function tS(e,t){return nS.apply(this,arguments)}function nS(){return(nS=Lv(Pv().mark((function e(t,n){var r;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return eS(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rS=function(){function e(t,n){Ns(this,e),this.resolver=n,this.auth=t.wrapped()}return Rs(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return eS(Jx(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),iS=function(){function e(t){Ns(this,e),this._delegate=t,this.multiFactor=function(e){var t=Tv(e);return zk.has(t)||zk.set(t,Uk._fromUser(t)),zk.get(t)}(t)}return Rs(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Lv(Pv().mark((function e(t){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eS(this.auth,ek(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Lv(Pv().mark((function e(t,n){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tS(this.auth,jC(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Lv(Pv().mark((function e(t){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eS(this.auth,tw(this._delegate,t,Xx)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Lv(Pv().mark((function e(t){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gx(F_(this.auth));case 2:return e.abrupt("return",gw(this._delegate,t,Xx));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Lv(Pv().mark((function e(t){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eS(this.auth,nk(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return tS(this.auth,function(e,t,n){return VC.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return eS(this.auth,function(e,t,n){return ew.apply(this,arguments)}(this._delegate,e,Xx))}},{key:"reauthenticateWithRedirect",value:function(){var e=Lv(Pv().mark((function e(t){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gx(F_(this.auth));case 2:return e.abrupt("return",pw(this._delegate,t,Xx));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return wk.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Lv(Pv().mark((function e(t){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bb(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Pk(Tv(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Pk(Tv(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return BC.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Tk.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return xk.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();iS.USER_MAP=new WeakMap;var aS=Sy,oS=function(){function e(t,n){if(Ns(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;aS(r,"invalid-api-key",{appName:t.name}),aS(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Xx:void 0;this._delegate=n.initialize({options:{persistence:uS(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(py),this.linkUnderlyingAuth()}return Rs(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?iS.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){U_(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return hk.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return dk(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return fk.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Lv(Pv().mark((function e(t,n){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eS(this._delegate,vk(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Ck.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=wb.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Lv(Pv().mark((function e(){var t;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return aS(Fx(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,_w(this._delegate,Xx);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",eS(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){F_(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=sS(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=sS(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return yk.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return lk.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Lv(Pv().mark((function e(t){var n,r;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:qx(this._delegate,t),e.t0=t,e.next=e.t0===Bx.SESSION?4:e.t0===Bx.LOCAL?6:e.t0===Bx.NONE?11:13;break;case 4:return n=Yk,e.abrupt("break",14);case 6:return e.next=8,Iy(vC)._isAvailable();case 8:return r=e.sent,n=r?vC:qk,e.abrupt("break",14);case 11:return n=b_,e.abrupt("break",14);case 13:return e.abrupt("return",by("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return eS(this._delegate,function(e){return Fb.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return eS(this._delegate,Zb(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return eS(this._delegate,function(e,t){return ok.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return eS(this._delegate,function(e,t,n){return Zb(Tv(e),xb.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return eS(this._delegate,function(e,t,n){return _k.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return tS(this._delegate,function(e,t,n){return MC.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Lv(Pv().mark((function e(t){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return aS(Fx(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",eS(this._delegate,ZC(this._delegate,t,Xx)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Lv(Pv().mark((function e(t){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return aS(Fx(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Gx(this._delegate);case 3:return e.abrupt("return",dw(this._delegate,t,Xx));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return pk.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function sS(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&iS.getOrCreate(e))},error:t,complete:n}}function uS(e,t){var n=function(e,t){var n=Kx();if(!n)return[];var r=k_(Hx,e,t);switch(n.getItem(r)){case Bx.NONE:return[b_];case Bx.LOCAL:return[vC,Yk];case Bx.SESSION:return[Yk];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(vC)||n.push(vC),"undefined"!==typeof window)for(var r=0,i=[qk,Yk];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(b_)||n.push(b_),n}oS.Persistence=Bx;var cS=function(){function e(){Ns(this,e),this.providerId="phone",this._delegate=new WC(Jx(ey.auth()))}return Rs(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return WC.credential(e,t)}}]),e}();cS.PHONE_SIGN_IN_METHOD=WC.PHONE_SIGN_IN_METHOD,cS.PROVIDER_ID=WC.PROVIDER_ID;var lS,fS=Sy,hS=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ey.app();Ns(this,e),fS(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new DC(t,n,i.auth()),this.type=this._delegate.type}return Rs(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(lS=ey).INTERNAL.registerComponent(new Av("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new oS(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:uy,PASSWORD_RESET:cy,RECOVER_EMAIL:ly,REVERT_SECOND_FACTOR_ADDITION:fy,VERIFY_AND_CHANGE_EMAIL:hy,VERIFY_EMAIL:dy}},EmailAuthProvider:xb,FacebookAuthProvider:Pb,GithubAuthProvider:Lb,GoogleAuthProvider:Ib,OAuthProvider:Tb,SAMLAuthProvider:Nb,PhoneAuthProvider:cS,PhoneMultiFactorGenerator:rx,RecaptchaVerifier:hS,TwitterAuthProvider:Db,Auth:oS,AuthCredential:W_,Error:mv}).setInstantiationMode("LAZY").setMultipleInstances(!1)),lS.registerVersion("@firebase/auth-compat","0.3.0");var dS,mS="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},pS={},vS=vS||{},gS=mS||self;function yS(){}function _S(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function bS(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var kS="closure_uid_"+(1e9*Math.random()>>>0),CS=0;function wS(e,t,n){return e.call.apply(e.bind,arguments)}function xS(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function SS(e,t,n){return(SS=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wS:xS).apply(null,arguments)}function ES(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function TS(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function PS(){this.s=this.s,this.o=this.o}PS.prototype.s=!1,PS.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,kS)&&e[kS]||(e[kS]=++CS))},PS.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var IS=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function LS(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function AS(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(_S(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function NS(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}NS.prototype.h=function(){this.defaultPrevented=!0};var DS=function(){if(!gS.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{gS.addEventListener("test",yS,t),gS.removeEventListener("test",yS,t)}catch(n){}return e}();function RS(e){return/^[\s\xa0]*$/.test(e)}var OS=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function MS(e,t){return e<t?-1:e>t?1:0}function jS(){var e=gS.navigator;return e&&(e=e.userAgent)?e:""}function FS(e){return-1!=jS().indexOf(e)}function VS(e){return VS[" "](e),e}VS[" "]=yS;var US,zS=FS("Opera"),BS=FS("Trident")||FS("MSIE"),WS=FS("Edge"),HS=WS||BS,qS=FS("Gecko")&&!(-1!=jS().toLowerCase().indexOf("webkit")&&!FS("Edge"))&&!(FS("Trident")||FS("MSIE"))&&!FS("Edge"),GS=-1!=jS().toLowerCase().indexOf("webkit")&&!FS("Edge");function YS(){var e=gS.document;return e?e.documentMode:void 0}e:{var KS="",QS=function(){var e=jS();return qS?/rv:([^\);]+)(\)|;)/.exec(e):WS?/Edge\/([\d\.]+)/.exec(e):BS?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):GS?/WebKit\/(\S+)/.exec(e):zS?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(QS&&(KS=QS?QS[1]:""),BS){var XS=YS();if(null!=XS&&XS>parseFloat(KS)){US=String(XS);break e}}US=KS}var JS,ZS={};function $S(){return function(e){var t=ZS;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=OS(String(US)).split("."),n=OS("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=MS(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||MS(0==a[2].length,0==o[2].length)||MS(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(gS.document&&BS){var eE=YS();JS=eE||(parseInt(US,10)||void 0)}else JS=void 0;var tE=JS;function nE(e,t){if(NS.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(qS){e:{try{VS(t.nodeName);var i=!0;break e}catch(Qi){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:rE[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&nE.X.h.call(this)}}TS(nE,NS);var rE={2:"touch",3:"pen",4:"mouse"};nE.prototype.h=function(){nE.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var iE="closure_listenable_"+(1e6*Math.random()|0),aE=0;function oE(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++aE,this.ba=this.ea=!1}function sE(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function uE(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function cE(e){var t={};for(var n in e)t[n]=e[n];return t}var lE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fE(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<lE.length;a++)n=lE[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function hE(e){this.src=e,this.g={},this.h=0}function dE(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=IS(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(sE(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function mE(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}hE.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=mE(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new oE(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var pE="closure_lm_"+(1e6*Math.random()|0),vE={};function gE(e,t,n,r,i){if(r&&r.once)return _E(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)gE(e,t[a],n,r,i);return null}return n=EE(n),e&&e[iE]?e.N(t,n,bS(r)?!!r.capture:!!r,i):yE(e,t,n,!1,r,i)}function yE(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=bS(i)?!!i.capture:!!i,s=xE(e);if(s||(e[pE]=s=new hE(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=wE;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)DS||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(CE(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function _E(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)_E(e,t[a],n,r,i);return null}return n=EE(n),e&&e[iE]?e.O(t,n,bS(r)?!!r.capture:!!r,i):yE(e,t,n,!0,r,i)}function bE(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)bE(e,t[a],n,r,i);else r=bS(r)?!!r.capture:!!r,n=EE(n),e&&e[iE]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=mE(a=e.g[t],n,r,i))&&(sE(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=xE(e))&&(t=e.g[t.toString()],e=-1,t&&(e=mE(t,n,r,i)),(n=-1<e?t[e]:null)&&kE(n))}function kE(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[iE])dE(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(CE(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=xE(t))?(dE(n,e),0==n.h&&(n.src=null,t[pE]=null)):sE(e)}}}function CE(e){return e in vE?vE[e]:vE[e]="on"+e}function wE(e,t){if(e.ba)e=!0;else{t=new nE(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&kE(e),e=n.call(r,t)}return e}function xE(e){return(e=e[pE])instanceof hE?e:null}var SE="__closure_events_fn_"+(1e9*Math.random()>>>0);function EE(e){return"function"===typeof e?e:(e[SE]||(e[SE]=function(t){return e.handleEvent(t)}),e[SE])}function TE(){PS.call(this),this.i=new hE(this),this.P=this,this.I=null}function PE(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new NS(t,e);else if(t instanceof NS)t.target=t.target||e;else{var i=t;fE(t=new NS(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=IE(o,r,!0,t)&&i}if(i=IE(o=t.g=e,r,!0,t)&&i,i=IE(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=IE(o=t.g=n[a],r,!1,t)&&i}function IE(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var s=o.listener,u=o.ha||o.src;o.ea&&dE(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}TS(TE,PS),TE.prototype[iE]=!0,TE.prototype.removeEventListener=function(e,t,n,r){bE(this,e,t,n,r)},TE.prototype.M=function(){if(TE.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)sE(n[r]);delete t.g[e],t.h--}}this.I=null},TE.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},TE.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var LE=gS.JSON.stringify;function AE(){var e=VE,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var NE,DE=function(){function e(){Ns(this,e),this.h=this.g=null}return Rs(e,[{key:"add",value:function(e,t){var n=RE.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),RE=new(function(){function e(t,n){Ns(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Rs(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new OE}),(function(e){return e.reset()})),OE=function(){function e(){Ns(this,e),this.next=this.g=this.h=null}return Rs(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function ME(e){gS.setTimeout((function(){throw e}),0)}function jE(e,t){NE||function(){var e=gS.Promise.resolve(void 0);NE=function(){e.then(UE)}}(),FE||(NE(),FE=!0),VE.add(e,t)}var FE=!1,VE=new DE;function UE(){for(var e;e=AE();){try{e.h.call(e.g)}catch(n){ME(n)}var t=RE;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}FE=!1}function zE(e,t){TE.call(this),this.h=e||1,this.g=t||gS,this.j=SS(this.lb,this),this.l=Date.now()}function BE(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function WE(e,t,n){if("function"===typeof e)n&&(e=SS(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=SS(e.handleEvent,e)}return 2147483647<Number(t)?-1:gS.setTimeout(e,t||0)}function HE(e){e.g=WE((function(){e.g=null,e.i&&(e.i=!1,HE(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}TS(zE,TE),(dS=zE.prototype).ca=!1,dS.R=null,dS.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),PE(this,"tick"),this.ca&&(BE(this),this.start()))}},dS.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},dS.M=function(){zE.X.M.call(this),BE(this),delete this.g};var qE=function(e){Ss(n,e);var t=Ps(n);function n(e,r){var i;return Ns(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Rs(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:HE(this)}},{key:"M",value:function(){xs(Cs(n.prototype),"M",this).call(this),this.g&&(gS.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(PS);function GE(e){PS.call(this),this.h=e,this.g={}}TS(GE,PS);var YE=[];function KE(e,t,n,r){Array.isArray(n)||(n&&(YE[0]=n.toString()),n=YE);for(var i=0;i<n.length;i++){var a=gE(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function QE(e){uE(e.g,(function(e,t){this.g.hasOwnProperty(t)&&kE(e)}),e),e.g={}}function XE(){this.g=!0}function JE(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return LE(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}GE.prototype.M=function(){GE.X.M.call(this),QE(this)},GE.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},XE.prototype.Aa=function(){this.g=!1},XE.prototype.info=function(){};var ZE={},$E=null;function eT(){return $E=$E||new TE}function tT(e){NS.call(this,ZE.Pa,e)}function nT(e){var t=eT();PE(t,new tT(t))}function rT(e,t){NS.call(this,ZE.STAT_EVENT,e),this.stat=t}function iT(e){var t=eT();PE(t,new rT(t,e))}function aT(e,t){NS.call(this,ZE.Qa,e),this.size=t}function oT(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return gS.setTimeout((function(){e()}),t)}ZE.Pa="serverreachability",TS(tT,NS),ZE.STAT_EVENT="statevent",TS(rT,NS),ZE.Qa="timingevent",TS(aT,NS);var sT={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},uT={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function cT(){}function lT(e){return e.h||(e.h=e.i())}function fT(){}cT.prototype.h=null;var hT,dT={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function mT(){NS.call(this,"d")}function pT(){NS.call(this,"c")}function vT(){}function gT(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new GE(this),this.O=_T,e=HS?125:void 0,this.T=new zE(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new yT}function yT(){this.i=null,this.g="",this.h=!1}TS(mT,NS),TS(pT,NS),TS(vT,cT),vT.prototype.g=function(){return new XMLHttpRequest},vT.prototype.i=function(){return{}},hT=new vT;var _T=45e3,bT={},kT={};function CT(e,t,n){e.K=1,e.v=zT(MT(t)),e.s=n,e.P=!0,wT(e,null)}function wT(e,t){e.F=Date.now(),TT(e),e.A=MT(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),eP(n.i,"t",r),e.C=0,n=e.l.H,e.h=new yT,e.g=tI(e.l,n?t:null,!e.s),0<e.N&&(e.L=new qE(SS(e.La,e,e.g),e.N)),KE(e.S,e.g,"readystatechange",e.ib),t=e.H?cE(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),nT(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function xT(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function ST(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=ET(e,n))==kT){4==t&&(e.o=4,iT(14),i=!1),JE(e.j,e.m,null,"[Incomplete Response]");break}if(r==bT){e.o=4,iT(15),JE(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}JE(e.j,e.m,r,null),NT(e,r)}xT(e)&&r!=kT&&r!=bT&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,iT(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),YP(t),t.K=!0,iT(11))):(JE(e.j,e.m,n,"[Invalid Chunked Response]"),AT(e),LT(e))}function ET(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?kT:(n=Number(t.substring(n,r)),isNaN(n)?bT:(r+=1)+n>t.length?kT:(t=t.substr(r,n),e.C=r+n,t))}function TT(e){e.V=Date.now()+e.O,PT(e,e.O)}function PT(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=oT(SS(e.gb,e),t)}function IT(e){e.B&&(gS.clearTimeout(e.B),e.B=null)}function LT(e){0==e.l.G||e.I||XP(e.l,e)}function AT(e){IT(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,BE(e.T),QE(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function NT(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||uP(n.h,e)))if(!e.J&&uP(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;QP(n),VP(n)}GP(n),iT(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=oT(SS(n.cb,n),6e3));if(1>=sP(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else ZP(n,11)}else if((e.J||n.g==e)&&QP(n),!RS(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var s=a[4];null!=s&&(n.Ca=s,n.j.info("SVER="+n.Ca));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(cP(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,UT(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=eI(r,r.H?r.ka:null,r.V),d.J){lP(r.h,d);var m=d,p=r.J;p&&m.setTimeout(p),m.B&&(IT(m),TT(m)),r.g=d}else qP(r);0<n.i.length&&zP(n)}else"stop"!=a[0]&&"close"!=a[0]||ZP(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?ZP(n,7):FP(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}nT()}catch(a){}}function DT(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(_S(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(_S(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(_S(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(dS=gT.prototype).setTimeout=function(e){this.O=e},dS.ib=function(e){e=e.target;var t=this.L;t&&3==NP(e)?t.l():this.La(e)},dS.La=function(e){try{if(e==this.g)e:{var t=NP(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||HS||this.g&&(this.h.h||this.g.fa()||DP(this.g)))){this.I||4!=t||7==n||nT(),IT(this);var r=this.g.aa();this.Y=r;t:if(xT(this)){var i=DP(this.g);e="";var a=i.length,o=4==NP(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){AT(this),LT(this);var s="";break t}this.h.i=new gS.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!RS(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,iT(12),AT(this),LT(this);break e}JE(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,NT(this,r)}this.P?(ST(this,t,s),HS&&this.i&&3==t&&(KE(this.S,this.T,"tick",this.hb),this.T.start())):(JE(this.j,this.m,s,null),NT(this,s)),4==t&&AT(this),this.i&&!this.I&&(4==t?XP(this.l,this):(this.i=!1,TT(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,iT(12)):(this.o=0,iT(13)),AT(this),LT(this)}}}catch(t){}},dS.hb=function(){if(this.g){var e=NP(this.g),t=this.g.fa();this.C<t.length&&(IT(this),ST(this,e,t),this.i&&4!=e&&TT(this))}},dS.cancel=function(){this.I=!0,AT(this)},dS.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(nT(),iT(17)),AT(this),this.o=2,LT(this)):PT(this,this.V-e)};var RT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function OT(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof OT){this.h=void 0!==t?t:e.h,jT(this,e.j),this.s=e.s,this.g=e.g,FT(this,e.m),this.l=e.l,t=e.i;var n=new XT;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),VT(this,n),this.o=e.o}else e&&(n=String(e).match(RT))?(this.h=!!t,jT(this,n[1]||"",!0),this.s=BT(n[2]||""),this.g=BT(n[3]||"",!0),FT(this,n[4]),this.l=BT(n[5]||"",!0),VT(this,n[6]||"",!0),this.o=BT(n[7]||"")):(this.h=!!t,this.i=new XT(null,this.h))}function MT(e){return new OT(e)}function jT(e,t,n){e.j=n?BT(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function FT(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function VT(e,t,n){t instanceof XT?(e.i=t,function(e,t){t&&!e.j&&(JT(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ZT(this,t),eP(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=WT(t,KT)),e.i=new XT(t,e.h))}function UT(e,t,n){e.i.set(t,n)}function zT(e){return UT(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function BT(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function WT(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,HT),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function HT(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}OT.prototype.toString=function(){var e=[],t=this.j;t&&e.push(WT(t,qT,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(WT(t,qT,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(WT(n,"/"==n.charAt(0)?YT:GT,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",WT(n,QT)),e.join("")};var qT=/[#\/\?@]/g,GT=/[#\?:]/g,YT=/[#\?]/g,KT=/[#\?@]/g,QT=/#/g;function XT(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function JT(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ZT(e,t){JT(e),t=tP(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function $T(e,t){return JT(e),t=tP(e,t),e.g.has(t)}function eP(e,t,n){ZT(e,t),0<n.length&&(e.i=null,e.g.set(tP(e,t),LS(n)),e.h+=n.length)}function tP(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(dS=XT.prototype).add=function(e,t){JT(this),this.i=null,e=tP(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},dS.forEach=function(e,t){JT(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},dS.oa=function(){JT(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},dS.W=function(e){JT(this);var t=[];if("string"===typeof e)$T(this,e)&&(t=t.concat(this.g.get(tP(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},dS.set=function(e,t){return JT(this),this.i=null,$T(this,e=tP(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},dS.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},dS.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var nP=Rs((function e(t,n){Ns(this,e),this.h=t,this.g=n}));function rP(e){this.l=e||aP,gS.PerformanceNavigationTiming?e=0<(e=gS.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(gS.g&&gS.g.Ga&&gS.g.Ga()&&gS.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var iP,aP=10;function oP(e){return!!e.h||!!e.g&&e.g.size>=e.j}function sP(e){return e.h?1:e.g?e.g.size:0}function uP(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function cP(e,t){e.g?e.g.add(t):e.h=t}function lP(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function fP(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Is(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return LS(e.i)}function hP(){}function dP(){this.g=new hP}function mP(e,t,n){var r=n||"";try{DT(e,(function(e,n){var i=e;bS(e)&&(i=LE(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(yB){throw t.push(r+"type="+encodeURIComponent("_badmap")),yB}}function pP(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(Qi){}}function vP(e){this.l=e.ac||null,this.j=e.jb||!1}function gP(e,t){TE.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=yP,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rP.prototype.cancel=function(){if(this.i=fP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Is(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},hP.prototype.stringify=function(e){return gS.JSON.stringify(e,void 0)},hP.prototype.parse=function(e){return gS.JSON.parse(e,void 0)},TS(vP,cT),vP.prototype.g=function(){return new gP(this.l,this.j)},vP.prototype.i=(iP={},function(){return iP}),TS(gP,TE);var yP=0;function _P(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function bP(e){e.readyState=4,e.l=null,e.j=null,e.A=null,kP(e)}function kP(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(dS=gP.prototype).open=function(e,t){if(this.readyState!=yP)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,kP(this)},dS.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||gS).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},dS.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,bP(this)),this.readyState=yP},dS.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,kP(this)),this.g&&(this.readyState=3,kP(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof gS.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_P(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},dS.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?bP(this):kP(this),3==this.readyState&&_P(this)}},dS.Va=function(e){this.g&&(this.response=this.responseText=e,bP(this))},dS.Ua=function(e){this.g&&(this.response=e,bP(this))},dS.ga=function(){this.g&&bP(this)},dS.setRequestHeader=function(e,t){this.v.append(e,t)},dS.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},dS.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(gP.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var CP=gS.JSON.parse;function wP(e){TE.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=xP,this.K=this.L=!1}TS(wP,TE);var xP="",SP=/^https?$/i,EP=["POST","PUT"];function TP(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,PP(e),LP(e)}function PP(e){e.D||(e.D=!0,PE(e,"complete"),PE(e,"error"))}function IP(e){if(e.h&&"undefined"!=typeof vS&&(!e.C[1]||4!=NP(e)||2!=e.aa()))if(e.v&&4==NP(e))WE(e.Ha,0,e);else if(PE(e,"readystatechange"),4==NP(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(RT)[1]||null;if(!a&&gS.self&&gS.self.location){var o=gS.self.location.protocol;a=o.substr(0,o.length-1)}i=!SP.test(a?a.toLowerCase():"")}t=i}if(t)PE(e,"complete"),PE(e,"success");else{e.m=6;try{var s=2<NP(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.aa()+"]",PP(e)}}finally{LP(e)}}}function LP(e,t){if(e.g){AP(e);var n=e.g,r=e.C[0]?yS:null;e.g=null,e.C=null,t||PE(e,"ready");try{n.onreadystatechange=r}catch(yB){}}}function AP(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(gS.clearTimeout(e.A),e.A=null)}function NP(e){return e.g?e.g.readyState:0}function DP(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case xP:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(gI){return null}}function RP(e){var t="";return uE(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function OP(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=RP(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):UT(e,t,n))}function MP(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function jP(e){this.Ca=0,this.i=[],this.j=new XE,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=MP("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=MP("baseRetryDelayMs",5e3,e),this.bb=MP("retryDelaySeedMs",1e4,e),this.$a=MP("forwardChannelMaxRetries",2,e),this.ta=MP("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new rP(e&&e.concurrentRequestLimit),this.Fa=new dP,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function FP(e){if(UP(e),3==e.G){var t=e.U++,n=MT(e.F);UT(n,"SID",e.I),UT(n,"RID",t),UT(n,"TYPE","terminate"),WP(e,n),(t=new gT(e,e.j,t,void 0)).K=2,t.v=zT(MT(n)),n=!1,gS.navigator&&gS.navigator.sendBeacon&&(n=gS.navigator.sendBeacon(t.v.toString(),"")),!n&&gS.Image&&((new Image).src=t.v,n=!0),n||(t.g=tI(t.l,null),t.g.da(t.v)),t.F=Date.now(),TT(t)}$P(e)}function VP(e){e.g&&(YP(e),e.g.cancel(),e.g=null)}function UP(e){VP(e),e.u&&(gS.clearTimeout(e.u),e.u=null),QP(e),e.h.cancel(),e.m&&("number"===typeof e.m&&gS.clearTimeout(e.m),e.m=null)}function zP(e){oP(e.h)||e.m||(e.m=!0,jE(e.Ja,e),e.C=0)}function BP(e,t){var n;n=t?t.m:e.U++;var r=MT(e.F);UT(r,"SID",e.I),UT(r,"RID",n),UT(r,"AID",e.T),WP(e,r),e.o&&e.s&&OP(r,e.o,e.s),n=new gT(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=HP(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),cP(e.h,n),CT(n,r,t)}function WP(e,t){e.ia&&uE(e.ia,(function(e,n){UT(t,n,e)})),e.l&&DT({},(function(e,n){UT(t,n,e)}))}function HP(e,t,n){n=Math.min(e.i.length,n);var r=e.l?SS(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{mP(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function qP(e){e.g||e.u||(e.Z=1,jE(e.Ia,e),e.A=0)}function GP(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=oT(SS(e.Ia,e),JP(e,e.A)),e.A++,!0)}function YP(e){null!=e.B&&(gS.clearTimeout(e.B),e.B=null)}function KP(e){e.g=new gT(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=MT(e.sa);UT(t,"RID","rpc"),UT(t,"SID",e.I),UT(t,"CI",e.L?"0":"1"),UT(t,"AID",e.T),UT(t,"TYPE","xmlhttp"),WP(e,t),e.o&&e.s&&OP(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=zT(MT(t)),n.s=null,n.P=!0,wT(n,e)}function QP(e){null!=e.v&&(gS.clearTimeout(e.v),e.v=null)}function XP(e,t){var n=null;if(e.g==t){QP(e),YP(e),e.g=null;var r=2}else{if(!uP(e.h,t))return;n=t.D,lP(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;PE(r=eT(),new aT(r,n)),zP(e)}else qP(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(sP(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=oT(SS(e.Ja,e,t),JP(e,e.C)),e.C++,!0))}(e,t)||2==r&&GP(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:ZP(e,5);break;case 4:ZP(e,10);break;case 3:ZP(e,6);break;default:ZP(e,2)}}function JP(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function ZP(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=SS(e.kb,e);n||(n=new OT("//www.google.com/images/cleardot.gif"),gS.location&&"http"==gS.location.protocol||jT(n,"https"),zT(n)),function(e,t){var n=new XE;if(gS.Image){var r=new Image;r.onload=ES(pP,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ES(pP,n,r,"TestLoadImage: error",!1,t),r.onabort=ES(pP,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ES(pP,n,r,"TestLoadImage: timeout",!1,t),gS.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else iT(2);e.G=0,e.l&&e.l.va(t),$P(e),UP(e)}function $P(e){if(e.G=0,e.la=[],e.l){var t=fP(e.h);0==t.length&&0==e.i.length||(AS(e.la,t),AS(e.la,e.i),e.h.i.length=0,LS(e.i),e.i.length=0),e.l.ua()}}function eI(e,t,n){var r=n instanceof OT?MT(n):new OT(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),FT(r,r.m);else{var i=gS.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new OT(null,void 0);r&&jT(a,r),t&&(a.g=t),i&&FT(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&UT(r,n,t),UT(r,"VER",e.ma),WP(e,r),r}function tI(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new wP(new vP({jb:!0})):new wP(e.ra)).Ka(e.H),t}function nI(){}function rI(){if(BS&&!(10<=Number(tE)))throw Error("Environmental error: no available transport.")}function iI(e,t){TE.call(this),this.g=new jP(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!RS(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!RS(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new sI(this)}function aI(e){mT.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function oI(){pT.call(this),this.status=1}function sI(e){this.g=e}(dS=wP.prototype).Ka=function(e){this.L=e},dS.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():hT.g(),this.C=this.u?lT(this.u):lT(hT),this.g.onreadystatechange=SS(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void TP(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=Is(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(m){o.e(m)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=gS.FormData&&e instanceof gS.FormData,!(0<=IS(EP,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,l=Is(n);try{for(l.s();!(u=l.n()).done;){var f=c(u.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(m){l.e(m)}finally{l.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{AP(this),0<this.B&&((this.K=function(e){return BS&&$S()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=SS(this.qa,this)):this.A=WE(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){TP(this,s)}},dS.qa=function(){"undefined"!=typeof vS&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,PE(this,"timeout"),this.abort(8))},dS.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,PE(this,"complete"),PE(this,"abort"),LP(this))},dS.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),LP(this,!0)),wP.X.M.call(this)},dS.Ha=function(){this.s||(this.F||this.v||this.l?IP(this):this.fb())},dS.fb=function(){IP(this)},dS.aa=function(){try{return 2<NP(this)?this.g.status:-1}catch(iP){return-1}},dS.fa=function(){try{return this.g?this.g.responseText:""}catch(iP){return""}},dS.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),CP(t)}},dS.Ea=function(){return this.m},dS.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(dS=jP.prototype).ma=8,dS.G=1,dS.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new gT(this,this.j,e,void 0),n=this.s;if(this.S&&(n?fE(n=cE(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=HP(this,t,r),UT(i=MT(this.F),"RID",e),UT(i,"CVER",22),this.D&&UT(i,"X-HTTP-Session-Id",this.D),WP(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(RP(n)))+"&"+r:this.o&&OP(i,this.o,n)),cP(this.h,t),this.Ya&&UT(i,"TYPE","init"),this.O?(UT(i,"$req",r),UT(i,"SID","null"),t.Z=!0,CT(t,i,null)):CT(t,i,r),this.G=2}}else 3==this.G&&(e?BP(this,e):0==this.i.length||oP(this.h)||BP(this))},dS.Ia=function(){if(this.u=null,KP(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=oT(SS(this.eb,this),e)}},dS.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,iT(10),VP(this),KP(this))},dS.cb=function(){null!=this.v&&(this.v=null,VP(this),GP(this),iT(19))},dS.kb=function(e){e?(this.j.info("Successfully pinged google.com"),iT(2)):(this.j.info("Failed to ping google.com"),iT(1))},(dS=nI.prototype).xa=function(){},dS.wa=function(){},dS.va=function(){},dS.ua=function(){},dS.Ra=function(){},rI.prototype.g=function(e,t){return new iI(e,t)},TS(iI,TE),iI.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;iT(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=eI(e,null,e.V),zP(e)},iI.prototype.close=function(){FP(this.g)},iI.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=LE(e),e=n);t.i.push(new nP(t.ab++,e)),3==t.G&&zP(t)},iI.prototype.M=function(){this.g.l=null,delete this.j,FP(this.g),delete this.g,iI.X.M.call(this)},TS(aI,mT),TS(oI,pT),TS(sI,nI),sI.prototype.xa=function(){PE(this.g,"a")},sI.prototype.wa=function(e){PE(this.g,new aI(e))},sI.prototype.va=function(e){PE(this.g,new oI)},sI.prototype.ua=function(){PE(this.g,"b")},rI.prototype.createWebChannel=rI.prototype.g,iI.prototype.send=iI.prototype.u,iI.prototype.open=iI.prototype.m,iI.prototype.close=iI.prototype.close,sT.NO_ERROR=0,sT.TIMEOUT=8,sT.HTTP_ERROR=6,uT.COMPLETE="complete",fT.EventType=dT,dT.OPEN="a",dT.CLOSE="b",dT.ERROR="c",dT.MESSAGE="d",TE.prototype.listen=TE.prototype.N,wP.prototype.listenOnce=wP.prototype.O,wP.prototype.getLastError=wP.prototype.Oa,wP.prototype.getLastErrorCode=wP.prototype.Ea,wP.prototype.getStatus=wP.prototype.aa,wP.prototype.getResponseJson=wP.prototype.Sa,wP.prototype.getResponseText=wP.prototype.fa,wP.prototype.send=wP.prototype.da,wP.prototype.setWithCredentials=wP.prototype.Ka;var uI=pS.createWebChannelTransport=function(){return new rI},cI=pS.getStatEventTarget=function(){return eT()},lI=pS.ErrorCode=sT,fI=pS.EventType=uT,hI=pS.Event=ZE,dI=pS.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},mI=pS.FetchXmlHttpFactory=vP,pI=pS.WebChannel=fT,vI=pS.XhrIo=wP,gI="@firebase/firestore",yI=function(){function e(t){Ns(this,e),this.uid=t}return Rs(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();yI.UNAUTHENTICATED=new yI(null),yI.GOOGLE_CREDENTIALS=new yI("google-credentials-uid"),yI.FIRST_PARTY=new yI("first-party-uid"),yI.MOCK_USER=new yI("mock-user");var _I="9.15.0",bI=new Bv("@firebase/firestore");function kI(){return bI.logLevel}function CI(e){if(bI.logLevel<=Ov.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(SI);bI.debug.apply(bI,["Firestore (".concat(_I,"): ").concat(e)].concat(As(i)))}}function wI(e){if(bI.logLevel<=Ov.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(SI);bI.error.apply(bI,["Firestore (".concat(_I,"): ").concat(e)].concat(As(i)))}}function xI(e){if(bI.logLevel<=Ov.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(SI);bI.warn.apply(bI,["Firestore (".concat(_I,"): ").concat(e)].concat(As(i)))}}function SI(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function EI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(_I,") INTERNAL ASSERTION FAILED: ")+e;throw wI(t),new Error(t)}function TI(e,t){e||EI()}function PI(e,t){return e}var II={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},LI=function(e){Ss(n,e);var t=Ps(n);function n(e,r){var i;return Ns(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Rs(n)}(mv),AI=Rs((function e(){var t=this;Ns(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),NI=Rs((function e(t,n){Ns(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),DI=function(){function e(){Ns(this,e)}return Rs(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(yI.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),RI=function(){function e(t){Ns(this,e),this.token=t,this.changeListener=null}return Rs(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),OI=function(){function e(t){Ns(this,e),this.t=t,this.currentUser=yI.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Rs(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new AI;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new AI,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Lv(Pv().mark((function e(){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){CI("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(CI("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new AI)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(CI("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(TI("string"==typeof n.accessToken),new NI(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return TI(null===e||"string"==typeof e),new yI(e)}}]),e}(),MI=function(){function e(t,n,r,i){Ns(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=yI.FIRST_PARTY,this.p=new Map}return Rs(e,[{key:"I",value:function(){return this.g?this.g():(TI(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),jI=function(){function e(t,n,r,i){Ns(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return Rs(e,[{key:"getToken",value:function(){return Promise.resolve(new MI(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(yI.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),FI=Rs((function e(t){Ns(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),VI=function(){function e(t){Ns(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return Rs(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&CI("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,CI("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){CI("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):CI("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(TI("string"==typeof t.token),e.A=t.token,new FI(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function UI(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var zI=function(){function e(){Ns(this,e)}return Rs(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=UI(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function BI(e,t){return e<t?-1:e>t?1:0}function WI(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function HI(e){return e+"\0"}var qI=function(){function e(t,n){if(Ns(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new LI(II.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new LI(II.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new LI(II.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new LI(II.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Rs(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?BI(this.nanoseconds,e.nanoseconds):BI(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),GI=function(){function e(t){Ns(this,e),this.timestamp=t}return Rs(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new qI(0,0))}},{key:"max",value:function(){return new e(new qI(253402300799,999999999))}}]),e}(),YI=function(){function e(t,n,r){Ns(this,e),void 0===n?n=0:n>t.length&&EI(),void 0===r?r=t.length-n:r>t.length-n&&EI(),this.segments=t,this.offset=n,this.len=r}return Rs(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),KI=function(e){Ss(n,e);var t=Ps(n);function n(){return Ns(this,n),t.apply(this,arguments)}return Rs(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new LI(II.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,As(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(YI),QI=/^[_a-zA-Z][_a-zA-Z0-9]*$/,XI=function(e){Ss(n,e);var t=Ps(n);function n(){return Ns(this,n),t.apply(this,arguments)}return Rs(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return QI.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new LI(II.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new LI(II.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new LI(II.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new LI(II.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(YI),JI=function(){function e(t){Ns(this,e),this.path=t}return Rs(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===KI.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(KI.fromString(t))}},{key:"fromName",value:function(t){return new e(KI.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(KI.emptyPath())}},{key:"comparator",value:function(e,t){return KI.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new KI(t.slice()))}}]),e}(),ZI=Rs((function e(t,n,r,i){Ns(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function $I(e){return e.fields.find((function(e){return 2===e.kind}))}function eL(e){return e.fields.filter((function(e){return 2!==e.kind}))}ZI.UNKNOWN_ID=-1;var tL=Rs((function e(t,n){Ns(this,e),this.fieldPath=t,this.kind=n}));var nL=function(){function e(t,n){Ns(this,e),this.sequenceNumber=t,this.offset=n}return Rs(e,null,[{key:"empty",value:function(){return new e(0,aL.min())}}]),e}();function rL(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=GI.fromTimestamp(1e9===r?new qI(n+1,0):new qI(n,r));return new aL(i,JI.empty(),t)}function iL(e){return new aL(e.readTime,e.key,-1)}var aL=function(){function e(t,n,r){Ns(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Rs(e,null,[{key:"min",value:function(){return new e(GI.min(),JI.empty(),-1)}},{key:"max",value:function(){return new e(GI.max(),JI.empty(),-1)}}]),e}();function oL(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=JI.comparator(e.documentKey,t.documentKey))?n:BI(e.largestBatchId,t.largestBatchId)}var sL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",uL=function(){function e(){Ns(this,e),this.onCommittedListeners=[]}return Rs(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function cL(e){return lL.apply(this,arguments)}function lL(){return lL=Lv(Pv().mark((function e(t){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===II.FAILED_PRECONDITION&&t.message===sL){e.next=2;break}throw t;case 2:CI("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),lL.apply(this,arguments)}var fL=function(){function e(t){var n=this;Ns(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Rs(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&EI(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Is(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(s){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s(u)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),hL=function(){function e(t,n){var r=this;Ns(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new AI,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new pL(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=bL(e.target.error);r.P.reject(new pL(t,n))}}return Rs(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(CI("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new gL(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new pL(n,t)}}}]),e}(),dL=function(){function e(t,n,r){Ns(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(rv())&&wI("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Rs(e,[{key:"F",value:function(){var e=Lv(Pv().mark((function e(t){var n=this;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return CI("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new pL(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new LI(II.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new LI(II.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new pL(t,n))},i.onupgradeneeded=function(e){CI("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){CI("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Lv(Pv().mark((function e(t,n,r,i){var a,o,s,u,c,l=this;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Pv().mark((function e(){var n,o;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.F(t);case 2:return l.db=e.sent,n=hL.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),fL.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.v;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u=e.t1,c="FirebaseError"!==u.name&&o<3,CI("SimpleDb","Transaction failed with error:",u.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(u));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return CI("SimpleDb","Removing database:",e),yL(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!uv())return!1;if(e.N())return!0;var t=rv(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),mL=function(){function e(t){Ns(this,e),this.q=t,this.U=!1,this.K=null}return Rs(e,[{key:"isDone",get:function(){return this.U}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.U=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return yL(this.q.delete())}}]),e}(),pL=function(e){Ss(n,e);var t=Ps(n);function n(e,r){var i;return Ns(this,n),(i=t.call(this,II.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Rs(n)}(LI);function vL(e){return"IndexedDbTransactionError"===e.name}var gL=function(){function e(t){Ns(this,e),this.store=t}return Rs(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(CI("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(CI("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),yL(n)}},{key:"add",value:function(e){return CI("SimpleDb","ADD",this.store.name,e,e),yL(this.store.add(e))}},{key:"get",value:function(e){var t=this;return yL(this.store.get(e)).next((function(n){return void 0===n&&(n=null),CI("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return CI("SimpleDb","DELETE",this.store.name,e),yL(this.store.delete(e))}},{key:"count",value:function(){return CI("SimpleDb","COUNT",this.store.name),yL(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new fL((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new fL((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){CI("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new fL((function(n,r){t.onerror=function(e){var t=bL(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new fL((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new mL(i),o=t(i.primaryKey,i.value,a);if(o instanceof fL){var s=o.catch((function(e){return a.done(),fL.reject(e)}));n.push(s)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return fL.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function yL(e){return new fL((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=bL(e.target.error);n(t)}}))}var _L=!1;function bL(e){var t=dL.D(rv());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new LI("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return _L||(_L=!0,setTimeout((function(){throw r}),0)),r}}return e}var kL=function(){function e(t,n){Ns(this,e),this.asyncQueue=t,this.et=n,this.task=null}return Rs(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;CI("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Lv(Pv().mark((function e(){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=CI,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!vL(e.t4)){e.next=17;break}CI("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,cL(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),CL=function(){function e(t,n){Ns(this,e),this.localStore=t,this.persistence=n}return Rs(e,[{key:"st",value:function(){var e=Lv(Pv().mark((function e(){var t,n=this,r=arguments;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return fL.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return CI("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return CI("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=iL(t);oL(r,n)>0&&(n=r)})),new aL(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),wL=function(){function e(t,n){var r=this;Ns(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return Rs(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();wL.at=-1;var xL=Rs((function e(t,n,r,i,a,o,s,u){Ns(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),SL=function(){function e(t,n){Ns(this,e),this.projectId=t,this.database=n||"(default)"}return Rs(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function EL(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function TL(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function PL(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function IL(e){return null==e}function LL(e){return 0===e&&1/e==-1/0}function AL(e){return"number"==typeof e&&Number.isInteger(e)&&!LL(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var NL=function(e){function t(e){Ns(this,t),this.binaryString=e}return Rs(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return BI(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();NL.EMPTY_BYTE_STRING=new NL("");var DL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function RL(e){if(TI(!!e),"string"==typeof e){var t=0,n=DL.exec(e);if(TI(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:OL(e.seconds),nanos:OL(e.nanos)}}function OL(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ML(e){return"string"==typeof e?NL.fromBase64String(e):NL.fromUint8Array(e)}function jL(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function FL(e){var t=e.mapValue.fields.__previous_value__;return jL(t)?FL(t):t}function VL(e){var t=RL(e.mapValue.fields.__local_write_time__.timestampValue);return new qI(t.seconds,t.nanos)}var UL={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},zL={nullValue:"NULL_VALUE"};function BL(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?jL(e)?4:nA(e)?9007199254740991:10:EI()}function WL(e,t){if(e===t)return!0;var n=BL(e);if(n!==BL(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return VL(e).isEqual(VL(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=RL(e.timestampValue),r=RL(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ML(e.bytesValue).isEqual(ML(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return OL(e.geoPointValue.latitude)===OL(t.geoPointValue.latitude)&&OL(e.geoPointValue.longitude)===OL(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return OL(e.integerValue)===OL(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=OL(e.doubleValue),r=OL(t.doubleValue);return n===r?LL(n)===LL(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return WI(e.arrayValue.values||[],t.arrayValue.values||[],WL);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(EL(n)!==EL(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!WL(n[i],r[i])))return!1;return!0}(e,t);default:return EI()}}function HL(e,t){return void 0!==(e.values||[]).find((function(e){return WL(e,t)}))}function qL(e,t){if(e===t)return 0;var n=BL(e),r=BL(t);if(n!==r)return BI(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return BI(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=OL(e.integerValue||e.doubleValue),r=OL(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return GL(e.timestampValue,t.timestampValue);case 4:return GL(VL(e),VL(t));case 5:return BI(e.stringValue,t.stringValue);case 6:return function(e,t){var n=ML(e),r=ML(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=BI(n[i],r[i]);if(0!==a)return a}return BI(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=BI(OL(e.latitude),OL(t.latitude));return 0!==n?n:BI(OL(e.longitude),OL(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=qL(n[i],r[i]);if(a)return a}return BI(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===UL.mapValue&&t===UL.mapValue)return 0;if(e===UL.mapValue)return 1;if(t===UL.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=BI(r[o],a[o]);if(0!==s)return s;var u=qL(n[r[o]],i[a[o]]);if(0!==u)return u}return BI(r.length,a.length)}(e.mapValue,t.mapValue);default:throw EI()}}function GL(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return BI(e,t);var n=RL(e),r=RL(t),i=BI(n.seconds,r.seconds);return 0!==i?i:BI(n.nanos,r.nanos)}function YL(e){return KL(e)}function KL(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=RL(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ML(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,JI.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Is(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=KL(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Is(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(KL(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):EI();var t,n}function QL(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function XL(e){return!!e&&"integerValue"in e}function JL(e){return!!e&&"arrayValue"in e}function ZL(e){return!!e&&"nullValue"in e}function $L(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function eA(e){return!!e&&"mapValue"in e}function tA(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return TL(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=tA(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=tA(e.arrayValue.values[r]);return n}return Object.assign({},e)}function nA(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function rA(e){return"nullValue"in e?zL:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?QL(SL.empty(),JI.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:EI()}function iA(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?QL(SL.empty(),JI.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?UL:EI()}function aA(e,t){var n=qL(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function oA(e,t){var n=qL(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var sA=Rs((function e(t,n){Ns(this,e),this.position=t,this.inclusive=n}));function uA(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?JI.comparator(JI.fromName(o.referenceValue),n.key):qL(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function cA(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!WL(e.position[n],t.position[n]))return!1;return!0}var lA=Rs((function e(){Ns(this,e)})),fA=function(e){Ss(n,e);var t=Ps(n);function n(e,r,i){var a;return Ns(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Rs(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(qL(t,this.value)):null!==t&&BL(this.value)===BL(t)&&this.matchesComparison(qL(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return EI()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new kA(e,t,r):"array-contains"===t?new SA(e,r):"in"===t?new EA(e,r):"not-in"===t?new TA(e,r):"array-contains-any"===t?new PA(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new CA(e,n):new wA(e,n)}}]),n}(lA),hA=function(e){Ss(n,e);var t=Ps(n);function n(e,r){var i;return Ns(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return Rs(n,[{key:"matches",value:function(e){return dA(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=Is(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(lA);function dA(e){return"and"===e.op}function mA(e){return"or"===e.op}function pA(e){return vA(e)&&dA(e)}function vA(e){var t,n=Is(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof hA)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function gA(e){if(e instanceof fA)return e.field.canonicalString()+e.op.toString()+YL(e.value);var t=e.filters.map((function(e){return gA(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function yA(e,t){return e instanceof fA?function(e,t){return t instanceof fA&&e.op===t.op&&e.field.isEqual(t.field)&&WL(e.value,t.value)}(e,t):e instanceof hA?function(e,t){return t instanceof hA&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&yA(n,t.filters[r])}),!0)}(e,t):void EI()}function _A(e,t){var n=e.filters.concat(t);return hA.create(n,e.op)}function bA(e){return e instanceof fA?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(YL(e.value))}(e):e instanceof hA?function(e){return e.op.toString()+" {"+e.getFilters().map(bA).join(" ,")+"}"}(e):"Filter"}var kA=function(e){Ss(n,e);var t=Ps(n);function n(e,r,i){var a;return Ns(this,n),(a=t.call(this,e,r,i)).key=JI.fromName(i.referenceValue),a}return Rs(n,[{key:"matches",value:function(e){var t=JI.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(fA),CA=function(e){Ss(n,e);var t=Ps(n);function n(e,r){var i;return Ns(this,n),(i=t.call(this,e,"in",r)).keys=xA("in",r),i}return Rs(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(fA),wA=function(e){Ss(n,e);var t=Ps(n);function n(e,r){var i;return Ns(this,n),(i=t.call(this,e,"not-in",r)).keys=xA("not-in",r),i}return Rs(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(fA);function xA(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return JI.fromName(e.referenceValue)}))}var SA=function(e){Ss(n,e);var t=Ps(n);function n(e,r){return Ns(this,n),t.call(this,e,"array-contains",r)}return Rs(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return JL(t)&&HL(t.arrayValue,this.value)}}]),n}(fA),EA=function(e){Ss(n,e);var t=Ps(n);function n(e,r){return Ns(this,n),t.call(this,e,"in",r)}return Rs(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&HL(this.value.arrayValue,t)}}]),n}(fA),TA=function(e){Ss(n,e);var t=Ps(n);function n(e,r){return Ns(this,n),t.call(this,e,"not-in",r)}return Rs(n,[{key:"matches",value:function(e){if(HL(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!HL(this.value.arrayValue,t)}}]),n}(fA),PA=function(e){Ss(n,e);var t=Ps(n);function n(e,r){return Ns(this,n),t.call(this,e,"array-contains-any",r)}return Rs(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!JL(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return HL(t.value.arrayValue,e)}))}}]),n}(fA),IA=Rs((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Ns(this,e),this.field=t,this.dir=n}));function LA(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var AA=function(){function e(t,n){Ns(this,e),this.comparator=t,this.root=n||DA.EMPTY}return Rs(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,DA.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,DA.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new NA(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new NA(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new NA(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new NA(this.root,e,this.comparator,!0)}}]),e}(),NA=function(){function e(t,n,r,i){Ns(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Rs(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),DA=function(){function e(t,n,r,i,a){Ns(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Rs(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw EI();if(this.right.isRed())throw EI();var e=this.left.check();if(e!==this.right.check())throw EI();return e+(this.isRed()?0:1)}}]),e}();DA.EMPTY=null,DA.RED=!0,DA.BLACK=!1,DA.EMPTY=new(function(){function e(){Ns(this,e),this.size=0}return Rs(e,[{key:"key",get:function(){throw EI()}},{key:"value",get:function(){throw EI()}},{key:"color",get:function(){throw EI()}},{key:"left",get:function(){throw EI()}},{key:"right",get:function(){throw EI()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new DA(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var RA=function(){function e(t){Ns(this,e),this.comparator=t,this.data=new AA(this.comparator)}return Rs(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new OA(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new OA(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),OA=function(){function e(t){Ns(this,e),this.iter=t}return Rs(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function MA(e){return e.hasNext()?e.getNext():void 0}var jA=function(){function e(t){Ns(this,e),this.fields=t,t.sort(XI.comparator)}return Rs(e,[{key:"unionWith",value:function(t){var n,r=new RA(XI.comparator),i=Is(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=Is(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Is(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return WI(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),FA=function(){function e(t){Ns(this,e),this.value=t}return Rs(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!eA(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tA(t)}},{key:"setAll",value:function(e){var t=this,n=XI.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=tA(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());eA(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return WL(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];eA(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){TL(t,(function(t,n){return e[t]=n}));var r,i=Is(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(tA(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function VA(e){var t=[];return TL(e.fields,(function(e,n){var r=new XI([e]);if(eA(n)){var i=VA(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Is(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new jA(t)}var UA=function(){function e(t,n,r,i,a,o,s){Ns(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return Rs(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(GI.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=FA.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=FA.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=GI.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,GI.min(),GI.min(),GI.min(),FA.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,GI.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,GI.min(),GI.min(),FA.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,GI.min(),GI.min(),FA.empty(),2)}}]),e}(),zA=Rs((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Ns(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ft=null}));function BA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new zA(e,t,n,r,i,a,o)}function WA(e){var t=PI(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return gA(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),IL(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return YL(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return YL(e)})).join(",")),t.ft=n}return t.ft}function HA(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!LA(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!yA(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!cA(e.startAt,t.startAt)&&cA(e.endAt,t.endAt)}function qA(e){return JI.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function GA(e,t){return e.filters.filter((function(e){return e instanceof fA&&e.field.isEqual(t)}))}function YA(e,t,n){var r,i=zL,a=!0,o=Is(GA(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=zL,c=!0;switch(s.op){case"<":case"<=":u=rA(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=zL}aA({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];aA({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function KA(e,t,n){var r,i=UL,a=!0,o=Is(GA(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=UL,c=!0;switch(s.op){case">=":case">":u=iA(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=UL}oA({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];oA({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var QA=Rs((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Ns(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.dt=null,this._t=null,this.startAt,this.endAt}));function XA(e,t,n,r,i,a,o,s){return new QA(e,t,n,r,i,a,o,s)}function JA(e){return new QA(e)}function ZA(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function $A(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function eN(e){var t,n=Is(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function tN(e){return null!==e.collectionGroup}function nN(e){var t=PI(e);if(null===t.dt){t.dt=[];var n=eN(t),r=$A(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new IA(n)),t.dt.push(new IA(XI.keyField(),"asc"));else{var i,a=!1,o=Is(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.dt.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new IA(XI.keyField(),u))}}}return t.dt}function rN(e){var t=PI(e);if(!t._t)if("F"===t.limitType)t._t=BA(t.path,t.collectionGroup,nN(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Is(nN(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new IA(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new sA(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new sA(t.startAt.position,t.startAt.inclusive):null;t._t=BA(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t._t}function iN(e,t){t.getFirstInequalityField(),eN(e);var n=e.filters.concat([t]);return new QA(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function aN(e,t,n){return new QA(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function oN(e,t){return HA(rN(e),rN(t))&&e.limitType===t.limitType}function sN(e){return"".concat(WA(rN(e)),"|lt:").concat(e.limitType)}function uN(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return bA(e)})).join(", "),"]")),IL(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return YL(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return YL(e)})).join(",")),"Target(".concat(t,")")}(rN(e)),"; limitType=").concat(e.limitType,")")}function cN(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):JI.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Is(nN(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Is(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=uA(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,nN(e),t))&&!(e.endAt&&!function(e,t,n){var r=uA(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,nN(e),t))}(e,t)}function lN(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function fN(e){return function(t,n){var r,i=!1,a=Is(nN(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=hN(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function hN(e,t,n){var r=e.field.isKeyField()?JI.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?qL(r,i):EI()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return EI()}}function dN(e,t){if(e.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:LL(t)?"-0":t}}function mN(e){return{integerValue:""+e}}function pN(e,t){return AL(t)?mN(t):dN(e,t)}var vN=Rs((function e(){Ns(this,e),this._=void 0}));function gN(e,t,n){return e instanceof bN?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof kN?CN(e,t):e instanceof wN?xN(e,t):function(e,t){var n=_N(e,t),r=EN(n)+EN(e.gt);return XL(n)&&XL(e.gt)?mN(r):dN(e.yt,r)}(e,t)}function yN(e,t,n){return e instanceof kN?CN(e,t):e instanceof wN?xN(e,t):n}function _N(e,t){return e instanceof SN?XL(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var bN=function(e){Ss(n,e);var t=Ps(n);function n(){return Ns(this,n),t.apply(this,arguments)}return Rs(n)}(vN),kN=function(e){Ss(n,e);var t=Ps(n);function n(e){var r;return Ns(this,n),(r=t.call(this)).elements=e,r}return Rs(n)}(vN);function CN(e,t){var n,r=TN(t),i=Is(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return WL(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var wN=function(e){Ss(n,e);var t=Ps(n);function n(e){var r;return Ns(this,n),(r=t.call(this)).elements=e,r}return Rs(n)}(vN);function xN(e,t){var n,r=TN(t),i=Is(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!WL(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var SN=function(e){Ss(n,e);var t=Ps(n);function n(e,r){var i;return Ns(this,n),(i=t.call(this)).yt=e,i.gt=r,i}return Rs(n)}(vN);function EN(e){return OL(e.integerValue||e.doubleValue)}function TN(e){return JL(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var PN=Rs((function e(t,n){Ns(this,e),this.field=t,this.transform=n}));var IN=Rs((function e(t,n){Ns(this,e),this.version=t,this.transformResults=n})),LN=function(){function e(t,n){Ns(this,e),this.updateTime=t,this.exists=n}return Rs(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function AN(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var NN=Rs((function e(){Ns(this,e)}));function DN(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new qN(e.key,LN.none()):new FN(e.key,e.data,LN.none());var n,r=e.data,i=FA.empty(),a=new RA(XI.comparator),o=Is(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new VN(e.key,i,new jA(a.toArray()),LN.none())}function RN(e,t,n){e instanceof FN?function(e,t,n){var r=e.value.clone(),i=zN(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof VN?function(e,t,n){if(AN(e.precondition,t)){var r=zN(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(UN(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ON(e,t,n,r){return e instanceof FN?function(e,t,n,r){if(!AN(e.precondition,t))return n;var i=e.value.clone(),a=BN(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof VN?function(e,t,n,r){if(!AN(e.precondition,t))return n;var i=BN(e.fieldTransforms,r,t),a=t.data;return a.setAll(UN(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return AN(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function MN(e,t){var n,r=null,i=Is(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=_N(a.transform,o||null);null!=s&&(null===r&&(r=FA.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function jN(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&WI(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof kN&&t instanceof kN||e instanceof wN&&t instanceof wN?WI(e.elements,t.elements,WL):e instanceof SN&&t instanceof SN?WL(e.gt,t.gt):e instanceof bN&&t instanceof bN}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var FN=function(e){Ss(n,e);var t=Ps(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Ns(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Rs(n,[{key:"getFieldMask",value:function(){return null}}]),n}(NN),VN=function(e){Ss(n,e);var t=Ps(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Ns(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return Rs(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(NN);function UN(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function zN(e,t,n){var r=new Map;TI(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,yN(o,s,n[i]))}return r}function BN(e,t,n){var r,i=new Map,a=Is(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,gN(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var WN,HN,qN=function(e){Ss(n,e);var t=Ps(n);function n(e,r){var i;return Ns(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Rs(n,[{key:"getFieldMask",value:function(){return null}}]),n}(NN),GN=function(e){Ss(n,e);var t=Ps(n);function n(e,r){var i;return Ns(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Rs(n,[{key:"getFieldMask",value:function(){return null}}]),n}(NN),YN=Rs((function e(t){Ns(this,e),this.count=t}));function KN(e){switch(e){default:return EI();case II.CANCELLED:case II.UNKNOWN:case II.DEADLINE_EXCEEDED:case II.RESOURCE_EXHAUSTED:case II.INTERNAL:case II.UNAVAILABLE:case II.UNAUTHENTICATED:return!1;case II.INVALID_ARGUMENT:case II.NOT_FOUND:case II.ALREADY_EXISTS:case II.PERMISSION_DENIED:case II.FAILED_PRECONDITION:case II.ABORTED:case II.OUT_OF_RANGE:case II.UNIMPLEMENTED:case II.DATA_LOSS:return!0}}function QN(e){if(void 0===e)return wI("GRPC error has no .code"),II.UNKNOWN;switch(e){case WN.OK:return II.OK;case WN.CANCELLED:return II.CANCELLED;case WN.UNKNOWN:return II.UNKNOWN;case WN.DEADLINE_EXCEEDED:return II.DEADLINE_EXCEEDED;case WN.RESOURCE_EXHAUSTED:return II.RESOURCE_EXHAUSTED;case WN.INTERNAL:return II.INTERNAL;case WN.UNAVAILABLE:return II.UNAVAILABLE;case WN.UNAUTHENTICATED:return II.UNAUTHENTICATED;case WN.INVALID_ARGUMENT:return II.INVALID_ARGUMENT;case WN.NOT_FOUND:return II.NOT_FOUND;case WN.ALREADY_EXISTS:return II.ALREADY_EXISTS;case WN.PERMISSION_DENIED:return II.PERMISSION_DENIED;case WN.FAILED_PRECONDITION:return II.FAILED_PRECONDITION;case WN.ABORTED:return II.ABORTED;case WN.OUT_OF_RANGE:return II.OUT_OF_RANGE;case WN.UNIMPLEMENTED:return II.UNIMPLEMENTED;case WN.DATA_LOSS:return II.DATA_LOSS;default:return EI()}}(HN=WN||(WN={}))[HN.OK=0]="OK",HN[HN.CANCELLED=1]="CANCELLED",HN[HN.UNKNOWN=2]="UNKNOWN",HN[HN.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",HN[HN.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",HN[HN.NOT_FOUND=5]="NOT_FOUND",HN[HN.ALREADY_EXISTS=6]="ALREADY_EXISTS",HN[HN.PERMISSION_DENIED=7]="PERMISSION_DENIED",HN[HN.UNAUTHENTICATED=16]="UNAUTHENTICATED",HN[HN.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",HN[HN.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",HN[HN.ABORTED=10]="ABORTED",HN[HN.OUT_OF_RANGE=11]="OUT_OF_RANGE",HN[HN.UNIMPLEMENTED=12]="UNIMPLEMENTED",HN[HN.INTERNAL=13]="INTERNAL",HN[HN.UNAVAILABLE=14]="UNAVAILABLE",HN[HN.DATA_LOSS=15]="DATA_LOSS";var XN=function(){function e(t,n){Ns(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Rs(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Is(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){TL(this.inner,(function(t,n){var r,i=Is(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return PL(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),JN=new AA(JI.comparator);function ZN(){return JN}var $N=new AA(JI.comparator);function eD(){for(var e=$N,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function tD(e){var t=$N;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function nD(){return iD()}function rD(){return iD()}function iD(){return new XN((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var aD=new AA(JI.comparator),oD=new RA(JI.comparator);function sD(){for(var e=oD,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var uD=new RA(BI);function cD(){return uD}var lD=function(){function e(t,n,r,i,a){Ns(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Rs(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,fD.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(GI.min(),i,cD(),ZN(),sD())}}]),e}(),fD=function(){function e(t,n,r,i,a){Ns(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Rs(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,sD(),sD(),sD())}}]),e}(),hD=Rs((function e(t,n,r,i){Ns(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i})),dD=Rs((function e(t,n){Ns(this,e),this.targetId=t,this.Et=n})),mD=Rs((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:NL.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Ns(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),pD=function(){function e(){Ns(this,e),this.At=0,this.Rt=yD(),this.bt=NL.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}return Rs(e,[{key:"current",get:function(){return this.Pt}},{key:"resumeToken",get:function(){return this.bt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.vt}},{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}},{key:"Ct",value:function(){var e=sD(),t=sD(),n=sD();return this.Rt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:EI()}})),new fD(this.bt,this.Pt,e,t,n)}},{key:"xt",value:function(){this.vt=!1,this.Rt=yD()}},{key:"Nt",value:function(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.vt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"Mt",value:function(){this.At-=1}},{key:"Ft",value:function(){this.vt=!0,this.Pt=!0}}]),e}(),vD=function(){function e(t){Ns(this,e),this.$t=t,this.Bt=new Map,this.Lt=ZN(),this.qt=gD(),this.Ut=new RA(BI)}return Rs(e,[{key:"Kt",value:function(e){var t,n=Is(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(s){n.e(s)}finally{n.f()}var i,a=Is(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Qt(o,e.key,e.Tt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"jt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Wt(n);switch(e.state){case 0:t.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||t.removeTarget(n);break;case 3:t.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:t.zt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:EI()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((function(e,r){n.zt(r)&&t(r)}))}},{key:"Jt",value:function(e){var t=e.targetId,n=e.Et.count,r=this.Yt(t);if(r){var i=r.target;if(qA(i))if(0===n){var a=new JI(i.path);this.Qt(t,a,UA.newNoDocument(a,GI.min()))}else TI(1===n);else this.Xt(t)!==n&&(this.Ht(t),this.Ut=this.Ut.add(t))}}},{key:"Zt",value:function(e){var t=this,n=new Map;this.Bt.forEach((function(r,i){var a=t.Yt(i);if(a){if(r.current&&qA(a.target)){var o=new JI(a.target.path);null!==t.Lt.get(o)||t.te(i,o)||t.Qt(i,o,UA.newNoDocument(o,e))}r.St&&(n.set(i,r.Ct()),r.xt())}}));var r=sD();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Yt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Lt.forEach((function(t,n){return n.setReadTime(e)}));var i=new lD(e,n,this.Ut,this.Lt,r);return this.Lt=ZN(),this.qt=gD(),this.Ut=new RA(BI),i}},{key:"Gt",value:function(e,t){if(this.zt(e)){var n=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.zt(e)){var r=this.Wt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt.delete(e)}},{key:"Xt",value:function(e){var t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.Wt(e).Ot()}},{key:"Wt",value:function(e){var t=this.Bt.get(e);return t||(t=new pD,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new RA(BI),this.qt=this.qt.insert(e,t)),t}},{key:"zt",value:function(e){var t=null!==this.Yt(e);return t||CI("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new pD),this.$t.getRemoteKeysForTarget(e).forEach((function(n){t.Qt(e,n,null)}))}},{key:"te",value:function(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}]),e}();function gD(){return new AA(JI.comparator)}function yD(){return new AA(JI.comparator)}var _D={asc:"ASCENDING",desc:"DESCENDING"},bD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kD={and:"AND",or:"OR"},CD=Rs((function e(t,n){Ns(this,e),this.databaseId=t,this.wt=n}));function wD(e,t){return e.wt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function xD(e,t){return e.wt?t.toBase64():t.toUint8Array()}function SD(e,t){return wD(e,t.toTimestamp())}function ED(e){return TI(!!e),GI.fromTimestamp(function(e){var t=RL(e);return new qI(t.seconds,t.nanos)}(e))}function TD(e,t){return function(e){return new KI(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function PD(e){var t=KI.fromString(e);return TI(JD(t)),t}function ID(e,t){return TD(e.databaseId,t.path)}function LD(e,t){var n=PD(t);if(n.get(1)!==e.databaseId.projectId)throw new LI(II.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new LI(II.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new JI(RD(n))}function AD(e,t){return TD(e.databaseId,t)}function ND(e){var t=PD(e);return 4===t.length?KI.emptyPath():RD(t)}function DD(e){return new KI(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function RD(e){return TI(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function OD(e,t,n){return{name:ID(e,t),fields:n.value.mapValue.fields}}function MD(e,t,n){var r=LD(e,t.name),i=ED(t.updateTime),a=t.createTime?ED(t.createTime):GI.min(),o=new FA({mapValue:{fields:t.fields}}),s=UA.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function jD(e,t){return"found"in t?function(e,t){TI(!!t.found),t.found.name,t.found.updateTime;var n=LD(e,t.found.name),r=ED(t.found.updateTime),i=t.found.createTime?ED(t.found.createTime):GI.min(),a=new FA({mapValue:{fields:t.found.fields}});return UA.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){TI(!!t.missing),TI(!!t.readTime);var n=LD(e,t.missing),r=ED(t.readTime);return UA.newNoDocument(n,r)}(e,t):EI()}function FD(e,t){var n;if(t instanceof FN)n={update:OD(e,t.key,t.value)};else if(t instanceof qN)n={delete:ID(e,t.key)};else if(t instanceof VN)n={update:OD(e,t.key,t.data),updateMask:XD(t.fieldMask)};else{if(!(t instanceof GN))return EI();n={verify:ID(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof bN)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof kN)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof wN)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof SN)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw EI()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:SD(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:EI()}(e,t.precondition)),n}function VD(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?LN.updateTime(ED(e.updateTime)):void 0!==e.exists?LN.exists(e.exists):LN.none()}(t.currentDocument):LN.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)TI("REQUEST_TIME"===t.setToServerValue),n=new bN;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new kN(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new wN(i)}else"increment"in t?n=new SN(e,t.increment):EI();var a=XI.fromServerFormat(t.fieldPath);return new PN(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=LD(e,t.update.name),a=new FA({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new jA(t.map((function(e){return XI.fromServerFormat(e)})))}(t.updateMask);return new VN(i,a,o,n,r)}return new FN(i,a,n,r)}if(t.delete){var s=LD(e,t.delete);return new qN(s,n)}if(t.verify){var u=LD(e,t.verify);return new GN(u,n)}return EI()}function UD(e,t){return{documents:[AD(e,t.path)]}}function zD(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=AD(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=AD(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return QD(hA.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:YD(e.field),direction:HD(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.wt||IL(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function BD(e){var t=ND(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){TI(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=WD(e);return t instanceof hA&&pA(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new IA(KD(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return IL(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new sA(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new sA(n,t)}(n.endAt)),XA(t,i,s,o,u,"F",c,l)}function WD(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=KD(e.unaryFilter.field);return fA.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=KD(e.unaryFilter.field);return fA.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=KD(e.unaryFilter.field);return fA.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=KD(e.unaryFilter.field);return fA.create(i,"!=",{nullValue:"NULL_VALUE"});default:return EI()}}(e):void 0!==e.fieldFilter?function(e){return fA.create(KD(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return EI()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return hA.create(e.compositeFilter.filters.map((function(e){return WD(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return EI()}}(e.compositeFilter.op))}(e):EI()}function HD(e){return _D[e]}function qD(e){return bD[e]}function GD(e){return kD[e]}function YD(e){return{fieldPath:e.canonicalString()}}function KD(e){return XI.fromServerFormat(e.fieldPath)}function QD(e){return e instanceof fA?function(e){if("=="===e.op){if($L(e.value))return{unaryFilter:{field:YD(e.field),op:"IS_NAN"}};if(ZL(e.value))return{unaryFilter:{field:YD(e.field),op:"IS_NULL"}}}else if("!="===e.op){if($L(e.value))return{unaryFilter:{field:YD(e.field),op:"IS_NOT_NAN"}};if(ZL(e.value))return{unaryFilter:{field:YD(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:YD(e.field),op:qD(e.op),value:e.value}}}(e):e instanceof hA?function(e){var t=e.getFilters().map((function(e){return QD(e)}));return 1===t.length?t[0]:{compositeFilter:{op:GD(e.op),filters:t}}}(e):EI()}function XD(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function JD(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function ZD(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=eR(t)),t=$D(e.get(n),t);return eR(t)}function $D(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function eR(e){return e+"\x01\x01"}function tR(e){var t=e.length;if(TI(t>=2),2===t)return TI("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),KI.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&EI(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:EI()}a=o+2}return new KI(r)}var nR=["userId","batchId"];function rR(e,t){return[e,ZD(t)]}function iR(e,t,n){return[e,ZD(t),n]}var aR={},oR=["prefixPath","collectionGroup","readTime","documentId"],sR=["prefixPath","collectionGroup","documentId"],uR=["collectionGroup","readTime","prefixPath","documentId"],cR=["canonicalId","targetId"],lR=["targetId","path"],fR=["path","targetId"],hR=["collectionId","parent"],dR=["indexId","uid"],mR=["uid","sequenceNumber"],pR=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],vR=["indexId","uid","orderedDocumentKey"],gR=["userId","collectionPath","documentId"],yR=["userId","collectionPath","largestBatchId"],_R=["userId","collectionGroup","largestBatchId"],bR=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),kR=[].concat(As(bR),["documentOverlays"]),CR=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],wR=CR,xR=[].concat(wR,["indexConfiguration","indexState","indexEntries"]),SR=function(e){Ss(n,e);var t=Ps(n);function n(e,r){var i;return Ns(this,n),(i=t.call(this)).se=e,i.currentSequenceNumber=r,i}return Rs(n)}(uL);function ER(e,t){var n=PI(e);return dL.M(n.se,t)}var TR=function(){function e(t,n,r,i){Ns(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Rs(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&RN(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Is(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=ON(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=Is(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=ON(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=rD();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=DN(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(GI.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),sD())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&WI(this.mutations,e.mutations,(function(e,t){return jN(e,t)}))&&WI(this.baseMutations,e.baseMutations,(function(e,t){return jN(e,t)}))}}]),e}(),PR=function(){function e(t,n,r,i){Ns(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Rs(e,null,[{key:"from",value:function(t,n,r){TI(t.mutations.length===r.length);for(var i=aD,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),IR=function(){function e(t,n){Ns(this,e),this.largestBatchId=t,this.mutation=n}return Rs(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),LR=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:GI.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:GI.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:NL.EMPTY_BYTE_STRING;Ns(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return Rs(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),AR=Rs((function e(t){Ns(this,e),this.ie=t}));function NR(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:DR(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:ID(e,t.key),fields:t.data.value.mapValue.fields,updateTime:wD(e,t.version.toTimestamp()),createTime:wD(e,t.createTime.toTimestamp())}}(e.ie,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:RR(t.version)};else{if(!t.isUnknownDocument())return EI();r.unknownDocument={path:n.path.toArray(),version:RR(t.version)}}return r}function DR(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function RR(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function OR(e){var t=new qI(e.seconds,e.nanoseconds);return GI.fromTimestamp(t)}function MR(e,t){for(var n=(t.baseMutations||[]).map((function(t){return VD(e.ie,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return VD(e.ie,t)})),s=qI.fromMillis(t.localWriteTimeMs);return new TR(t.batchId,s,n,o)}function jR(e){var t,n,r=OR(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?OR(e.lastLimboFreeSnapshotVersion):GI.min();return void 0!==e.query.documents?(TI(1===(n=e.query).documents.length),t=rN(JA(ND(n.documents[0])))):t=function(e){return rN(BD(e))}(e.query),new LR(t,e.targetId,0,e.lastListenSequenceNumber,r,i,NL.fromBase64String(e.resumeToken))}function FR(e,t){var n,r=RR(t.snapshotVersion),i=RR(t.lastLimboFreeSnapshotVersion);n=qA(t.target)?UD(e.ie,t.target):zD(e.ie,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:WA(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function VR(e){var t=BD({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?aN(t,t.limit,"L"):t}function UR(e,t){return new IR(t.largestBatchId,VD(e.ie,t.overlayMutation))}function zR(e,t){var n=t.path.lastSegment();return[e,ZD(t.path.popLast()),n]}function BR(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:RR(r.readTime),documentKey:ZD(r.documentKey.path),largestBatchId:r.largestBatchId}}var WR=function(){function e(){Ns(this,e)}return Rs(e,[{key:"getBundleMetadata",value:function(e,t){return HR(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:OR(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return HR(e).put({bundleId:(n=t).id,createTime:RR(ED(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return qR(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:VR(t.bundledQuery),readTime:OR(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return qR(e).put(function(e){return{name:e.name,readTime:RR(ED(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function HR(e){return ER(e,"bundles")}function qR(e){return ER(e,"namedQueries")}var GR=function(){function e(t,n){Ns(this,e),this.yt=t,this.userId=n}return Rs(e,[{key:"getOverlay",value:function(e,t){var n=this;return YR(e).get(zR(this.userId,t)).next((function(e){return e?UR(n.yt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=nD();return fL.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new IR(t,a);i.push(r.oe(e,o))})),fL.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(ZD(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(YR(e).Y("collectionPathOverlayIndex",i))})),fL.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=nD(),a=ZD(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return YR(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=Is(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=UR(r.yt,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=nD(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return YR(e).Z({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=UR(a.yt,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"oe",value:function(e,t){return YR(e).put(function(e,t,n){var r=c(zR(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:FD(e.ie,n.mutation)}}(this.yt,this.userId,t))}}],[{key:"re",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function YR(e){return ER(e,"documentOverlays")}var KR=function(){function e(){Ns(this,e)}return Rs(e,[{key:"ue",value:function(e,t){this.ce(e,t),t.ae()}},{key:"ce",value:function(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(OL(e.integerValue));else if("doubleValue"in e){var n=OL(e.doubleValue);isNaN(n)?this.he(t,13):(this.he(t,15),LL(n)?t.le(0):t.le(n))}else if("timestampValue"in e){var r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe("".concat(r.seconds||"")),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(ML(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.he(t,45),t.le(i.latitude||0),t.le(i.longitude||0)}else"mapValue"in e?nA(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):EI()}},{key:"de",value:function(e,t){this.he(t,25),this.pe(e,t)}},{key:"pe",value:function(e,t){t.fe(e)}},{key:"ge",value:function(e,t){var n=e.fields||{};this.he(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.de(a,t),this.ce(n[a],t)}}},{key:"ye",value:function(e,t){var n=e.values||[];this.he(t,50);var r,i=Is(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ce(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"me",value:function(e,t){var n=this;this.he(t,37),JI.fromName(e).path.forEach((function(e){n.he(t,60),n.pe(e,t)}))}},{key:"he",value:function(e,t){e.le(t)}},{key:"_e",value:function(e){e.le(2)}}]),e}();function QR(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function XR(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=QR(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}KR.Ie=new KR;var JR=function(){function e(){Ns(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Rs(e,[{key:"Te",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ee(n.value),n=t.next();this.Ae()}},{key:"Re",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.be(n.value),n=t.next();this.Pe()}},{key:"ve",value:function(e){var t,n=Is(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{var a=r.codePointAt(0);this.Ee(240|a>>>18),this.Ee(128|63&a>>>12),this.Ee(128|63&a>>>6),this.Ee(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ae()}},{key:"Ve",value:function(e){var t,n=Is(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{var a=r.codePointAt(0);this.be(240|a>>>18),this.be(128|63&a>>>12),this.be(128|63&a>>>6),this.be(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Pe()}},{key:"Se",value:function(e){var t=this.De(e),n=XR(t);this.Ce(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"xe",value:function(e){var t=this.De(e),n=XR(t);this.Ce(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"Oe",value:function(){this.Me(255),this.Me(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Fe",value:function(){return this.buffer.slice(0,this.position)}},{key:"De",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ee",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}},{key:"be",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}},{key:"Ae",value:function(){this.ke(0),this.ke(1)}},{key:"Pe",value:function(){this.Me(0),this.Me(1)}},{key:"ke",value:function(e){this.Ce(1),this.buffer[this.position++]=e}},{key:"Me",value:function(e){this.Ce(1),this.buffer[this.position++]=~e}},{key:"Ce",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),ZR=function(){function e(t){Ns(this,e),this.$e=t}return Rs(e,[{key:"we",value:function(e){this.$e.Te(e)}},{key:"fe",value:function(e){this.$e.ve(e)}},{key:"le",value:function(e){this.$e.Se(e)}},{key:"ae",value:function(){this.$e.Ne()}}]),e}(),$R=function(){function e(t){Ns(this,e),this.$e=t}return Rs(e,[{key:"we",value:function(e){this.$e.Re(e)}},{key:"fe",value:function(e){this.$e.Ve(e)}},{key:"le",value:function(e){this.$e.xe(e)}},{key:"ae",value:function(){this.$e.Oe()}}]),e}(),eO=function(){function e(){Ns(this,e),this.$e=new JR,this.Be=new ZR(this.$e),this.Le=new $R(this.$e)}return Rs(e,[{key:"seed",value:function(e){this.$e.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Be:this.Le}},{key:"Fe",value:function(){return this.$e.Fe()}},{key:"reset",value:function(){this.$e.reset()}}]),e}(),tO=function(){function e(t,n,r,i){Ns(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Rs(e,[{key:"Ue",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function nO(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=rO(e.arrayValue,t.arrayValue))?n:0!==(n=rO(e.directionalValue,t.directionalValue))?n:JI.comparator(e.documentKey,t.documentKey)}function rO(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var iO=function(){function e(t){Ns(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ke=t.orderBy,this.Ge=[];var n,r=Is(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Qe=i:this.Ge.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Rs(e,[{key:"je",value:function(e){TI(e.collectionGroup===this.collectionId);var t=$I(e);if(void 0!==t&&!this.We(t))return!1;for(var n=eL(e),r=0,i=0;r<n.length&&this.We(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Qe){var a=n[r];if(!this.ze(this.Qe,a)||!this.He(this.Ke[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ke.length||!this.He(this.Ke[i++],o))return!1}return!0}},{key:"We",value:function(e){var t,n=Is(this.Ge);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.ze(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"ze",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"He",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function aO(e){var t,n;if(TI(e instanceof fA||e instanceof hA),e instanceof fA){if(e instanceof EA){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return fA.create(e.field,"==",t)})))||[];return hA.create(r,"or")}return e}var i=e.filters.map((function(e){return aO(e)}));return hA.create(i,e.op)}function oO(e){if(0===e.getFilters().length)return[];var t=lO(aO(e));return TI(cO(t)),sO(t)||uO(t)?[t]:t.getFilters()}function sO(e){return e instanceof fA}function uO(e){return e instanceof hA&&pA(e)}function cO(e){return sO(e)||uO(e)||function(e){if(e instanceof hA&&mA(e)){var t,n=Is(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!sO(r)&&!uO(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function lO(e){if(TI(e instanceof fA||e instanceof hA),e instanceof fA)return e;if(1===e.filters.length)return lO(e.filters[0]);var t=e.filters.map((function(e){return lO(e)})),n=hA.create(t,e.op);return cO(n=dO(n))?n:(TI(n instanceof hA),TI(dA(n)),TI(n.filters.length>1),n.filters.reduce((function(e,t){return fO(e,t)})))}function fO(e,t){var n;return TI(e instanceof fA||e instanceof hA),TI(t instanceof fA||t instanceof hA),n=e instanceof fA?t instanceof fA?function(e,t){return hA.create([e,t],"and")}(e,t):hO(e,t):t instanceof fA?hO(t,e):function(e,t){if(TI(e.filters.length>0&&t.filters.length>0),dA(e)&&dA(t))return _A(e,t.getFilters());var n=mA(e)?e:t,r=mA(e)?t:e,i=n.filters.map((function(e){return fO(e,r)}));return hA.create(i,"or")}(e,t),dO(n)}function hO(e,t){if(dA(t))return _A(t,e.getFilters());var n=t.filters.map((function(t){return fO(e,t)}));return hA.create(n,"or")}function dO(e){if(TI(e instanceof fA||e instanceof hA),e instanceof fA)return e;var t=e.getFilters();if(1===t.length)return dO(t[0]);if(vA(e))return e;var n=t.map((function(e){return dO(e)})),r=[];return n.forEach((function(t){t instanceof fA?r.push(t):t instanceof hA&&(t.op===e.op?r.push.apply(r,As(t.filters)):r.push(t))})),1===r.length?r[0]:hA.create(r,e.op)}var mO=function(){function e(){Ns(this,e),this.Je=new pO}return Rs(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Je.add(t),fL.resolve()}},{key:"getCollectionParents",value:function(e,t){return fL.resolve(this.Je.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return fL.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return fL.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return fL.resolve(null)}},{key:"getIndexType",value:function(e,t){return fL.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return fL.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return fL.resolve(null)}},{key:"getMinOffset",value:function(e,t){return fL.resolve(aL.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return fL.resolve(aL.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return fL.resolve()}},{key:"updateIndexEntries",value:function(e,t){return fL.resolve()}}]),e}(),pO=function(){function e(){Ns(this,e),this.index={}}return Rs(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new RA(KI.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new RA(KI.comparator)).toArray()}}]),e}(),vO=new Uint8Array(0),gO=function(){function e(t,n){Ns(this,e),this.user=t,this.databaseId=n,this.Ye=new pO,this.Xe=new XN((function(e){return WA(e)}),(function(e,t){return HA(e,t)})),this.uid=t.uid||""}return Rs(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ye.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ye.add(t)}));var a={collectionId:r,parent:ZD(i)};return yO(e).put(a)}return fL.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[HI(t),""],!1,!0);return yO(e).W(r).next((function(e){var r,i=Is(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(tR(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=bO(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=kO(e);return a.next((function(e){o.put(BR(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=bO(e),r=kO(e),i=_O(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=_O(e),i=!0,a=new Map;return fL.forEach(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=sD(),o=[];return fL.forEach(a,(function(i,a){var s;CI("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(WA(t)));var u=function(e,t){var n=$I(t);if(void 0===n)return null;var r,i=Is(GA(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Is(eL(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=Is(GA(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Is(eL(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?YA(e,o.fieldPath,e.startAt):KA(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new sA(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Is(eL(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?KA(e,o.fieldPath,e.endAt):YA(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new sA(r,i)}(a,i),h=n.en(i,a,l),d=n.en(i,a,f),m=n.nn(i,a,c),p=n.sn(i.indexId,u,h,l.inclusive,d,f.inclusive,m);return fL.forEach(p,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=JI.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return fL.resolve(null)}))}},{key:"Ze",value:function(e){var t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:oO(hA.create(e.filters,"and")).map((function(t){return BA(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.Xe.set(e,t),t)}},{key:"sn",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],f=function(u){var f=t?s.rn(t[u/c]):vO,h=s.on(e,f,n[u%c],r),d=s.un(e,f,i[u%c],a),m=o.map((function(t){return s.on(e,f,t,!0)}));l.push.apply(l,As(s.createRange(h,d,m)))},h=0;h<u;++h)f(h);return l}},{key:"on",value:function(e,t,n,r){var i=new tO(e,JI.empty(),t,n);return r?i:i.Ue()}},{key:"un",value:function(e,t,n,r){var i=new tO(e,JI.empty(),t,n);return r?i.Ue():i}},{key:"tn",value:function(e,t){var n=new iO(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Is(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.je(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.Ze(t);return fL.forEach(i,(function(t){return n.tn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new RA(XI.comparator),r=!1,i=Is(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=Is(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var u,c=Is(e.orderBy);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"cn",value:function(e,t){var n,r=new eO,i=Is(eL(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.qe(a.kind);KR.Ie.ue(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Fe()}},{key:"rn",value:function(e){var t=new eO;return KR.Ie.ue(e,t.qe(0)),t.Fe()}},{key:"an",value:function(e,t){var n=new eO;return KR.Ie.ue(QL(this.databaseId,t),n.qe(function(e){var t=eL(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Fe()}},{key:"nn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new eO);var i,a=0,o=Is(eL(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=Is(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.hn(t,u.fieldPath)&&JL(c))r=this.ln(r,u,c);else{var h=f.qe(u.kind);KR.Ie.ue(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.fn(r)}},{key:"en",value:function(e,t,n){return this.nn(e,t,n.position)}},{key:"fn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Fe();return t}},{key:"ln",value:function(e,t,n){var r,i=As(e),a=[],o=Is(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=Is(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=new eO;f.seed(l.Fe()),KR.Ie.ue(u,f.qe(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"hn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof fA&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=bO(e),i=kO(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return fL.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new nL(t.sequenceNumber,new aL(OR(t.readTime),new JI(tR(t.documentKey)),t.largestBatchId)):nL.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new tL(XI.fromServerFormat(n),r)}));return new ZI(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:BI(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=bO(e),a=kO(e);return this.dn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return fL.forEach(t,(function(t){return a.put(BR(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return fL.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?fL.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),fL.forEach(a,(function(r){return n._n(e,t,r).next((function(t){var a=n.wn(i,r);return t.isEqual(a)?fL.resolve():n.mn(e,i,r,t,a)}))}))}))}))}},{key:"gn",value:function(e,t,n,r){return _O(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(n,t.key),documentKey:t.key.path.toArray()})}},{key:"yn",value:function(e,t,n,r){return _O(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(n,t.key),t.key.path.toArray()])}},{key:"_n",value:function(e,t,n){var r=_O(e),i=new RA(nO);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.an(n,t)])},(function(e,r){i=i.add(new tO(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"wn",value:function(e,t){var n=new RA(nO),r=this.cn(t,e);if(null==r)return n;var i=$I(t);if(null!=i){var a=e.data.field(i.fieldPath);if(JL(a)){var o,s=Is(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new tO(t.indexId,e.key,this.rn(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new tO(t.indexId,e.key,vO,r));return n}},{key:"mn",value:function(e,t,n,r,i){var a=this;CI("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=MA(a),u=MA(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=MA(o)):l?(i(s),s=MA(a)):(s=MA(a),u=MA(o))}}(r,i,nO,(function(r){o.push(a.gn(e,t,n,r))}),(function(r){o.push(a.yn(e,t,n,r))})),fL.waitFor(o)}},{key:"dn",value:function(e){var t=1;return kO(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return nO(e,t)})).filter((function(e,t,n){return!t||0!==nO(e,n[t-1])}));var r=[];r.push(e);var i,a=Is(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=nO(o,e),u=nO(o,t);if(0===s)r[0]=e.Ue();else if(s>0&&u<0)r.push(o),r.push(o.Ue());else if(u>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.pn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,vO,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,vO,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"pn",value:function(e,t){return nO(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(CO)}},{key:"getMinOffset",value:function(e,t){var n=this;return fL.mapArray(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){return e||EI()}))})).next(CO)}}]),e}();function yO(e){return ER(e,"collectionParents")}function _O(e){return ER(e,"indexEntries")}function bO(e){return ER(e,"indexConfiguration")}function kO(e){return ER(e,"indexState")}function CO(e){TI(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;oL(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new aL(t.readTime,t.documentKey,n)}var wO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xO=function(){function e(t,n,r){Ns(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Rs(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function SO(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.Z({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){TI(1===s)})));var c,l=[],f=Is(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=iR(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(m){f.e(m)}finally{f.f()}return fL.waitFor(a).next((function(){return l}))}function EO(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw EI();t=e.noDocument}return JSON.stringify(t).length}xO.DEFAULT_COLLECTION_PERCENTILE=10,xO.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xO.DEFAULT=new xO(41943040,xO.DEFAULT_COLLECTION_PERCENTILE,xO.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xO.DISABLED=new xO(-1,0,0);var TO=function(){function e(t,n,r,i){Ns(this,e),this.userId=t,this.yt=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return Rs(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return IO(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=LO(e),o=IO(e);return o.add({}).next((function(s){TI("number"==typeof s);var u,c=new TR(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return FD(e.ie,t)})),i=n.mutations.map((function(t){return FD(e.ie,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.yt,i.userId,c),f=[],h=new RA((function(e,t){return BI(e.canonicalString(),t.canonicalString())})),d=Is(r);try{for(d.s();!(u=d.n()).done;){var m=u.value,p=iR(i.userId,m.key.path,s);h=h.add(m.key.path.popLast()),f.push(o.put(l)),f.push(a.put(p,aR))}}catch(v){d.e(v)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[s]=c.keys()})),fL.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return IO(e).get(t).next((function(e){return e?(TI(e.userId===n.userId),MR(n.yt,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?fL.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return IO(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(TI(t.batchId>=r),a=MR(n.yt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return IO(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return IO(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return MR(t.yt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=rR(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return LO(e).Z({range:i},(function(r,i,o){var s=c(r,3),u=s[0],l=s[1],f=s[2],h=tR(l);if(u===n.userId&&t.path.isEqual(h))return IO(e).get(f).next((function(e){if(!e)throw EI();TI(e.userId===n.userId),a.push(MR(n.yt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new RA(BI),i=[];return t.forEach((function(t){var a=rR(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=LO(e).Z({range:o},(function(e,i,a){var o=c(e,3),s=o[0],u=o[1],l=o[2],f=tR(u);s===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(s)})),fL.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=rR(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new RA(BI);return LO(e).Z({range:o},(function(e,t,a){var o=c(e,3),u=o[0],l=o[1],f=o[2],h=tR(l);u===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.En(e,s)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(IO(e).get(t).next((function(e){if(null===e)throw EI();TI(e.userId===n.userId),r.push(MR(n.yt,e))})))})),fL.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return SO(e.se,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),fL.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return fL.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return LO(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=tR(e[1]);i.push(a)}else r.done()})).next((function(){TI(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return PO(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return AO(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"re",value:function(t,n,r,i){return TI(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function PO(e,t,n){var r=rR(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return LO(e).Z({range:a,X:!0},(function(e,n,r){var a=c(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function IO(e){return ER(e,"mutations")}function LO(e){return ER(e,"documentMutations")}function AO(e){return ER(e,"mutationQueues")}var NO=function(){function e(t){Ns(this,e),this.bn=t}return Rs(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),DO=function(){function e(t,n){Ns(this,e),this.referenceDelegate=t,this.yt=n}return Rs(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new NO(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return GI.fromTimestamp(new qI(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return RO(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return TI(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return RO(e).Z((function(o,s){var u=jR(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return fL.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return RO(e).Z((function(e,n){var r=jR(n);t(r)}))}},{key:"Vn",value:function(e){return OO(e).get("targetGlobalKey").next((function(e){return TI(null!==e),e}))}},{key:"Sn",value:function(e,t){return OO(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return RO(e).put(FR(this.yt,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=WA(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return RO(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=jR(n);HA(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=MO(e);return t.forEach((function(t){var o=ZD(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),fL.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=MO(e);return fL.forEach(t,(function(t){var a=ZD(t.path);return fL.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=MO(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=MO(e),i=sD();return r.Z({range:n,X:!0},(function(e,t,n){var r=tR(e[1]),a=new JI(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=ZD(t.path),r=IDBKeyRange.bound([n],[HI(n)],!1,!0),i=0;return MO(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ne",value:function(e,t){return RO(e).get(t).next((function(e){return e?jR(e):null}))}}]),e}();function RO(e){return ER(e,"targets")}function OO(e){return ER(e,"targetGlobal")}function MO(e){return ER(e,"targetDocuments")}function jO(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],s=a[1],u=BI(r,o);return 0===u?BI(i,s):u}var FO=function(){function e(t){Ns(this,e),this.xn=t,this.buffer=new RA(jO),this.Nn=0}return Rs(e,[{key:"kn",value:function(){return++this.Nn}},{key:"On",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();jO(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),VO=function(){function e(t,n,r){Ns(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Mn=null}return Rs(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}},{key:"started",get:function(){return null!==this.Mn}},{key:"Fn",value:function(e){var t=this;CI("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Lv(Pv().mark((function e(){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Mn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!vL(e.t0)){e.next=12;break}CI("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,cL(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),UO=function(){function e(t,n){Ns(this,e),this.$n=t,this.params=n}return Rs(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return fL.resolve(wL.at);var r=new FO(t);return this.$n.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(CI("LruGarbageCollector","Garbage collection skipped; disabled"),fL.resolve(wO)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(CI("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),wO):n.qn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"qn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(CI("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),kI()<=Ov.DEBUG&&CI("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),fL.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),zO=function(){function e(t,n){Ns(this,e),this.db=t,this.garbageCollector=function(e,t){return new UO(e,t)}(this,n)}return Rs(e,[{key:"Bn",value:function(e){var t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Un",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return BO(e,n)}},{key:"removeReference",value:function(e,t,n){return BO(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return BO(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return AO(e).tt((function(r){return PO(e,r,t).next((function(e){return e&&(n=!0),fL.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,s){if(s<=t){var u=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,GI.min()),MO(e).delete([0,ZD(o.path)])}))}));i.push(u)}})).next((function(){return fL.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return BO(e,t)}},{key:"Kn",value:function(e,t){var n,r=MO(e),i=wL.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==wL.at&&t(new JI(tR(n)),i),i=u,n=s):i=wL.at})).next((function(){i!==wL.at&&t(new JI(tR(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function BO(e,t){return MO(e).put(function(e,t){return{targetId:0,path:ZD(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var WO=function(){function e(){Ns(this,e),this.changes=new XN((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Rs(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,UA.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?fL.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),HO=function(){function e(t){Ns(this,e),this.yt=t}return Rs(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return KO(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return KO(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],DR(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=UA.newInvalidDocument(t);return KO(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(QO(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:UA.newInvalidDocument(t)};return KO(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(QO(t))},(function(e,i){r={document:n.jn(t,i),size:EO(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=ZN();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=ZN(),i=new AA(JI.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,EO(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return fL.resolve();var r=new RA(JO);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(QO(r.first()),QO(r.last())),a=r.getIterator(),o=a.getNext();return KO(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=JI.fromSegments([].concat(As(t.prefixPath),[t.collectionGroup,t.documentId]));o&&JO(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(QO(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),DR(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return KO(e).W(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=ZN(),i=Is(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.jn(JI.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(s){i.e(s)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=ZN(),o=XO(t,n),s=XO(t,aL.max());return KO(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.jn(JI.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new GO(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return YO(e).get("remoteDocumentGlobalKey").next((function(e){return TI(!!e),e}))}},{key:"Qn",value:function(e,t){return YO(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=MD(e.ie,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=JI.fromSegments(t.noDocument.path),i=OR(t.noDocument.readTime);n=UA.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return EI();var a=JI.fromSegments(t.unknownDocument.path),o=OR(t.unknownDocument.version);n=UA.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new qI(e[0],e[1]);return GI.fromTimestamp(t)}(t.readTime)),n}(this.yt,t);if(!n.isNoDocument()||!n.version.isEqual(GI.min()))return n}return UA.newInvalidDocument(e)}}]),e}();function qO(e){return new HO(e)}var GO=function(e){Ss(n,e);var t=Ps(n);function n(e,r){var i;return Ns(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new XN((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Rs(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new RA((function(e,t){return BI(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=NR(t.Yn.yt,o);i=i.add(a.path.popLast());var c=EO(u);r+=c-s.size,n.push(t.Yn.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=NR(t.Yn.yt,o.convertToNoDocument(GI.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),fL.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(WO);function YO(e){return ER(e,"remoteDocumentGlobal")}function KO(e){return ER(e,"remoteDocumentsV14")}function QO(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function XO(e,t){var n=t.documentKey.path.toArray();return[e,DR(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function JO(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=BI(n[a],r[a]))return i;return(i=BI(n.length,r.length))||((i=BI(n[n.length-2],r[r.length-2]))||BI(n[n.length-1],r[r.length-1]))}var ZO=Rs((function e(t,n){Ns(this,e),this.overlayedDocument=t,this.mutatedFields=n})),$O=function(){function e(t,n,r,i){Ns(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Rs(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&ON(r.mutation,e,jA.empty(),qI.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,sD()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sD(),i=nD();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=eD();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=nD();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,sD())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=ZN(),a=iD(),o=iD();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof VN)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),ON(o.mutation,t,o.mutation.getFieldMask(),qI.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new ZO(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=iD(),i=new AA((function(e,t){return e-t})),a=sD();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Is(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||jA.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||sD()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=rD();c.forEach((function(e){if(!a.has(e)){var n=DN(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return fL.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return JI.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):tN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):fL.resolve(nD()),s=-1,u=a;return o.next((function(t){return fL.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?fL.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,sD())})).next((function(e){return{batchId:s,changes:tD(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new JI(t)).next((function(e){var t=eD();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=eD();return this.indexManager.getCollectionParents(e,i).next((function(o){return fL.forEach(o,(function(o){var s=function(e,t){return new QA(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,UA.newInvalidDocument(n)))}));var n=eD();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&ON(a.mutation,i,jA.empty(),qI.now()),cN(t,i)&&(n=n.insert(r,i))})),n}))}}]),e}(),eM=function(){function e(t){Ns(this,e),this.yt=t,this.Zn=new Map,this.ts=new Map}return Rs(e,[{key:"getBundleMetadata",value:function(e,t){return fL.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:ED(n.createTime)}),fL.resolve()}},{key:"getNamedQuery",value:function(e,t){return fL.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:VR(e.bundledQuery),readTime:ED(e.readTime)}}(t)),fL.resolve()}}]),e}(),tM=function(){function e(){Ns(this,e),this.overlays=new AA(JI.comparator),this.es=new Map}return Rs(e,[{key:"getOverlay",value:function(e,t){return fL.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=nD();return fL.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.oe(e,t,i)})),fL.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),fL.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=nD(),i=t.length+1,a=new JI(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return fL.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new AA((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=nD(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=nD(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return fL.resolve(u)}},{key:"oe",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new IR(t,n));var a=this.es.get(t);void 0===a&&(a=sD(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),nM=function(){function e(){Ns(this,e),this.ns=new RA(rM.ss),this.rs=new RA(rM.os)}return Rs(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new rM(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new rM(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new JI(new KI([])),r=new rM(n,e),i=new rM(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new JI(new KI([])),n=new rM(t,e),r=new rM(t,e+1),i=sD();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new rM(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),rM=function(){function e(t,n){Ns(this,e),this.key=t,this._s=n}return Rs(e,null,[{key:"ss",value:function(e,t){return JI.comparator(e.key,t.key)||BI(e._s,t._s)}},{key:"os",value:function(e,t){return BI(e._s,t._s)||JI.comparator(e.key,t.key)}}]),e}(),iM=function(){function e(t,n){Ns(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new RA(rM.ss)}return Rs(e,[{key:"checkEmpty",value:function(e){return fL.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new TR(i,t,n,r);this.mutationQueue.push(a);var o,s=Is(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.gs=this.gs.add(new rM(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return fL.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return fL.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return fL.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return fL.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return fL.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new rM(t,0),i=new rM(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),fL.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new RA(BI);return t.forEach((function(e){var t=new rM(e,0),i=new rM(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),fL.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;JI.isDocumentKey(i)||(i=i.child(""));var a=new rM(new JI(i),0),o=new RA(BI);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),fL.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;TI(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return fL.forEach(t.mutations,(function(i){var a=new rM(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new rM(t,0),r=this.gs.firstAfterOrEqual(n);return fL.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,fL.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),aM=function(){function e(t){Ns(this,e),this.Es=t,this.docs=new AA(JI.comparator),this.size=0}return Rs(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return fL.resolve(n?n.document.mutableCopy():UA.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=ZN();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():UA.newInvalidDocument(e))})),fL.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=ZN(),i=new JI(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||oL(iL(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return fL.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){EI()}},{key:"As",value:function(e,t){return fL.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new oM(this)}},{key:"getSize",value:function(e){return fL.resolve(this.size)}}]),e}(),oM=function(e){Ss(n,e);var t=Ps(n);function n(e){var r;return Ns(this,n),(r=t.call(this)).Yn=e,r}return Rs(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),fL.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(WO),sM=function(){function e(t){Ns(this,e),this.persistence=t,this.Rs=new XN((function(e){return WA(e)}),HA),this.lastRemoteSnapshotVersion=GI.min(),this.highestTargetId=0,this.bs=0,this.Ps=new nM,this.targetCount=0,this.vs=NO.Pn()}return Rs(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),fL.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return fL.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return fL.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),fL.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),fL.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new NO(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,fL.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),fL.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,fL.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),fL.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return fL.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return fL.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),fL.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),fL.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),fL.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return fL.resolve(n)}},{key:"containsKey",value:function(e,t){return fL.resolve(this.Ps.containsKey(t))}}]),e}(),uM=function(){function e(t,n){var r=this;Ns(this,e),this.Vs={},this.overlays={},this.Ss=new wL(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new sM(this),this.indexManager=new mO,this.remoteDocumentCache=new aM((function(e){return r.referenceDelegate.xs(e)})),this.yt=new AR(n),this.Ns=new eM(this.yt)}return Rs(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new tM,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new iM(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;CI("MemoryPersistence","Starting transaction:",e);var i=new cM(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return fL.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),cM=function(e){Ss(n,e);var t=Ps(n);function n(e){var r;return Ns(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Rs(n)}(uL),lM=function(){function e(t){Ns(this,e),this.persistence=t,this.Fs=new nM,this.$s=null}return Rs(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw EI()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),fL.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),fL.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),fL.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fL.forEach(this.Ls,(function(r){var i=JI.fromPath(r);return t.qs(e,i).next((function(e){e||n.removeEntry(i,GI.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.qs(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"qs",value:function(e,t){var n=this;return fL.or([function(){return fL.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),fM=function(){function e(t){Ns(this,e),this.yt=t}return Rs(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new hL("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",nR,{unique:!0}),e.createObjectStore("documentMutations")}(e),hM(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=fL.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),hM(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:GI.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",nR,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return fL.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Us(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:gR});t.createIndex("collectionPathOverlayIndex",yR,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",_R,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:oR});t.createIndex("documentKeyIndex",sR),t.createIndex("collectionGroupIndex",uR)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:dR}).createIndex("sequenceNumberIndex",mR,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:pR}).createIndex("documentKeyIndex",vR,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=EO(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Us",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return fL.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return fL.forEach(r,(function(r){TI(r.userId===n.userId);var i=MR(t.yt,r);return SO(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new KI(n),o=function(e){return[0,ZD(e)]}(a);r.push(t.get(o).next((function(n){return n?fL.resolve():function(n){return t.put({targetId:0,path:ZD(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return fL.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:hR});var n=t.store("collectionParents"),r=new pO,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:ZD(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new KI(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],tR(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=jR(r),a=FR(t.yt,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new JI(KI.fromString(i.document.name).popFirst(5)):i.noDocument?JI.fromSegments(i.noDocument.path):i.unknownDocument?JI.fromSegments(i.unknownDocument.path):EI()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return fL.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=qO(this.yt),a=new uM(lM.Bs,this.yt.ie);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:sD();MR(n.yt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),fL.forEach(r,(function(e,r){var o=new yI(r),s=GR.re(n.yt,o),u=a.getIndexManager(o),c=TO.re(o,n.yt,u,a.referenceDelegate);return new $O(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new SR(t,wL.at),e).next()}))}))}}]),e}();function hM(e){e.createObjectStore("targetDocuments",{keyPath:lR}).createIndex("documentTargetsIndex",fR,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",cR,{unique:!0}),e.createObjectStore("targetGlobal")}var dM="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",mM=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(Ns(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=s,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new LI(II.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new zO(this,i),this.ii=n+"main",this.yt=new AR(u),this.ri=new dL(this.ii,this.Xs,new fM(this.yt)),this.Cs=new DO(this.referenceDelegate,this.yt),this.remoteDocumentCache=qO(this.yt),this.Ns=new WR,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&wI("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Rs(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new LI(II.FAILED_PRECONDITION,dM);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new wL(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=Lv(Pv().mark((function n(r){return Pv().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=Lv(Pv().mark((function t(n){return Pv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(Lv(Pv().mark((function e(){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return vM(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(vL(t))return CI("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return CI("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return pM(e).get("owner").next((function(e){return fL.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return vM(e).delete(this.clientId)}},{key:"yi",value:function(){var e=Lv(Pv().mark((function e(){var t,n,r,i,a=this;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=ER(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return fL.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=Is(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?fL.resolve(!0):pM(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new LI(II.FAILED_PRECONDITION,dM);return!1}}return!(!t.networkEnabled||!t.inForeground)||vM(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&CI("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Lv(Pv().mark((function e(){var t=this;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new SR(e,wL.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return vM(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return TO.re(e,this.yt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new gO(e,this.yt.ie.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return GR.re(this.yt,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;CI("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=15===(i=this.Xs)?xR:14===i?wR:13===i?CR:12===i?kR:11===i?bR:void EI();return this.ri.runTransaction(e,o,s,(function(i){return a=new SR(i,r.Ss?r.Ss.next():wL.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw wI("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new LI(II.FAILED_PRECONDITION,sL);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return pM(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new LI(II.FAILED_PRECONDITION,dM)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return pM(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=pM(e);return n.get("owner").next((function(e){return t.mi(e)?(CI("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):fL.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(wI("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!iv()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return CI("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return wI("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(TS){wI("Failed to set zombie client id.",TS)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(TS){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return dL.C()}}]),e}();function pM(e){return ER(e,"owner")}function vM(e){return ER(e,"clientMetadata")}function gM(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var yM=function(){function e(t,n,r,i){Ns(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return Rs(e,null,[{key:"Ci",value:function(t,n){var r,i=sD(),a=sD(),o=Is(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),_M=function(){function e(){Ns(this,e),this.xi=!1}return Rs(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(ZA(t))return fL.resolve(null);var r=rN(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=aN(t,null,"F"),r=rN(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=sD.apply(void 0,As(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,aN(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return ZA(t)||r.isEqual(GI.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(kI()<=Ov.DEBUG&&CI("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),uN(t)),i.Bi(e,o,t,rL(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new RA(fN(e));return t.forEach((function(t,r){cN(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return kI()<=Ov.DEBUG&&CI("QueryEngine","Using full collection scan to execute query:",uN(t)),this.Ni.getDocumentsMatchingQuery(e,t,aL.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),bM=function(){function e(t,n,r,i){Ns(this,e),this.persistence=t,this.Li=n,this.yt=i,this.qi=new AA(BI),this.Ui=new XN((function(e){return WA(e)}),HA),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return Rs(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $O(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qi)}))}}]),e}();function kM(e,t,n,r){return new bM(e,t,n,r)}function CM(e,t){return wM.apply(this,arguments)}function wM(){return wM=Lv(Pv().mark((function e(t,n){var r;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=PI(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=sD(),u=Is(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Is(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(_){f.e(_)}finally{f.f()}}}catch(_){u.e(_)}finally{u.f()}var d,m=Is(n);try{for(m.s();!(d=m.n()).done;){var p=d.value;o.push(p.batchId);var v,g=Is(p.mutations);try{for(g.s();!(v=g.n()).done;){var y=v.value;s=s.add(y.key)}}catch(_){g.e(_)}finally{g.f()}}}catch(_){m.e(_)}finally{m.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),wM.apply(this,arguments)}function xM(e,t){var n=PI(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=fL.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);TI(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=sD(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function SM(e){var t=PI(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function EM(e,t){var n=PI(e),r=t.snapshotVersion,i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(NL.EMPTY_BYTE_STRING,GI.min()).withLastLimboFreeSnapshotVersion(GI.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var s=ZN(),u=sD();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(TM(e,a,t.documentUpdates).next((function(e){s=e.Wi,u=e.zi}))),!r.isEqual(GI.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return fL.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.qi=i,e}))}function TM(e,t,n){var r=sD(),i=sD();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=ZN();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(GI.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):CI("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function PM(e,t){var n=PI(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function IM(e,t){var n=PI(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,fL.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new LR(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(e.targetId,e),n.Ui.set(t,e.targetId)),e}))}function LM(e,t,n){return AM.apply(this,arguments)}function AM(){return AM=Lv(Pv().mark((function e(t,n,r){var i,a,o;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=PI(t),a=i.qi.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),vL(e.t1)){e.next=12;break}throw e.t1;case 12:CI("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qi=i.qi.remove(n),i.Ui.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),AM.apply(this,arguments)}function NM(e,t,n){var r=PI(e),i=GI.min(),a=sD();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=PI(e),i=r.Ui.get(n);return void 0!==i?fL.resolve(r.qi.get(i)):r.Cs.getTargetData(t,n)}(r,e,rN(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:GI.min(),n?a:sD())})).next((function(e){return OM(r,lN(t),e),{documents:e,Hi:a}}))}))}function DM(e,t){var n=PI(e),r=PI(n.Cs),i=n.qi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ne(e,t).next((function(e){return e?e.target:null}))}))}function RM(e,t){var n=PI(e),r=n.Ki.get(t)||GI.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,rL(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return OM(n,t,e),e}))}function OM(e,t,n){var r=e.Ki.get(t)||GI.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function MM(e,t,n,r){return jM.apply(this,arguments)}function jM(){return jM=Lv(Pv().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,m;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=PI(t),o=sD(),s=ZN(),u=Is(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),s=s.insert(f,h)}catch(p){u.e(p)}finally{u.f()}return d=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,IM(a,function(e){return rN(JA(KI.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return m=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return TM(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,m.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,m.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),jM.apply(this,arguments)}function FM(e,t){return VM.apply(this,arguments)}function VM(){return VM=Lv(Pv().mark((function e(t,n){var r,i,a,o=arguments;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:sD(),e.next=3,IM(t,rN(VR(n.bundledQuery)));case 3:return i=e.sent,a=PI(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=ED(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(NL.EMPTY_BYTE_STRING,t);return a.qi=a.qi.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),VM.apply(this,arguments)}function UM(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function zM(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function BM(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var WM=function(){function e(t,n,r,i){Ns(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Rs(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new LI(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(wI("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),HM=function(){function e(t,n,r){Ns(this,e),this.targetId=t,this.state=n,this.error=r}return Rs(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new LI(i.error.code,i.error.message))),a?new e(t,i.state,r):(wI("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),qM=function(){function e(t,n){Ns(this,e),this.clientId=t,this.activeTargetIds=n}return Rs(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=cD(),o=0;i&&o<r.activeTargetIds.length;++o)i=AL(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(wI("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),GM=function(){function e(t,n){Ns(this,e),this.clientId=t,this.onlineState=n}return Rs(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(wI("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),YM=function(){function e(){Ns(this,e),this.activeTargetIds=cD()}return Rs(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),KM=function(){function e(t,n,r,i,a){Ns(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new AA(BI),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=UM(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new YM),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return Rs(e,[{key:"start",value:function(){var e=Lv(Pv().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=Is(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(UM(this.persistenceKey,i)))&&(o=qM.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(s=this.storage.getItem(this.wr))&&(u=this.yr(s))&&this.pr(u),c=Is(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(BM(this.persistenceKey,e));if(n){var r=HM.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(BM(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return CI("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){CI("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){CI("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(CI("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void wI("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(Lv(Pv().mark((function e(){var r,i,a,o,s,u,c;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(s));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}u=function(e){var t=wL.at;if(null!=e)try{var n=JSON.parse(e);TI("number"==typeof n),t=n}catch(e){wI("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==wL.at&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Mr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new WM(this.currentUser,e,t,n),i=zM(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=zM(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=BM(this.persistenceKey,e),i=new HM(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return qM.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return WM.Zi(new yI(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return HM.Zi(r,t)}},{key:"yr",value:function(e){return GM.Zi(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=Lv(Pv().mark((function e(t){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:CI("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Br(o,s).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=cD();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),QM=function(){function e(){Ns(this,e),this.Lr=new YM,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Rs(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new YM,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),XM=function(){function e(){Ns(this,e)}return Rs(e,[{key:"Ur",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),JM=function(){function e(){var t=this;Ns(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return Rs(e,[{key:"Ur",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){CI("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Is(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){CI("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Is(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),ZM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},$M=function(){function e(t){Ns(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return Rs(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),ej=function(e){Ss(n,e);var t=Ps(n);function n(e){var r;return Ns(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Rs(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new vI;o.setWithCredentials(!0),o.listenOnce(fI.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case lI.NO_ERROR:var t=o.getResponseJson();CI("Connection","XHR received:",JSON.stringify(t)),i(t);break;case lI.TIMEOUT:CI("Connection",'RPC "'+e+'" timed out'),a(new LI(II.DEADLINE_EXCEEDED,"Request time out"));break;case lI.HTTP_ERROR:var n=o.getStatus();if(CI("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(II).indexOf(t)>=0?t:II.UNKNOWN}(s.status);a(new LI(u,s.message))}else a(new LI(II.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new LI(II.UNAVAILABLE,"Connection failed."));break;default:EI()}}finally{CI("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=uI(),a=cI(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new mI({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var s=r.join("");CI("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new $M({Hr:function(e){l?CI("Connection","Not sending because WebChannel is closed:",e):(c||(CI("Connection","Opening WebChannel transport."),u.open(),c=!0),CI("Connection","WebChannel sending:",e),u.send(e))},Jr:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,pI.EventType.OPEN,(function(){l||CI("Connection","WebChannel transport opened.")})),h(u,pI.EventType.CLOSE,(function(){l||(l=!0,CI("Connection","WebChannel transport closed"),f.io())})),h(u,pI.EventType.ERROR,(function(e){l||(l=!0,xI("Connection","WebChannel transport errored:",e),f.io(new LI(II.UNAVAILABLE,"The operation could not be completed")))})),h(u,pI.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];TI(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){CI("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=WN[e];if(void 0!==t)return QN(t)}(a),s=i.message;void 0===o&&(o=II.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new LI(o,s)),u.close()}else CI("Connection","WebChannel received:",n),f.ro(n)}})),h(a,hI.STAT_EVENT,(function(e){e.stat===dI.PROXY?CI("Connection","Detected buffering proxy"):e.stat===dI.NOPROXY&&CI("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){Ns(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Rs(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);CI("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return CI("RestConnection","Received: ",e),e}),(function(t){throw xI("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+_I,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=ZM[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function tj(){return"undefined"!=typeof window?window:null}function nj(){return"undefined"!=typeof document?document:null}function rj(e){return new CD(e,!0)}var ij=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Ns(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return Rs(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&CI("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),aj=function(){function e(t,n,r,i,a,o,s,u){Ns(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new ij(t,n)}return Rs(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=Lv(Pv().mark((function e(){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=Lv(Pv().mark((function e(){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"qo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=Lv(Pv().mark((function e(t,n){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.qo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===II.RESOURCE_EXHAUSTED?(wI(n.toString()),wI("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===II.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Uo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new LI(II.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro(Lv(Pv().mark((function t(){return Pv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return CI("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(CI("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),oj=function(e){Ss(n,e);var t=Ps(n);function n(e,r,i,a,o,s){var u;return Ns(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).yt=o,u}return Rs(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:EI()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.wt?(TI(void 0===t||"string"==typeof t),NL.fromBase64String(t||"")):(TI(void 0===t||t instanceof Uint8Array),NL.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?II.UNKNOWN:QN(e.code);return new LI(t,e.message||"")}(o);n=new mD(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=LD(e,u.document.name),l=ED(u.document.updateTime),f=u.document.createTime?ED(u.document.createTime):GI.min(),h=new FA({mapValue:{fields:u.document.fields}}),d=UA.newFoundDocument(c,l,f,h),m=u.targetIds||[],p=u.removedTargetIds||[];n=new hD(m,p,d.key,d)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var g=LD(e,v.document),y=v.readTime?ED(v.readTime):GI.min(),_=UA.newNoDocument(g,y),b=v.removedTargetIds||[];n=new hD([],b,_.key,_)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var C=LD(e,k.document),w=k.removedTargetIds||[];n=new hD([],w,C,null)}else{if(!("filter"in t))return EI();t.filter;var x=t.filter;x.targetId;var S=x.count||0,E=new YN(S),T=x.targetId;n=new dD(T,E)}return n}(this.yt,e),n=function(e){if(!("targetChange"in e))return GI.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?GI.min():t.readTime?ED(t.readTime):GI.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=DD(this.yt),t.addTarget=function(e,t){var n,r=t.target;return(n=qA(r)?{documents:UD(e,r)}:{query:zD(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=xD(e,t.resumeToken):t.snapshotVersion.compareTo(GI.min())>0&&(n.readTime=wD(e,t.snapshotVersion.toTimestamp())),n}(this.yt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return EI()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.yt,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=DD(this.yt),t.removeTarget=e,this.Bo(t)}}]),n}(aj),sj=function(e){Ss(n,e);var t=Ps(n);function n(e,r,i,a,o,s){var u;return Ns(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).yt=o,u.Jo=!1,u}return Rs(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,xs(Cs(n.prototype),"start",this).call(this)}},{key:"Uo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(TI(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(TI(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?ED(e.updateTime):ED(t);return n.isEqual(GI.min())&&(n=ED(t)),new IN(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=ED(e.commitTime);return this.listener.Zo(n,t)}return TI(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=DD(this.yt),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return FD(t.yt,e)}))};this.Bo(n)}}]),n}(aj),uj=function(e){Ss(n,e);var t=Ps(n);function n(e,r,i,a){var o;return Ns(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.yt=a,o.nu=!1,o}return Rs(n,[{key:"su",value:function(){if(this.nu)throw new LI(II.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],s=a[1];return r.connection.ao(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===II.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new LI(II.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=c(a,2),s=o[0],u=o[1];return i.connection._o(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===II.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new LI(II.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return Rs((function e(){Ns(this,e)}))}());var cj=function(){function e(t,n){Ns(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return Rs(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(wI(t),this.ou=!1):CI("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),lj=Rs((function e(t,n,r,i,a){var o=this;Ns(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.Ur((function(e){r.enqueueAndForget(Lv(Pv().mark((function e(){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=kj(o),!e.t0){e.next=5;break}return CI("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Lv(Pv().mark((function e(t){var n;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=PI(t))._u.add(4),e.next=4,dj(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,fj(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new cj(r,i)}));function fj(e){return hj.apply(this,arguments)}function hj(){return hj=Lv(Pv().mark((function e(t){var n,r,i;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!kj(t)){e.next=18;break}n=Is(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),hj.apply(this,arguments)}function dj(e){return mj.apply(this,arguments)}function mj(){return mj=Lv(Pv().mark((function e(t){var n,r,i;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Is(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),mj.apply(this,arguments)}function pj(e,t){var n=PI(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),bj(n)?_j(n):Xj(n).ko()&&gj(n,t))}function vj(e,t){var n=PI(e),r=Xj(n);n.du.delete(t),r.ko()&&yj(n,t),0===n.du.size&&(r.ko()?r.Fo():kj(n)&&n.gu.set("Unknown"))}function gj(e,t){e.yu.Ot(t.targetId),Xj(e).zo(t)}function yj(e,t){e.yu.Ot(t),Xj(e).Ho(t)}function _j(e){e.yu=new vD({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.du.get(t)||null}}),Xj(e).start(),e.gu.uu()}function bj(e){return kj(e)&&!Xj(e).No()&&e.du.size>0}function kj(e){return 0===PI(e)._u.size}function Cj(e){e.yu=void 0}function wj(e){return xj.apply(this,arguments)}function xj(){return xj=Lv(Pv().mark((function e(t){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){gj(t,e)}));case 1:case"end":return e.stop()}}),e)}))),xj.apply(this,arguments)}function Sj(e,t){return Ej.apply(this,arguments)}function Ej(){return Ej=Lv(Pv().mark((function e(t,n){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Cj(t),bj(t)?(t.gu.hu(n),_j(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Ej.apply(this,arguments)}function Tj(e,t,n){return Pj.apply(this,arguments)}function Pj(){return Pj=Lv(Pv().mark((function e(t,n,r){var i;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof mD&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Lv(Pv().mark((function e(t,n){var r,i,a,o;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Is(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),CI("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Ij(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof hD?t.yu.Kt(n):n instanceof dD?t.yu.Jt(n):t.yu.jt(n),r.isEqual(GI.min())){e.next=29;break}return e.prev=14,e.next=17,SM(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.Zt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(NL.EMPTY_BYTE_STRING,n.snapshotVersion)),yj(e,t);var r=new LR(n.target,t,1,n.sequenceNumber);gj(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),CI("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Ij(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Pj.apply(this,arguments)}function Ij(e,t,n){return Lj.apply(this,arguments)}function Lj(){return Lj=Lv(Pv().mark((function e(t,n,r){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(vL(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,dj(t);case 5:t.gu.set("Offline"),r||(r=function(){return SM(t.localStore)}),t.asyncQueue.enqueueRetryable(Lv(Pv().mark((function e(){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return CI("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,fj(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Lj.apply(this,arguments)}function Aj(e,t){return t().catch((function(n){return Ij(e,n,t)}))}function Nj(e){return Dj.apply(this,arguments)}function Dj(){return Dj=Lv(Pv().mark((function e(t){var n,r,i,a;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=PI(t),r=Jj(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!Rj(n)){e.next=19;break}return e.prev=3,e.next=6,PM(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,Oj(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Ij(n,e.t0);case 17:e.next=2;break;case 19:Mj(n)&&jj(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Dj.apply(this,arguments)}function Rj(e){return kj(e)&&e.fu.length<10}function Oj(e,t){e.fu.push(t);var n=Jj(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function Mj(e){return kj(e)&&!Jj(e).No()&&e.fu.length>0}function jj(e){Jj(e).start()}function Fj(e){return Vj.apply(this,arguments)}function Vj(){return Vj=Lv(Pv().mark((function e(t){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Jj(t).eu();case 1:case"end":return e.stop()}}),e)}))),Vj.apply(this,arguments)}function Uj(e){return zj.apply(this,arguments)}function zj(){return zj=Lv(Pv().mark((function e(t){var n,r,i,a;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Jj(t),r=Is(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),zj.apply(this,arguments)}function Bj(e,t,n){return Wj.apply(this,arguments)}function Wj(){return Wj=Lv(Pv().mark((function e(t,n,r){var i,a;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=PR.from(i,n,r),e.next=3,Aj(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Nj(t);case 5:case"end":return e.stop()}}),e)}))),Wj.apply(this,arguments)}function Hj(e,t){return qj.apply(this,arguments)}function qj(){return qj=Lv(Pv().mark((function e(t,n){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Jj(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Lv(Pv().mark((function e(t,n){var r,i;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!KN(i=n.code)||i===II.ABORTED){e.next=7;break}return r=t.fu.shift(),Jj(t).Mo(),e.next=5,Aj(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Nj(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Mj(t)&&jj(t);case 5:case"end":return e.stop()}}),e)}))),qj.apply(this,arguments)}function Gj(e,t){return Yj.apply(this,arguments)}function Yj(){return Yj=Lv(Pv().mark((function e(t,n){var r,i;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=PI(t)).asyncQueue.verifyOperationInProgress(),CI("RemoteStore","RemoteStore received new credentials"),i=kj(r),r._u.add(3),e.next=6,dj(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,fj(r);case 12:case"end":return e.stop()}}),e)}))),Yj.apply(this,arguments)}function Kj(e,t){return Qj.apply(this,arguments)}function Qj(){return Qj=Lv(Pv().mark((function e(t,n){var r;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=PI(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,fj(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,dj(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Qj.apply(this,arguments)}function Xj(e){return e.pu||(e.pu=function(e,t,n){var r=PI(e);return r.su(),new oj(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:wj.bind(null,e),Zr:Sj.bind(null,e),Wo:Tj.bind(null,e)}),e.wu.push(function(){var t=Lv(Pv().mark((function t(n){return Pv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),bj(e)?_j(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:Cj(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function Jj(e){return e.Iu||(e.Iu=function(e,t,n){var r=PI(e);return r.su(),new sj(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:Fj.bind(null,e),Zr:Hj.bind(null,e),tu:Uj.bind(null,e),Zo:Bj.bind(null,e)}),e.wu.push(function(){var t=Lv(Pv().mark((function t(n){return Pv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,Nj(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(CI("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var Zj=function(){function e(t,n,r,i,a){Ns(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new AI,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Rs(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new LI(II.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function $j(e,t){if(wI("AsyncQueue","".concat(t,": ").concat(e)),vL(e))return new LI(II.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var eF=function(){function e(t){Ns(this,e),this.comparator=t?function(e,n){return t(e,n)||JI.comparator(e.key,n.key)}:function(e,t){return JI.comparator(e.key,t.key)},this.keyedMap=eD(),this.sortedSet=new AA(this.comparator)}return Rs(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),tF=function(){function e(){Ns(this,e),this.Tu=new AA(JI.comparator)}return Rs(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):EI():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),nF=function(){function e(t,n,r,i,a,o,s,u,c){Ns(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return Rs(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oN(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,eF.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),rF=Rs((function e(){Ns(this,e),this.Au=void 0,this.listeners=[]})),iF=Rs((function e(){Ns(this,e),this.queries=new XN((function(e){return sN(e)}),oN),this.onlineState="Unknown",this.Ru=new Set}));function aF(e,t){return oF.apply(this,arguments)}function oF(){return oF=Lv(Pv().mark((function e(t,n){var r,i,a,o,s;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=PI(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new rF),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=$j(e.t0,"Initialization of query '".concat(uN(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&fF(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),oF.apply(this,arguments)}function sF(e,t){return uF.apply(this,arguments)}function uF(){return uF=Lv(Pv().mark((function e(t,n){var r,i,a,o,s;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=PI(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),uF.apply(this,arguments)}function cF(e,t){var n,r=PI(e),i=!1,a=Is(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=Is(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&fF(r)}function lF(e,t,n){var r=PI(e),i=r.queries.get(t);if(i){var a,o=Is(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function fF(e){e.Ru.forEach((function(e){e.next()}))}var hF=function(){function e(t,n,r){Ns(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return Rs(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Is(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new nF(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=nF.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}(),dF=function(){function e(t,n){Ns(this,e),this.ku=t,this.byteLength=n}return Rs(e,[{key:"Ou",value:function(){return"metadata"in this.ku}}]),e}(),mF=function(){function e(t){Ns(this,e),this.yt=t}return Rs(e,[{key:"Ji",value:function(e){return LD(this.yt,e)}},{key:"Yi",value:function(e){return e.metadata.exists?MD(this.yt,e.document,!1):UA.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return ED(e)}}]),e}(),pF=function(){function e(t,n,r){Ns(this,e),this.Mu=t,this.localStore=n,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=vF(t)}return Rs(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;var n=KI.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new mF(this.yt),i=Is(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Ji(a.metadata.name),u=Is(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||sD()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Lv(Pv().mark((function e(){var t,n,r,i,a;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,MM(this.localStore,new mF(this.yt),this.documents,this.Mu.id);case 2:t=e.sent,n=this.$u(this.documents),r=Is(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,FM(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function vF(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var gF=Rs((function e(t){Ns(this,e),this.key=t})),yF=Rs((function e(t){Ns(this,e),this.key=t})),_F=function(){function e(t,n){Ns(this,e),this.query=t,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=sD(),this.mutatedKeys=sD(),this.Gu=fN(t),this.Qu=new eF(this.Gu)}return Rs(e,[{key:"ju",get:function(){return this.qu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new tF,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=cN(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),m=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),m=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),m=!0,(u&&n.Gu(f,u)>0||c&&n.Gu(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),m=!0):l&&!f&&(r.track({type:1,doc:l}),m=!0,(u||c)&&(s=!0)),m&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:s,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return EI()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],s=0===this.Ku.size&&this.current?1:0,u=s!==this.Uu;return this.Uu=s,0!==a.length||u?{snapshot:new nF(this.query,e.Qu,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new tF,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.qu=t.qu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.qu=t.qu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=sD(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new yF(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new gF(e))})),n}},{key:"tc",value:function(e){this.qu=e.Hi,this.Ku=sD();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return nF.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}]),e}(),bF=Rs((function e(t,n,r){Ns(this,e),this.query=t,this.targetId=n,this.view=r})),kF=Rs((function e(t){Ns(this,e),this.key=t,this.nc=!1})),CF=function(){function e(t,n,r,i,a,o){Ns(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new XN((function(e){return sN(e)}),oN),this.rc=new Map,this.oc=new Set,this.uc=new AA(JI.comparator),this.cc=new Map,this.ac=new nM,this.hc={},this.lc=new Map,this.fc=NO.vn(),this.onlineState="Unknown",this.dc=void 0}return Rs(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function wF(e,t){return xF.apply(this,arguments)}function xF(){return xF=Lv(Pv().mark((function e(t,n){var r,i,a,o,s,u;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=vV(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,IM(r.localStore,rN(n));case 8:return s=e.sent,r.isPrimaryClient&&pj(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,SF(r,n,i,"current"===u,s.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),xF.apply(this,arguments)}function SF(e,t,n,r,i){return EF.apply(this,arguments)}function EF(){return EF=Lv(Pv().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=Lv(Pv().mark((function e(t,n,r,i){var a,o,s;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,NM(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(GF(t,n.targetId,s.Xu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,NM(t.localStore,n,!0);case 3:return o=e.sent,s=new _F(n,o.Hi),u=s.Wu(o.documents),c=fD.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),GF(t,r,l.Xu),f=new bF(n,r,s),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),EF.apply(this,arguments)}function TF(e,t){return PF.apply(this,arguments)}function PF(){return PF=Lv(Pv().mark((function e(t,n){var r,i,a;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=PI(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!oN(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,LM(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),vj(r.remoteStore,i.targetId),HF(r,i.targetId)})).catch(cL);case 9:e.next=14;break;case 11:return HF(r,i.targetId),e.next=14,LM(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),PF.apply(this,arguments)}function IF(e,t,n){return LF.apply(this,arguments)}function LF(){return LF=Lv(Pv().mark((function e(t,n,r){var i,a,o;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gV(t),e.prev=1,e.next=4,function(e,t){var n,r,i=PI(e),a=qI.now(),o=t.reduce((function(e,t){return e.add(t.key)}),sD());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=ZN(),u=sD();return i.Gi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=Is(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=MN(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new VN(c.key,l,VA(l.value.mapValue),LN.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:tD(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new AA(BI)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,QF(i,a.changes);case 9:return e.next=11,Nj(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=$j(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),LF.apply(this,arguments)}function AF(e,t){return NF.apply(this,arguments)}function NF(){return NF=Lv(Pv().mark((function e(t,n){var r,i;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=PI(t),e.prev=1,e.next=4,EM(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(TI(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?TI(n.nc):e.removedDocuments.size>0&&(TI(n.nc),n.nc=!1))})),e.next=8,QF(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,cL(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),NF.apply(this,arguments)}function DF(e,t,n){var r=PI(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=PI(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Is(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&fF(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function RF(e,t,n){return OF.apply(this,arguments)}function OF(){return OF=Lv(Pv().mark((function e(t,n,r){var i,a,o,s,u,c;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=PI(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new AA(JI.comparator)).insert(o,UA.newNoDocument(o,GI.min())),u=sD().add(o),c=new lD(GI.min(),new Map,new RA(BI),s,u),e.next=9,AF(i,c);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),KF(i),e.next=16;break;case 14:return e.next=16,LM(i.localStore,n,!1).then((function(){return HF(i,n,r)})).catch(cL);case 16:case"end":return e.stop()}}),e)}))),OF.apply(this,arguments)}function MF(e,t){return jF.apply(this,arguments)}function jF(){return jF=Lv(Pv().mark((function e(t,n){var r,i,a;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=PI(t),i=n.batch.batchId,e.prev=1,e.next=4,xM(r.localStore,n);case 4:return a=e.sent,WF(r,i,null),BF(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,QF(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,cL(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),jF.apply(this,arguments)}function FF(e,t,n){return VF.apply(this,arguments)}function VF(){return VF=Lv(Pv().mark((function e(t,n,r){var i,a;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=PI(t),e.prev=1,e.next=4,function(e,t){var n=PI(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return TI(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,WF(i,n,r),BF(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,QF(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,cL(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),VF.apply(this,arguments)}function UF(e,t){return zF.apply(this,arguments)}function zF(){return zF=Lv(Pv().mark((function e(t,n){var r,i,a,o;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kj((r=PI(t)).remoteStore)||CI("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=PI(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.lc.get(i)||[]).push(n),r.lc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=$j(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),zF.apply(this,arguments)}function BF(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function WF(e,t,n){var r=PI(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function HF(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Is(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||qF(e,t)}))}function qF(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(vj(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),KF(e))}function GF(e,t,n){var r,i=Is(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof gF?(e.ac.addReference(a.key,t),YF(e,a)):a instanceof yF?(CI("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||qF(e,a.key)):EI()}}catch(o){i.e(o)}finally{i.f()}}function YF(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(CI("SyncEngine","New document in limbo: "+n),e.oc.add(r),KF(e))}function KF(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new JI(KI.fromString(t)),r=e.fc.next();e.cc.set(r,new kF(n)),e.uc=e.uc.insert(n,r),pj(e.remoteStore,new LR(rN(JA(n.path)),r,2,wL.at))}}function QF(e,t,n){return XF.apply(this,arguments)}function XF(){return XF=Lv(Pv().mark((function e(t,n,r){var i,a,o,s;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=PI(t),a=[],o=[],s=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){s.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=yM.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.sc.Wo(a),e.next=9,function(){var e=Lv(Pv().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=PI(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return fL.forEach(n,(function(t){return fL.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return fL.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),vL(e.t0)){e.next=10;break}throw e.t0;case 10:CI("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Is(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.qi.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.qi=r.qi.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),XF.apply(this,arguments)}function JF(e,t){return ZF.apply(this,arguments)}function ZF(){return ZF=Lv(Pv().mark((function e(t,n){var r,i;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=PI(t)).currentUser.isEqual(n)){e.next=11;break}return CI("SyncEngine","User change. New user:",n.toKey()),e.next=5,CM(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new LI(II.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,QF(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),ZF.apply(this,arguments)}function $F(e,t){var n=PI(e),r=n.cc.get(t);if(r&&r.nc)return sD().add(r.key);var i=sD(),a=n.rc.get(t);if(!a)return i;var o,s=Is(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.ic.get(u);i=i.unionWith(c.view.ju)}}catch(l){s.e(l)}finally{s.f()}return i}function eV(e,t){return tV.apply(this,arguments)}function tV(){return tV=Lv(Pv().mark((function e(t,n){var r,i,a;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=PI(t),e.next=3,NM(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.tc(i),e.abrupt("return",(r.isPrimaryClient&&GF(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),tV.apply(this,arguments)}function nV(e,t){return rV.apply(this,arguments)}function rV(){return rV=Lv(Pv().mark((function e(t,n){var r;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=PI(t),e.abrupt("return",RM(r.localStore,n).then((function(e){return QF(r,e)})));case 2:case"end":return e.stop()}}),e)}))),rV.apply(this,arguments)}function iV(e,t,n,r){return aV.apply(this,arguments)}function aV(){return aV=Lv(Pv().mark((function e(t,n,r,i){var a,o;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=PI(t),e.next=3,function(e,t){var n=PI(e),r=PI(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):fL.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Nj(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(WF(a,n,i||null),BF(a,n),function(e,t){PI(PI(e).mutationQueue).An(t)}(a.localStore,n)):EI();case 11:return e.next=13,QF(a,o);case 13:e.next=16;break;case 15:CI("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),aV.apply(this,arguments)}function oV(e,t){return sV.apply(this,arguments)}function sV(){return sV=Lv(Pv().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(vV(r=PI(t)),gV(r),!0!==n||!0===r.dc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,uV(r,i.toArray());case 5:return a=e.sent,r.dc=!0,e.next=9,Kj(r.remoteStore,!0);case 9:o=Is(a);try{for(o.s();!(s=o.n()).done;)u=s.value,pj(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.dc){e.next=25;break}return c=[],l=Promise.resolve(),r.rc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return HF(r,t),LM(r.localStore,t,!0)})),vj(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,uV(r,c);case 21:return function(e){var t=PI(e);t.cc.forEach((function(e,n){vj(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new AA(JI.comparator)}(r),r.dc=!1,e.next=25,Kj(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),sV.apply(this,arguments)}function uV(e,t,n){return cV.apply(this,arguments)}function cV(){return cV=Lv(Pv().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,m,p,v,g;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=PI(t),a=[],o=[],s=Is(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.rc.get(c))||0===f.length){e.next=34;break}return e.next=11,IM(i.localStore,rN(f[0]));case 11:l=e.sent,h=Is(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return m=d.value,p=i.ic.get(m),e.next=20,eV(i,p);case 20:(v=e.sent).snapshot&&o.push(v.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,DM(i.localStore,c);case 36:return g=e.sent,e.next=39,IM(i.localStore,g);case 39:return l=e.sent,e.next=42,SF(i,lV(g),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.sc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),cV.apply(this,arguments)}function lV(e){return XA(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function fV(e){var t=PI(e);return PI(PI(t.localStore).persistence).vi()}function hV(e,t,n,r){return dV.apply(this,arguments)}function dV(){return dV=Lv(Pv().mark((function e(t,n,r,i){var a,o,s,u;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=PI(t)).dc){e.next=3;break}return e.abrupt("return",void CI("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.rc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,RM(a.localStore,lN(o[0]));case 10:return s=e.sent,u=lD.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,NL.EMPTY_BYTE_STRING),e.next=14,QF(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,LM(a.localStore,n,!0);case 17:return HF(a,n,i),e.abrupt("break",20);case 19:EI();case 20:case"end":return e.stop()}}),e)}))),dV.apply(this,arguments)}function mV(e,t,n){return pV.apply(this,arguments)}function pV(){return pV=Lv(Pv().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=vV(t)).dc){e.next=45;break}a=Is(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.rc.has(s)){e.next=10;break}return CI("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,DM(i.localStore,s);case 12:return u=e.sent,e.next=15,IM(i.localStore,u);case 15:return c=e.sent,e.next=18,SF(i,lV(u),c.targetId,!1,c.resumeToken);case 18:pj(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Is(r),e.prev=30,h=Pv().mark((function e(){var t;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.rc.has(t),!e.t0){e.next=5;break}return e.next=5,LM(i.localStore,t,!1).then((function(){vj(i.remoteStore,t),HF(i,t)})).catch(cL);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),pV.apply(this,arguments)}function vV(e){var t=PI(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=AF.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$F.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=RF.bind(null,t),t.sc.Wo=cF.bind(null,t.eventManager),t.sc.wc=lF.bind(null,t.eventManager),t}function gV(e){var t=PI(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=MF.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=FF.bind(null,t),t}function yV(e,t,n){var r=PI(e);(function(){var e=Lv(Pv().mark((function e(t,n,r){var i,a,o,s,u;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=PI(e),r=ED(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(vF(i)),a=new pF(i,t.localStore,n.yt),e.next=15,n.mc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.mc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,QF(t,u.Lu,void 0);case 31:return e.next=33,function(e,t){var n=PI(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(xI("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var _V=function(){function e(){Ns(this,e),this.synchronizeTabs=!1}return Rs(e,[{key:"initialize",value:function(){var e=Lv(Pv().mark((function e(t){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yt=rj(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return kM(this.persistence,new _M,e.initialUser,this.yt)}},{key:"yc",value:function(e){return new uM(lM.Bs,this.yt)}},{key:"gc",value:function(e){return new QM}},{key:"terminate",value:function(){var e=Lv(Pv().mark((function e(){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),bV=function(e){Ss(n,e);var t=Ps(n);function n(e,r,i){var a;return Ns(this,n),(a=t.call(this)).Ac=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Rs(n,[{key:"initialize",value:function(){var e=Lv(Pv().mark((function e(t){var r=this;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xs(Cs(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ac.initialize(this,t);case 4:return e.next=6,gV(this.Ac.syncEngine);case 6:return e.next=8,Nj(this.Ac.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){return kM(this.persistence,new _M,e.initialUser,this.yt)}},{key:"Tc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new VO(n,e.asyncQueue,t)}},{key:"Ec",value:function(e,t){var n=new CL(t,this.persistence);return new kL(e.asyncQueue,n)}},{key:"yc",value:function(e){var t=gM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?xO.withCacheSize(this.cacheSizeBytes):xO.DEFAULT;return new mM(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,tj(),nj(),this.yt,this.sharedClientState,!!this.forceOwnership)}},{key:"gc",value:function(e){return new QM}}]),n}(_V),kV=function(e){Ss(n,e);var t=Ps(n);function n(e,r){var i;return Ns(this,n),(i=t.call(this,e,r,!1)).Ac=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Rs(n,[{key:"initialize",value:function(){var e=Lv(Pv().mark((function e(t){var r,i=this;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xs(Cs(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ac.syncEngine,e.t0=this.sharedClientState instanceof KM,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:iV.bind(null,r),$r:hV.bind(null,r),Br:mV.bind(null,r),vi:fV.bind(null,r),Mr:nV.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=Lv(Pv().mark((function e(t){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oV(i.Ac.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"gc",value:function(e){var t=tj();if(!KM.C(t))throw new LI(II.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=gM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new KM(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(bV),CV=function(){function e(){Ns(this,e)}return Rs(e,[{key:"initialize",value:function(){var e=Lv(Pv().mark((function e(t,n){var r=this;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return DF(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=JF.bind(null,this.syncEngine),e.next=12,Kj(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new iF}},{key:"createDatastore",value:function(e){var t,n=rj(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new ej(t));return function(e,t,n,r){return new uj(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return DF(o.syncEngine,e,0)},a=JM.C()?new JM:new XM,new lj(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new CF(e,t,n,r,i,a);return o&&(s.dc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Lv(Pv().mark((function e(t){var n;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=PI(t),CI("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,dj(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function wV(e,t,n){if(!n)throw new LI(II.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function xV(e,t,n,r){if(!0===t&&!0===r)throw new LI(II.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function SV(e){if(!JI.isDocumentKey(e))throw new LI(II.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function EV(e){if(JI.isDocumentKey(e))throw new LI(II.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function TV(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":EI()}function PV(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new LI(II.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=TV(e);throw new LI(II.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function IV(e,t){if(t<=0)throw new LI(II.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var LV=new Map,AV=function(){function e(t){var n;if(Ns(this,e),void 0===t.host){if(void 0!==t.ssl)throw new LI(II.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new LI(II.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,xV("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Rs(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),NV=function(){function e(t,n,r,i){Ns(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AV({}),this._settingsFrozen=!1}return Rs(e,[{key:"app",get:function(){if(!this._app)throw new LI(II.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new LI(II.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AV(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new DI;switch(e.type){case"gapi":var t=e.client;return new jI(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new LI(II.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=LV.get(e);t&&(CI("ComponentProvider","Removing Datastore"),LV.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function DV(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=PV(e,NV))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&xI("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=yI.MOCK_USER;else{o=dv(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new LI(II.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new yI(u)}e._authCredentials=new RI(new NI(o,s))}}var RV=function(){function e(t,n,r){Ns(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Rs(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new MV(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),OV=function(){function e(t,n,r){Ns(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Rs(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),MV=function(e){Ss(n,e);var t=Ps(n);function n(e,r,i){var a;return Ns(this,n),(a=t.call(this,e,r,JA(i)))._path=i,a.type="collection",a}return Rs(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new RV(this.firestore,null,new JI(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(OV);function jV(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Tv(e),wV("collection","path",t),e instanceof NV){var a=KI.fromString.apply(KI,[t].concat(r));return EV(a),new MV(e,null,a)}if(!(e instanceof RV||e instanceof MV))throw new LI(II.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(KI.fromString.apply(KI,[t].concat(r)));return EV(o),new MV(e.firestore,null,o)}function FV(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Tv(e),1===arguments.length&&(t=zI.R()),wV("doc","path",t),e instanceof NV){var a=KI.fromString.apply(KI,[t].concat(r));return SV(a),new RV(e,null,new JI(a))}if(!(e instanceof RV||e instanceof MV))throw new LI(II.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(KI.fromString.apply(KI,[t].concat(r)));return SV(o),new RV(e.firestore,e instanceof MV?e.converter:null,new JI(o))}function VV(e,t){return e=Tv(e),t=Tv(t),(e instanceof RV||e instanceof MV)&&(t instanceof RV||t instanceof MV)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function UV(e,t){return e=Tv(e),t=Tv(t),e instanceof OV&&t instanceof OV&&e.firestore===t.firestore&&oN(e._query,t._query)&&e.converter===t.converter}function zV(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Lv(Pv().mark((function r(){var i;return Pv().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Lv(Pv().mark((function e(){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var BV=function(){function e(t){Ns(this,e),this.observer=t,this.muted=!1}return Rs(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):wI("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),WV=function(){function e(t,n){var r=this;Ns(this,e),this.Pc=t,this.yt=n,this.metadata=new AI,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ku))))}),(function(e){return r.metadata.reject(e)}))}return Rs(e,[{key:"close",value:function(){return this.Pc.cancel()}},{key:"getMetadata",value:function(){var e=Lv(Pv().mark((function e(){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mc",value:function(){var e=Lv(Pv().mark((function e(){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){var e=Lv(Pv().mark((function e(){var t,n,r,i;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Sc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.vc.decode(t),r=Number(n),isNaN(r)&&this.Dc("length string (".concat(n,") is not valid number")),e.next=9,this.Cc(r);case 9:return i=e.sent,e.abrupt("return",new dF(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Sc",value:function(){var e=Lv(Pv().mark((function e(){var t,n;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.xc()<0)){e.next=7;break}return e.next=3,this.Nc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.xc())<0&&this.Dc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){var e=Lv(Pv().mark((function e(t){var n;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Nc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Dc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.vc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dc",value:function(e){throw this.Pc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Nc",value:function(){var e=Lv(Pv().mark((function e(){var t,n;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Pc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),HV=function(){function e(t){Ns(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Rs(e,[{key:"lookup",value:function(){var e=Lv(Pv().mark((function e(t){var n,r=this;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new LI(II.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Lv(Pv().mark((function e(t,n){var r,i,a,o,s,u;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=PI(t),i=DD(r.yt)+"/documents",a={documents:n.map((function(e){return ID(r.yt,e)}))},e.next=5,r._o("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=jD(r.yt,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());TI(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new qN(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Lv(Pv().mark((function e(){var t,n=this;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=JI.fromPath(t);n.mutations.push(new GN(r,n.precondition(r)))})),e.next=7,function(){var e=Lv(Pv().mark((function e(t,n){var r,i,a;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=PI(t),i=DD(r.yt)+"/documents",a={writes:n.map((function(e){return FD(r.yt,e)}))},e.next=3,r.ao("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw EI();t=GI.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new LI(II.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(GI.min())?LN.exists(!1):LN.updateTime(t):LN.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(GI.min()))throw new LI(II.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return LN.updateTime(t)}return LN.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),qV=function(){function e(t,n,r,i,a){Ns(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new ij(this.asyncQueue,"transaction_retry")}return Rs(e,[{key:"run",value:function(){this.kc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.xo.Ro(Lv(Pv().mark((function t(){var n,r;return Pv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new HV(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Fc(t)}))}))})).catch((function(t){e.Fc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!IL(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Fc",value:function(e){var t=this;this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!KN(t)}return!1}}]),e}(),GV=function(){function e(t,n,r,i){var a=this;Ns(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=yI.UNAUTHENTICATED,this.clientId=zI.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Lv(Pv().mark((function e(t){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return CI("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return CI("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Rs(e,[{key:"getConfiguration",value:function(){var e=Lv(Pv().mark((function e(){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new LI(II.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new AI;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Lv(Pv().mark((function n(){var r;return Pv().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=$j(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function YV(e,t){return KV.apply(this,arguments)}function KV(){return KV=Lv(Pv().mark((function e(t,n){var r,i;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),CI("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Lv(Pv().mark((function e(t){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,CM(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),KV.apply(this,arguments)}function QV(e,t){return XV.apply(this,arguments)}function XV(){return XV=Lv(Pv().mark((function e(t,n){var r,i;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,JV(t);case 3:return r=e.sent,CI("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Gj(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Gj(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),XV.apply(this,arguments)}function JV(e){return ZV.apply(this,arguments)}function ZV(){return ZV=Lv(Pv().mark((function e(t){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return CI("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,YV(t,new _V);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),ZV.apply(this,arguments)}function $V(e){return eU.apply(this,arguments)}function eU(){return eU=Lv(Pv().mark((function e(t){return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return CI("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,QV(t,new CV);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),eU.apply(this,arguments)}function tU(e){return JV(e).then((function(e){return e.persistence}))}function nU(e){return JV(e).then((function(e){return e.localStore}))}function rU(e){return $V(e).then((function(e){return e.remoteStore}))}function iU(e){return $V(e).then((function(e){return e.syncEngine}))}function aU(e){return $V(e).then((function(e){return e.datastore}))}function oU(e){return sU.apply(this,arguments)}function sU(){return sU=Lv(Pv().mark((function e(t){var n,r;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$V(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=wF.bind(null,n.syncEngine),r.onUnlisten=TF.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),sU.apply(this,arguments)}function uU(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new AI;return e.asyncQueue.enqueueAndForget(Lv(Pv().mark((function i(){return Pv().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new BV({next:function(a){t.enqueueAndForget((function(){return sF(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new LI(II.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new LI(II.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new hF(JA(n.path),a,{includeMetadataChanges:!0,Nu:!0});return aF(e,o)},i.next=3,oU(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function cU(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new AI;return e.asyncQueue.enqueueAndForget(Lv(Pv().mark((function i(){return Pv().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new BV({next:function(n){t.enqueueAndForget((function(){return sF(e,o)})),n.fromCache&&"server"===r.source?i.reject(new LI(II.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new hF(n,a,{includeMetadataChanges:!0,Nu:!0});return aF(e,o)},i.next=3,oU(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var lU=function(){function e(){var t=this;Ns(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new ij(this,"async_queue_retry"),this.Wc=function(){var e=nj();e&&CI("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=nj();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return Rs(e,[{key:"isShuttingDown",get:function(){return this.qc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;var t=nj();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.qc)return new Promise((function(){}));var n=new AI;return this.Hc((function(){return t.qc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=Lv(Pv().mark((function e(){var t=this;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),vL(e.t0)){e.next=12;break}throw e.t0;case 12:CI("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw wI("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=Zj.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.Uc.push(i),i}},{key:"zc",value:function(){this.Kc&&EI()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=Lv(Pv().mark((function e(){var t;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=Is(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Is(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();function fU(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Is(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var hU=function(){function e(){Ns(this,e),this._progressObserver={},this._taskCompletionResolver=new AI,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Rs(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),dU=function(e){Ss(n,e);var t=Ps(n);function n(e,r,i,a){var o;return Ns(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new lU,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return Rs(n,[{key:"_terminate",value:function(){return this._firestoreClient||pU(this),this._firestoreClient.terminate()}}]),n}(NV);function mU(e){return e._firestoreClient||pU(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function pU(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new xL(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new GV(e._authCredentials,e._appCheckCredentials,e._queue,r)}function vU(e,t,n){var r=new AI;return e.asyncQueue.enqueue(Lv(Pv().mark((function i(){var a;return Pv().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,YV(e,n);case 3:return i.next=5,QV(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===II.FAILED_PRECONDITION||e.code===II.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:xI("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function gU(e){return function(e){return e.asyncQueue.enqueue(Lv(Pv().mark((function t(){var n,r;return Pv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,tU(e);case 2:return n=t.sent,t.next=5,rU(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=PI(e);return t._u.delete(0),fj(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(mU(e=PV(e,dU)))}function yU(e){return function(e){return e.asyncQueue.enqueue(Lv(Pv().mark((function t(){var n,r;return Pv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,tU(e);case 2:return n=t.sent,t.next=5,rU(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Lv(Pv().mark((function e(t){var n;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=PI(t))._u.add(0),e.next=4,dj(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(mU(e=PV(e,dU)))}function _U(e,t){var n=mU(e=PV(e,dU)),r=new hU;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new WV(e,t)}(function(e,t){if(e instanceof Uint8Array)return zV(e,t);if(e instanceof ArrayBuffer)return zV(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,rj(t));e.asyncQueue.enqueueAndForget(Lv(Pv().mark((function t(){return Pv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=yV,t.next=3,iU(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function bU(e,t){return function(e,t){return e.asyncQueue.enqueue(Lv(Pv().mark((function n(){return Pv().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=PI(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,nU(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(mU(e=PV(e,dU)),t).then((function(t){return t?new OV(e,null,t.query):null}))}function kU(e){if(e._initialized||e._terminated)throw new LI(II.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var CU=function(){function e(t){Ns(this,e),this._byteString=t}return Rs(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(NL.fromBase64String(t))}catch(t){throw new LI(II.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(NL.fromUint8Array(t))}}]),e}(),wU=function(){function e(){Ns(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new LI(II.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new XI(n)}return Rs(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var xU=Rs((function e(t){Ns(this,e),this._methodName=t})),SU=function(){function e(t,n){if(Ns(this,e),!isFinite(t)||t<-90||t>90)throw new LI(II.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new LI(II.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Rs(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return BI(this._lat,e._lat)||BI(this._long,e._long)}}]),e}(),EU=/^__.*__$/,TU=function(){function e(t,n,r){Ns(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Rs(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new VN(e,this.data,this.fieldMask,t,this.fieldTransforms):new FN(e,this.data,t,this.fieldTransforms)}}]),e}(),PU=function(){function e(t,n,r){Ns(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Rs(e,[{key:"toMutation",value:function(e,t){return new VN(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function IU(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw EI()}}var LU=function(){function e(t,n,r,i,a,o){Ns(this,e),this.settings=t,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Rs(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return XU(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(IU(this.sa)&&EU.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),AU=function(){function e(t,n,r){Ns(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.yt=r||rj(t)}return Rs(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new LU({sa:e,methodName:t,fa:n,path:XI.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}]),e}();function NU(e){var t=e._freezeSettings(),n=rj(e._databaseId);return new AU(e._databaseId,!!t.ignoreUndefinedProperties,n)}function DU(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);GU("Data must be an object, but it was:",o,r);var s,u,c=HU(r,o);if(a.merge)s=new jA(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Is(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,m=YU(t,d,n);if(!o.contains(m))throw new LI(II.INVALID_ARGUMENT,"Field '".concat(m,"' is specified in your field mask but missing from your input data."));JU(f,m)||f.push(m)}}catch(p){h.e(p)}finally{h.f()}s=new jA(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new TU(new FA(c),s,u)}var RU=function(e){Ss(n,e);var t=Ps(n);function n(){return Ns(this,n),t.apply(this,arguments)}return Rs(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(xU);function OU(e,t,n){return new LU({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.yt,t.ignoreUndefinedProperties)}var MU=function(e){Ss(n,e);var t=Ps(n);function n(){return Ns(this,n),t.apply(this,arguments)}return Rs(n,[{key:"_toFieldTransform",value:function(e){return new PN(e.path,new bN)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(xU),jU=function(e){Ss(n,e);var t=Ps(n);function n(e,r){var i;return Ns(this,n),(i=t.call(this,e))._a=r,i}return Rs(n,[{key:"_toFieldTransform",value:function(e){var t=OU(this,e,!0),n=this._a.map((function(e){return WU(e,t)})),r=new kN(n);return new PN(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(xU),FU=function(e){Ss(n,e);var t=Ps(n);function n(e,r){var i;return Ns(this,n),(i=t.call(this,e))._a=r,i}return Rs(n,[{key:"_toFieldTransform",value:function(e){var t=OU(this,e,!0),n=this._a.map((function(e){return WU(e,t)})),r=new wN(n);return new PN(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(xU),VU=function(e){Ss(n,e);var t=Ps(n);function n(e,r){var i;return Ns(this,n),(i=t.call(this,e)).wa=r,i}return Rs(n,[{key:"_toFieldTransform",value:function(e){var t=new SN(e.yt,pN(e.yt,this.wa));return new PN(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(xU);function UU(e,t,n,r){var i=e.da(1,t,n);GU("Data must be an object, but it was:",i,r);var a=[],o=FA.empty();TL(r,(function(e,r){var s=QU(t,e,n);r=Tv(r);var u=i.ca(s);if(r instanceof RU)a.push(s);else{var c=WU(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new jA(a);return new PU(o,s,i.fieldTransforms)}function zU(e,t,n,r,i,a){var o=e.da(1,t,n),s=[YU(t,r,n)],u=[i];if(a.length%2!=0)throw new LI(II.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(YU(t,a[c])),u.push(a[c+1]);for(var l=[],f=FA.empty(),h=s.length-1;h>=0;--h)if(!JU(l,s[h])){var d=s[h],m=u[h];m=Tv(m);var p=o.ca(d);if(m instanceof RU)l.push(d);else{var v=WU(m,p);null!=v&&(l.push(d),f.set(d,v))}}var g=new jA(l);return new PU(f,g,o.fieldTransforms)}function BU(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return WU(n,e.da(r?4:3,t))}function WU(e,t){if(qU(e=Tv(e)))return GU("Unsupported field value:",t,e),HU(e,t);if(e instanceof xU)return function(e,t){if(!IU(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Is(e);try{for(a.s();!(n=a.n()).done;){var o=WU(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Tv(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return pN(t.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=qI.fromDate(e);return{timestampValue:wD(t.yt,n)}}if(e instanceof qI){var r=new qI(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:wD(t.yt,r)}}if(e instanceof SU)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof CU)return{bytesValue:xD(t.yt,e._byteString)};if(e instanceof RV){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:TD(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(TV(e)))}(e,t)}function HU(e,t){var n={};return PL(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):TL(e,(function(e,r){var i=WU(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function qU(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof qI||e instanceof SU||e instanceof CU||e instanceof RV||e instanceof xU)}function GU(e,t,n){if(!qU(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=TV(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function YU(e,t,n){if((t=Tv(t))instanceof wU)return t._internalPath;if("string"==typeof t)return QU(e,t);throw XU("Field path arguments must be of type string or ",e,!1,void 0,n)}var KU=new RegExp("[~\\*/\\[\\]]");function QU(e,t,n){if(t.search(KU)>=0)throw XU("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Qp(wU,As(t.split(".")))._internalPath}catch(r){throw XU("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function XU(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new LI(II.INVALID_ARGUMENT,s+e+u)}function JU(e,t){return e.some((function(e){return e.isEqual(t)}))}var ZU=function(){function e(t,n,r,i,a){Ns(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Rs(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new RV(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new $U(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(ez("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),$U=function(e){Ss(n,e);var t=Ps(n);function n(){return Ns(this,n),t.apply(this,arguments)}return Rs(n,[{key:"data",value:function(){return xs(Cs(n.prototype),"data",this).call(this)}}]),n}(ZU);function ez(e,t){return"string"==typeof t?QU(e,t):t instanceof wU?t._internalPath:t._delegate._internalPath}function tz(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new LI(II.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var nz=Rs((function e(){Ns(this,e)})),rz=function(e){Ss(n,e);var t=Ps(n);function n(){return Ns(this,n),t.apply(this,arguments)}return Rs(n)}(nz);function iz(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof nz&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof oz})).length,n=e.filter((function(e){return e instanceof az})).length;if(t>1||t>0&&n>0)throw new LI(II.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=Is(n);try{for(s.s();!(o=s.n()).done;){var u=o.value;e=u._apply(e)}}catch(c){s.e(c)}finally{s.f()}return e}var az=function(e){Ss(n,e);var t=Ps(n);function n(e,r,i){var a;return Ns(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return Rs(n,[{key:"_apply",value:function(e){var t=this._parse(e);return yz(e._query,t),new OV(e.firestore,e.converter,iN(e._query,t))}},{key:"_parse",value:function(e){var t=NU(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new LI(II.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){gz(o,a);var u,c=[],l=Is(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(vz(r,e,f))}}catch(h){l.e(h)}finally{l.f()}s={arrayValue:{values:c}}}else s=vz(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||gz(o,a),s=BU(n,"where",o,"in"===a||"not-in"===a);return fA.create(i,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(rz);var oz=function(e){Ss(n,e);var t=Ps(n);function n(e,r){var i;return Ns(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return Rs(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:hA.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=Is(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;yz(r,a),r=iN(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new OV(e.firestore,e.converter,iN(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(nz);var sz=function(e){Ss(n,e);var t=Ps(n);function n(e,r){var i;return Ns(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return Rs(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new LI(II.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new LI(II.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new IA(t,n);return function(e,t){if(null===$A(e)){var n=eN(e);null!==n&&_z(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new OV(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new QA(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(rz);var uz=function(e){Ss(n,e);var t=Ps(n);function n(e,r,i){var a;return Ns(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return Rs(n,[{key:"_apply",value:function(e){return new OV(e.firestore,e.converter,aN(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(rz);var cz=function(e){Ss(n,e);var t=Ps(n);function n(e,r,i){var a;return Ns(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return Rs(n,[{key:"_apply",value:function(e){var t=pz(e,this.type,this._docOrFields,this._inclusive);return new OV(e.firestore,e.converter,function(e,t){return new QA(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(rz);function lz(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return cz._create("startAt",t,!0)}function fz(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return cz._create("startAfter",t,!1)}var hz=function(e){Ss(n,e);var t=Ps(n);function n(e,r,i){var a;return Ns(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return Rs(n,[{key:"_apply",value:function(e){var t=pz(e,this.type,this._docOrFields,this._inclusive);return new OV(e.firestore,e.converter,function(e,t){return new QA(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(rz);function dz(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return hz._create("endBefore",t,!1)}function mz(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return hz._create("endAt",t,!0)}function pz(e,t,n,r){if(n[0]=Tv(n[0]),n[0]instanceof ZU)return function(e,t,n,r,i){if(!r)throw new LI(II.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=Is(nN(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(QL(t,r.key));else{var c=r.data.field(u.field);if(jL(c))throw new LI(II.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new LI(II.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new sA(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=NU(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new LI(II.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new LI(II.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!tN(e)&&-1!==c.indexOf("/"))throw new LI(II.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(KI.fromString(c));if(!JI.isDocumentKey(l))throw new LI(II.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new JI(l);s.push(QL(t,f))}else{var h=BU(n,r,c);s.push(h)}}return new sA(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function vz(e,t,n){if("string"==typeof(n=Tv(n))){if(""===n)throw new LI(II.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tN(t)&&-1!==n.indexOf("/"))throw new LI(II.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(KI.fromString(n));if(!JI.isDocumentKey(r))throw new LI(II.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return QL(e,new JI(r))}if(n instanceof RV)return QL(e,n._key);throw new LI(II.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(TV(n),"."))}function gz(e,t){if(!Array.isArray(e)||0===e.length)throw new LI(II.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new LI(II.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function yz(e,t){if(t.isInequality()){var n=eN(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new LI(II.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=$A(e);null!==i&&_z(e,r,i)}var a=function(e,t){var n,r=Is(e);try{for(r.s();!(n=r.n()).done;){var i,a=Is(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new LI(II.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new LI(II.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function _z(e,t,n){if(!n.isEqual(t))throw new LI(II.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var bz=function(){function e(){Ns(this,e)}return Rs(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(BL(e)){case 0:return null;case 1:return e.booleanValue;case 2:return OL(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ML(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw EI()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return TL(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new SU(OL(e.latitude),OL(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=FL(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(VL(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=RL(e);return new qI(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=KI.fromString(e);TI(JD(n));var r=new SL(n.get(1),n.get(3)),i=new JI(n.popFirst(5));return r.isEqual(t)||wI("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function kz(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Cz=function(e){Ss(n,e);var t=Ps(n);function n(e){var r;return Ns(this,n),(r=t.call(this)).firestore=e,r}return Rs(n,[{key:"convertBytes",value:function(e){return new CU(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new RV(this.firestore,null,t)}}]),n}(bz),wz=function(){function e(t,n){Ns(this,e),this.hasPendingWrites=t,this.fromCache=n}return Rs(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),xz=function(e){Ss(n,e);var t=Ps(n);function n(e,r,i,a,o,s){var u;return Ns(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return Rs(n,[{key:"exists",value:function(){return xs(Cs(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Sz(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(ez("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(ZU),Sz=function(e){Ss(n,e);var t=Ps(n);function n(){return Ns(this,n),t.apply(this,arguments)}return Rs(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return xs(Cs(n.prototype),"data",this).call(this,e)}}]),n}(xz),Ez=function(){function e(t,n,r,i){Ns(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new wz(i.hasPendingWrites,i.fromCache),this.query=r}return Rs(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Sz(n._firestore,n._userDataWriter,r.key,r,new wz(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new LI(II.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new Sz(e._firestore,e._userDataWriter,t.doc.key,t.doc,new wz(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Sz(e._firestore,e._userDataWriter,t.doc.key,t.doc,new wz(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Tz(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Tz(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return EI()}}function Pz(e,t){return e instanceof xz&&t instanceof xz?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Ez&&t instanceof Ez&&e._firestore===t._firestore&&UV(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var Iz=function(e){Ss(n,e);var t=Ps(n);function n(e){var r;return Ns(this,n),(r=t.call(this)).firestore=e,r}return Rs(n,[{key:"convertBytes",value:function(e){return new CU(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new RV(this.firestore,null,t)}}]),n}(bz);function Lz(e){e=PV(e,RV);var t=PV(e.firestore,dU),n=mU(t),r=new Iz(t);return function(e,t){var n=new AI;return e.asyncQueue.enqueueAndForget(Lv(Pv().mark((function r(){return Pv().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Lv(Pv().mark((function e(t,n,r){var i,a;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=PI(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new LI(II.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=$j(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,nU(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new xz(t,r,e._key,n,new wz(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function Az(e){e=PV(e,OV);var t=PV(e.firestore,dU),n=mU(t),r=new Iz(t);return function(e,t){var n=new AI;return e.asyncQueue.enqueueAndForget(Lv(Pv().mark((function r(){return Pv().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Lv(Pv().mark((function e(t,n,r){var i,a,o,s,u;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,NM(t,n,!0);case 3:i=e.sent,a=new _F(n,i.Hi),o=a.Wu(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=$j(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,nU(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new Ez(t,r,e,n)}))}function Nz(e,t,n){e=PV(e,RV);var r=PV(e.firestore,dU),i=kz(e.converter,t,n);return Mz(r,[DU(NU(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,LN.none())])}function Dz(e,t,n){e=PV(e,RV);for(var r=PV(e.firestore,dU),i=NU(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return Mz(r,[("string"==typeof(t=Tv(t))||t instanceof wU?zU(i,"updateDoc",e._key,t,n,o):UU(i,"updateDoc",e._key,t)).toMutation(e._key,LN.exists(!0))])}function Rz(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Tv(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||fU(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(fU(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof RV)l=PV(e.firestore,dU),f=JA(e._key.path),c={next:function(t){n[u]&&n[u](jz(l,e,t))},error:n[u+1],complete:n[u+2]};else{var m=PV(e,OV);l=PV(m.firestore,dU),f=m._query;var p=new Iz(l);c={next:function(e){n[u]&&n[u](new Ez(l,p,m,e))},error:n[u+1],complete:n[u+2]},tz(e._query)}return function(e,t,n,r){var i=new BV(r),a=new hF(t,i,n);return e.asyncQueue.enqueueAndForget(Lv(Pv().mark((function t(){return Pv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=aF,t.next=3,oU(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(Lv(Pv().mark((function t(){return Pv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=sF,t.next=3,oU(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(mU(l),f,h,c)}function Oz(e,t){return function(e,t){var n=new BV(t);return e.asyncQueue.enqueueAndForget(Lv(Pv().mark((function t(){return Pv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){PI(e).Ru.add(t),t.next()},t.next=3,oU(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(Lv(Pv().mark((function t(){return Pv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){PI(e).Ru.delete(t)},t.next=3,oU(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(mU(e=PV(e,dU)),fU(t)?t:{next:t})}function Mz(e,t){return function(e,t){var n=new AI;return e.asyncQueue.enqueueAndForget(Lv(Pv().mark((function r(){return Pv().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=IF,r.next=3,iU(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(mU(e),t)}function jz(e,t,n){var r=n.docs.get(t._key),i=new Iz(e);return new xz(e,i,t._key,r,new wz(n.hasPendingWrites,n.fromCache),t.converter)}var Fz={maxAttempts:5},Vz=function(){function e(t,n){Ns(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=NU(t)}return Rs(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=Uz(e,this._firestore),i=kz(r.converter,t,n),a=DU(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,LN.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=Uz(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Tv(t))||t instanceof wU?zU(this._dataReader,"WriteBatch.update",i._key,t,n,o):UU(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,LN.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=Uz(e,this._firestore);return this._mutations=this._mutations.concat(new qN(t._key,LN.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new LI(II.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function Uz(e,t){if((e=Tv(e)).firestore!==t)throw new LI(II.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var zz=function(e){Ss(n,e);var t=Ps(n);function n(e,r){var i;return Ns(this,n),(i=t.call(this,e,r))._firestore=e,i}return Rs(n,[{key:"get",value:function(e){var t=this,r=Uz(e,this._firestore),i=new Iz(this._firestore);return xs(Cs(n.prototype),"get",this).call(this,e).then((function(e){return new xz(t._firestore,i,r._key,e._document,new wz(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Ns(this,e),this._firestore=t,this._transaction=n,this._dataReader=NU(t)}return Rs(e,[{key:"get",value:function(e){var t=this,n=Uz(e,this._firestore),r=new Cz(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return EI();var i=e[0];if(i.isFoundDocument())return new ZU(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new ZU(t._firestore,r,n._key,null,n.converter);throw EI()}))}},{key:"set",value:function(e,t,n){var r=Uz(e,this._firestore),i=kz(r.converter,t,n),a=DU(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=Uz(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Tv(t))||t instanceof wU?zU(this._dataReader,"Transaction.update",i._key,t,n,o):UU(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=Uz(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function Bz(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new jU("arrayUnion",t)}function Wz(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new FU("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){_I=e}(xg),gg(new Av("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new dU(new OI(e.getProvider("auth-internal")),new VI(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new LI(II.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new SL(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Lg(gI,"3.8.0",e),Lg(gI,"3.8.0","esm2017")}();function Hz(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new LI("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function qz(){if("undefined"===typeof Uint8Array)throw new LI("unimplemented","Uint8Arrays are not available in this environment.")}function Gz(){if("undefined"==typeof atob)throw new LI("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Yz=function(){function e(t){Ns(this,e),this._delegate=t}return Rs(e,[{key:"toBase64",value:function(){return Gz(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return qz(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return Gz(),new e(CU.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return qz(),new e(CU.fromUint8Array(t))}}]),e}();function Kz(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Is(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var Qz=function(){function e(){Ns(this,e)}return Rs(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){kU(e=PV(e,dU));var n=mU(e),r=e._freezeSettings(),i=new CV;return vU(n,i,new bV(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){kU(e=PV(e,dU));var t=mU(e),n=e._freezeSettings(),r=new CV;return vU(t,r,new kV(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new LI(II.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new AI;return e._queue.enqueueAndForgetEvenWhileRestricted(Lv(Pv().mark((function n(){return Pv().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Lv(Pv().mark((function e(t){var n;return Pv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(dL.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,dL.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(gM(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),Xz=function(){function e(t,n,r){var i=this;Ns(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof SL||(this._appCompat=t)}return Rs(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||xI("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};DV(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return gU(this._delegate)}},{key:"disableNetwork",value:function(){return yU(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&xV("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new AI;return e.asyncQueue.enqueueAndForget(Lv(Pv().mark((function n(){return Pv().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=UF,n.next=3,iU(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(mU(e=PV(e,dU)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Oz(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new LI("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new lB(this,jV(this._delegate,e))}catch(yB){throw nB(yB,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new tB(this,FV(this._delegate,e))}catch(yB){throw nB(yB,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new sB(this,function(e,t){if(e=PV(e,NV),wV("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new LI(II.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new OV(e,null,function(e){return new QA(KI.emptyPath(),e)}(t))}(this._delegate,e))}catch(yB){throw nB(yB,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=PV(e,dU);var r=Object.assign(Object.assign({},Fz),n);return function(e){if(e.maxAttempts<1)throw new LI(II.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new AI;return e.asyncQueue.enqueueAndForget(Lv(Pv().mark((function i(){var a;return Pv().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,aU(e);case 2:a=i.sent,new qV(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(mU(e),(function(n){return t(new zz(e,n))}),r)}(this._delegate,(function(n){return e(new Zz(t,n))}))}},{key:"batch",value:function(){var e=this;return mU(this._delegate),new $z(new Vz(this._delegate,(function(t){return Mz(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return _U(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return bU(this._delegate,e).then((function(e){return e?new sB(t,e):null}))}}]),e}(),Jz=function(e){Ss(n,e);var t=Ps(n);function n(e){var r;return Ns(this,n),(r=t.call(this)).firestore=e,r}return Rs(n,[{key:"convertBytes",value:function(e){return new Yz(new CU(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return tB.forKey(t,this.firestore,null)}}]),n}(bz);var Zz=function(){function e(t,n){Ns(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new Jz(t)}return Rs(e,[{key:"get",value:function(e){var t=this,n=fB(e);return this._delegate.get(n).then((function(e){return new aB(t._firestore,new xz(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=fB(e);return n?(Hz("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=fB(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=fB(e);return this._delegate.delete(t),this}}]),e}(),$z=function(){function e(t){Ns(this,e),this._delegate=t}return Rs(e,[{key:"set",value:function(e,t,n){var r=fB(e);return n?(Hz("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=fB(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=fB(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),eB=function(){function e(t,n,r){Ns(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Rs(e,[{key:"fromFirestore",value:function(e,t){var n=new Sz(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new oB(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new Jz(t),n),i.set(n,a)),a}}]),e}();eB.INSTANCES=new WeakMap;var tB=function(){function e(t,n){Ns(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Jz(t)}return Rs(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new lB(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new lB(this.firestore,jV(this._delegate,e))}catch(yB){throw nB(yB,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Tv(e))instanceof RV&&VV(this._delegate,e)}},{key:"set",value:function(e,t){t=Hz("DocumentReference.set",t);try{return t?Nz(this._delegate,e,t):Nz(this._delegate,e)}catch(yB){throw nB(yB,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Dz(this._delegate,e):Dz.apply(void 0,[this._delegate,e,t].concat(r))}catch(yB){throw nB(yB,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return Mz(PV(e.firestore,dU),[new qN(e._key,LN.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=rB(n),a=iB(n,(function(t){return new aB(e.firestore,new xz(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Rz(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Lz(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=PV(e,RV);var t=PV(e.firestore,dU);return uU(mU(t),e._key,{source:"server"}).then((function(n){return jz(t,e,n)}))}(this._delegate):function(e){e=PV(e,RV);var t=PV(e.firestore,dU);return uU(mU(t),e._key).then((function(n){return jz(t,e,n)}))}(this._delegate),t.then((function(e){return new aB(n.firestore,new xz(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(eB.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new LI("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new RV(n._delegate,r,new JI(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new RV(n._delegate,r,t))}}]),e}();function nB(e,t,n){return e.message=e.message.replace(t,n),e}function rB(e){var t,n=Is(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!Kz(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function iB(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Kz(e[0])?e[0]:Kz(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var aB=function(){function e(t,n){Ns(this,e),this._firestore=t,this._delegate=n}return Rs(e,[{key:"ref",get:function(){return new tB(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Pz(this._delegate,e._delegate)}}]),e}(),oB=function(e){Ss(n,e);var t=Ps(n);function n(){return Ns(this,n),t.apply(this,arguments)}return Rs(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||EI()}(void 0!==t),t}}]),n}(aB),sB=function(){function e(t,n){Ns(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Jz(t)}return Rs(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,iz(this._delegate,function(e,t,n){var r=t,i=ez("where",e);return az._create(i,r,n)}(t,n,r)))}catch(yB){throw nB(yB,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,iz(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=ez("orderBy",e);return sz._create(n,t)}(t,n)))}catch(yB){throw nB(yB,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,iz(this._delegate,function(e){return IV("limit",e),uz._create("limit",e,"F")}(t)))}catch(yB){throw nB(yB,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,iz(this._delegate,function(e){return IV("limitToLast",e),uz._create("limitToLast",e,"L")}(t)))}catch(yB){throw nB(yB,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,iz(this._delegate,lz.apply(void 0,arguments)))}catch(yB){throw nB(yB,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,iz(this._delegate,fz.apply(void 0,arguments)))}catch(yB){throw nB(yB,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,iz(this._delegate,dz.apply(void 0,arguments)))}catch(yB){throw nB(yB,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,iz(this._delegate,mz.apply(void 0,arguments)))}catch(yB){throw nB(yB,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return UV(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Az(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=PV(e,OV);var t=PV(e.firestore,dU),n=mU(t),r=new Iz(t);return cU(n,e._query,{source:"server"}).then((function(n){return new Ez(t,r,e,n)}))}(this._delegate):function(e){e=PV(e,OV);var t=PV(e.firestore,dU),n=mU(t),r=new Iz(t);return tz(e._query),cU(n,e._query).then((function(n){return new Ez(t,r,e,n)}))}(this._delegate),t.then((function(e){return new cB(n.firestore,new Ez(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=rB(n),a=iB(n,(function(t){return new cB(e.firestore,new Ez(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Rz(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(eB.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),uB=function(){function e(t,n){Ns(this,e),this._firestore=t,this._delegate=n}return Rs(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new oB(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),cB=function(){function e(t,n){Ns(this,e),this._firestore=t,this._delegate=n}return Rs(e,[{key:"query",get:function(){return new sB(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new oB(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new uB(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new oB(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Pz(this._delegate,e._delegate)}}]),e}(),lB=function(e){Ss(n,e);var t=Ps(n);function n(e,r){var i;return Ns(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Rs(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new tB(this.firestore,e):null}},{key:"doc",value:function(e){try{return new tB(this.firestore,void 0===e?FV(this._delegate):FV(this._delegate,e))}catch(yB){throw nB(yB,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=PV(e.firestore,dU),r=FV(e),i=kz(e.converter,t);return Mz(n,[DU(NU(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,LN.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new tB(t.firestore,e)}))}},{key:"isEqual",value:function(e){return VV(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(eB.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(sB);function fB(e){return PV(e,RV)}var hB=function(){function e(){Ns(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Qp(wU,n)}return Rs(e,[{key:"isEqual",value:function(e){return(e=Tv(e))instanceof wU&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(XI.keyField().canonicalString())}}]),e}(),dB=function(){function e(t){Ns(this,e),this._delegate=t}return Rs(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new MU("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new RU("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=Bz.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=Wz.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new VU("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),mB={Firestore:Xz,GeoPoint:SU,Timestamp:qI,Blob:Yz,Transaction:Zz,WriteBatch:$z,DocumentReference:tB,DocumentSnapshot:aB,Query:sB,QueryDocumentSnapshot:oB,QuerySnapshot:cB,CollectionReference:lB,FieldPath:hB,FieldValue:dB,setLogLevel:function(e){!function(e){bI.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Av("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},mB)))}(e,(function(e,t){return new Xz(e,t,new Qz)})),e.registerVersion("@firebase/firestore-compat","0.3.0")}(ey);ey.initializeApp({apiKey:"AIzaSyD1F9w5H7WRmLzDqFvgx2B8w53Y5S_JjHk",authDomain:"graphml-ddd96.firebaseapp.com",databaseURL:"https://graphml-ddd96-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"graphml-ddd96",storageBucket:"graphml-ddd96.appspot.com",messagingSenderId:"785901839226",appId:"1:785901839226:web:6a42bc02391604b32c6cc3",measurementId:"G-XGH7GH5DPV"});var pB=ey,vB=function(){var e=Qr(),t=pB.auth().currentUser.displayName;return(0,l.jsxs)("div",{className:"App",children:[(0,l.jsx)(Jn,{handleLogout:function(){pB.auth().signOut(),e.push("/login")},userData:t}),(0,l.jsx)(us,{}),(0,l.jsxs)("main",{children:[(0,l.jsx)(Br,{exact:!0,path:"/",children:(0,l.jsx)(mp,{})}),(0,l.jsx)(Br,{path:"/senior-campaign",children:(0,l.jsx)(Ip,{})}),(0,l.jsx)(Br,{path:"/senior-product",children:(0,l.jsx)(Dp,{})}),(0,l.jsx)(Br,{path:"/senior-customer",children:(0,l.jsx)(Mp,{})}),(0,l.jsx)(Br,{path:"/what-if-scenario",children:(0,l.jsx)(Kp,{})}),(0,l.jsx)(Br,{path:"/admin",children:(0,l.jsx)(Vp,{})}),(0,l.jsx)(Br,{path:"/admin-campaign",children:(0,l.jsx)(Bp,{})}),(0,l.jsx)(Br,{path:"/admin-summary",children:(0,l.jsx)(Hp,{})}),(0,l.jsx)(Br,{path:"/admin-product",children:(0,l.jsx)(Yp,{})})]})]})};var gB=function(){var e=Qr(),t=c((0,r.useState)(""),2),n=t[0],i=t[1],a=c((0,r.useState)(""),2),o=a[0],s=a[1],u=c((0,r.useState)(""),2),h=u[0],d=u[1],m=c((0,r.useState)(""),2),p=m[0],v=m[1],g=c((0,r.useState)(""),2),y=g[0],_=g[1],b=c((0,r.useState)(""),2),k=b[0],C=b[1],w=function(){v(""),_("")},x=function(){pB.auth().onAuthStateChanged((function(e){e?(s(""),d(""),i(e)):i("")}))};return(0,r.useEffect)((function(){x()}),[]),(0,l.jsx)("div",{children:n?(0,l.jsx)(vB,{}):(0,l.jsx)(f,{email:o,setEmail:s,password:h,setPassword:d,handleLogin:function(){w(),pB.auth().signInWithEmailAndPassword(o,h).catch((function(e){switch(e.code){case"auth/invalid-email":case"auth/user-disabled":case"auth/user-not-found":v(e.message);break;case"auth/wrong-password":_(e.message)}})),e.push("/")},handleSignup:function(){w(),pB.auth().createUserWithEmailAndPassword(o,h).catch((function(e){switch(e.code){case"auth/email-already-in-use":case"auth/invalid-email":v(e.message);break;case"auth/weak-password":_(e.message)}}))},hasAccount:k,setHasAccount:C,emailError:p,passwordError:y})})};i.render((0,l.jsx)(r.StrictMode,{children:(0,l.jsx)(Xr,{children:(0,l.jsx)(gB,{})})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.520bd0ec.js.map